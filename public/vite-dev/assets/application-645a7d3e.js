var _p=Object.defineProperty;var Pp=(n,t,r)=>t in n?_p(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r;var Rt=(n,t,r)=>(Pp(n,typeof t!="symbol"?t+"":t,r),r);(function(){if(window.Reflect===void 0||window.customElements===void 0||window.customElements.polyfillWrapFlushCallback)return;const n=HTMLElement,t={HTMLElement:function(){return Reflect.construct(n,[],this.constructor)}};window.HTMLElement=t.HTMLElement,HTMLElement.prototype=n.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,n)})();(function(n){if(typeof n.requestSubmit=="function")return;n.requestSubmit=function(a){a?(t(a,this),a.click()):(a=document.createElement("input"),a.type="submit",a.hidden=!0,this.appendChild(a),a.click(),this.removeChild(a))};function t(a,u){a instanceof HTMLElement||r(TypeError,"parameter 1 is not of type 'HTMLElement'"),a.type=="submit"||r(TypeError,"The specified element is not a submit button"),a.form==u||r(DOMException,"The specified element is not owned by this form element","NotFoundError")}function r(a,u,f){throw new a("Failed to execute 'requestSubmit' on 'HTMLFormElement': "+u+".",f)}})(HTMLFormElement.prototype);const nh=new WeakMap;function Rp(n){const t=n instanceof Element?n:n instanceof Node?n.parentElement:null,r=t?t.closest("input, button"):null;return(r==null?void 0:r.type)=="submit"?r:null}function Ip(n){const t=Rp(n.target);t&&t.form&&nh.set(t.form,t)}(function(){if("submitter"in Event.prototype)return;let n=window.Event.prototype;if("SubmitEvent"in window&&/Apple Computer/.test(navigator.vendor))n=window.SubmitEvent.prototype;else if("SubmitEvent"in window)return;addEventListener("click",Ip,!0),Object.defineProperty(n,"submitter",{get(){if(this.type=="submit"&&this.target instanceof HTMLFormElement)return nh.get(this.target)}})})();var Ii;(function(n){n.eager="eager",n.lazy="lazy"})(Ii||(Ii={}));class xi extends HTMLElement{static get observedAttributes(){return["disabled","complete","loading","src"]}constructor(){super(),this.loaded=Promise.resolve(),this.delegate=new xi.delegateConstructor(this)}connectedCallback(){this.delegate.connect()}disconnectedCallback(){this.delegate.disconnect()}reload(){return this.delegate.sourceURLReloaded()}attributeChangedCallback(t){t=="loading"?this.delegate.loadingStyleChanged():t=="complete"?this.delegate.completeChanged():t=="src"?this.delegate.sourceURLChanged():this.delegate.disabledChanged()}get src(){return this.getAttribute("src")}set src(t){t?this.setAttribute("src",t):this.removeAttribute("src")}get loading(){return Np(this.getAttribute("loading")||"")}set loading(t){t?this.setAttribute("loading",t):this.removeAttribute("loading")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get autoscroll(){return this.hasAttribute("autoscroll")}set autoscroll(t){t?this.setAttribute("autoscroll",""):this.removeAttribute("autoscroll")}get complete(){return!this.delegate.isLoading}get isActive(){return this.ownerDocument===document&&!this.isPreview}get isPreview(){var t,r;return(r=(t=this.ownerDocument)===null||t===void 0?void 0:t.documentElement)===null||r===void 0?void 0:r.hasAttribute("data-turbo-preview")}}function Np(n){switch(n.toLowerCase()){case"lazy":return Ii.lazy;default:return Ii.eager}}function xt(n){return new URL(n.toString(),document.baseURI)}function nr(n){let t;if(n.hash)return n.hash.slice(1);if(t=n.href.match(/#(.*)$/))return t[1]}function Za(n,t){const r=(t==null?void 0:t.getAttribute("formaction"))||n.getAttribute("action")||n.action;return xt(r)}function jp(n){return(qp(n).match(/\.[^.]*$/)||[])[0]||""}function Hp(n){return!!jp(n).match(/^(?:|\.(?:htm|html|xhtml|php))$/)}function zp(n,t){const r=Up(t);return n.href===xt(r).href||n.href.startsWith(r)}function Pr(n,t){return zp(n,t)&&Hp(n)}function Aa(n){const t=nr(n);return t!=null?n.href.slice(0,-(t.length+1)):n.href}function hs(n){return Aa(n)}function Wp(n,t){return xt(n).href==xt(t).href}function $p(n){return n.pathname.split("/").slice(1)}function qp(n){return $p(n).slice(-1)[0]}function Up(n){return Vp(n.origin+n.pathname)}function Vp(n){return n.endsWith("/")?n:n+"/"}class Ja{constructor(t){this.response=t}get succeeded(){return this.response.ok}get failed(){return!this.succeeded}get clientError(){return this.statusCode>=400&&this.statusCode<=499}get serverError(){return this.statusCode>=500&&this.statusCode<=599}get redirected(){return this.response.redirected}get location(){return xt(this.response.url)}get isHTML(){return this.contentType&&this.contentType.match(/^(?:text\/([^\s;,]+\b)?html|application\/xhtml\+xml)\b/)}get statusCode(){return this.response.status}get contentType(){return this.header("Content-Type")}get responseText(){return this.response.clone().text()}get responseHTML(){return this.isHTML?this.response.clone().text():Promise.resolve(void 0)}header(t){return this.response.headers.get(t)}}function kn(n){if(n.getAttribute("data-turbo-eval")=="false")return n;{const t=document.createElement("script"),r=As("csp-nonce");return r&&(t.nonce=r),t.textContent=n.textContent,t.async=!1,Kp(t,n),t}}function Kp(n,t){for(const{name:r,value:a}of t.attributes)n.setAttribute(r,a)}function Gp(n){const t=document.createElement("template");return t.innerHTML=n,t.content}function yt(n,{target:t,cancelable:r,detail:a}={}){const u=new CustomEvent(n,{cancelable:r,bubbles:!0,composed:!0,detail:a});return t&&t.isConnected?t.dispatchEvent(u):document.documentElement.dispatchEvent(u),u}function vs(){return new Promise(n=>requestAnimationFrame(()=>n()))}function Xp(){return new Promise(n=>setTimeout(()=>n(),0))}function Yp(){return Promise.resolve()}function sh(n=""){return new DOMParser().parseFromString(n,"text/html")}function oh(n,...t){const r=Zp(n,t).replace(/^\n/,"").split(`
`),a=r[0].match(/^\s+/),u=a?a[0].length:0;return r.map(f=>f.slice(u)).join(`
`)}function Zp(n,t){return n.reduce((r,a,u)=>{const f=t[u]==null?"":t[u];return r+a+f},"")}function Nr(){return Array.from({length:36}).map((n,t)=>t==8||t==13||t==18||t==23?"-":t==14?"4":t==19?(Math.floor(Math.random()*4)+8).toString(16):Math.floor(Math.random()*15).toString(16)).join("")}function Ds(n,...t){for(const r of t.map(a=>a==null?void 0:a.getAttribute(n)))if(typeof r=="string")return r;return null}function Jp(n,...t){return t.some(r=>r&&r.hasAttribute(n))}function La(...n){for(const t of n)t.localName=="turbo-frame"&&t.setAttribute("busy",""),t.setAttribute("aria-busy","true")}function Fa(...n){for(const t of n)t.localName=="turbo-frame"&&t.removeAttribute("busy"),t.removeAttribute("aria-busy")}function Qp(n,t=2e3){return new Promise(r=>{const a=()=>{n.removeEventListener("error",a),n.removeEventListener("load",a),r()};n.addEventListener("load",a,{once:!0}),n.addEventListener("error",a,{once:!0}),setTimeout(r,t)})}function ah(n){switch(n){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}function eg(n){return n=="advance"||n=="replace"||n=="restore"}function js(...n){const t=Ds("data-turbo-action",...n);return eg(t)?t:null}function lh(n){return document.querySelector(`meta[name="${n}"]`)}function As(n){const t=lh(n);return t&&t.content}function tg(n,t){let r=lh(n);return r||(r=document.createElement("meta"),r.setAttribute("name",n),document.head.appendChild(r)),r.setAttribute("content",t),r}function Ls(n,t){var r;if(n instanceof Element)return n.closest(t)||Ls(n.assignedSlot||((r=n.getRootNode())===null||r===void 0?void 0:r.host),t)}var Bt;(function(n){n[n.get=0]="get",n[n.post=1]="post",n[n.put=2]="put",n[n.patch=3]="patch",n[n.delete=4]="delete"})(Bt||(Bt={}));function ig(n){switch(n.toLowerCase()){case"get":return Bt.get;case"post":return Bt.post;case"put":return Bt.put;case"patch":return Bt.patch;case"delete":return Bt.delete}}class Qa{constructor(t,r,a,u=new URLSearchParams,f=null){this.abortController=new AbortController,this.resolveRequestPromise=d=>{},this.delegate=t,this.method=r,this.headers=this.defaultHeaders,this.body=u,this.url=a,this.target=f}get location(){return this.url}get params(){return this.url.searchParams}get entries(){return this.body?Array.from(this.body.entries()):[]}cancel(){this.abortController.abort()}async perform(){const{fetchOptions:t}=this;this.delegate.prepareRequest(this),await this.allowRequestToBeIntercepted(t);try{this.delegate.requestStarted(this);const r=await fetch(this.url.href,t);return await this.receive(r)}catch(r){if(r.name!=="AbortError")throw this.willDelegateErrorHandling(r)&&this.delegate.requestErrored(this,r),r}finally{this.delegate.requestFinished(this)}}async receive(t){const r=new Ja(t);return yt("turbo:before-fetch-response",{cancelable:!0,detail:{fetchResponse:r},target:this.target}).defaultPrevented?this.delegate.requestPreventedHandlingResponse(this,r):r.succeeded?this.delegate.requestSucceededWithResponse(this,r):this.delegate.requestFailedWithResponse(this,r),r}get fetchOptions(){var t;return{method:Bt[this.method].toUpperCase(),credentials:"same-origin",headers:this.headers,redirect:"follow",body:this.isSafe?null:this.body,signal:this.abortSignal,referrer:(t=this.delegate.referrer)===null||t===void 0?void 0:t.href}}get defaultHeaders(){return{Accept:"text/html, application/xhtml+xml"}}get isSafe(){return this.method===Bt.get}get abortSignal(){return this.abortController.signal}acceptResponseType(t){this.headers.Accept=[t,this.headers.Accept].join(", ")}async allowRequestToBeIntercepted(t){const r=new Promise(u=>this.resolveRequestPromise=u);yt("turbo:before-fetch-request",{cancelable:!0,detail:{fetchOptions:t,url:this.url,resume:this.resolveRequestPromise},target:this.target}).defaultPrevented&&await r}willDelegateErrorHandling(t){return!yt("turbo:fetch-request-error",{target:this.target,cancelable:!0,detail:{request:this,error:t}}).defaultPrevented}}class rg{constructor(t,r){this.started=!1,this.intersect=a=>{const u=a.slice(-1)[0];u!=null&&u.isIntersecting&&this.delegate.elementAppearedInViewport(this.element)},this.delegate=t,this.element=r,this.intersectionObserver=new IntersectionObserver(this.intersect)}start(){this.started||(this.started=!0,this.intersectionObserver.observe(this.element))}stop(){this.started&&(this.started=!1,this.intersectionObserver.unobserve(this.element))}}class ur{static wrap(t){return typeof t=="string"?new this(Gp(t)):t}constructor(t){this.fragment=ng(t)}}ur.contentType="text/vnd.turbo-stream.html";function ng(n){for(const t of n.querySelectorAll("turbo-stream")){const r=document.importNode(t,!0);for(const a of r.templateElement.content.querySelectorAll("script"))a.replaceWith(kn(a));t.replaceWith(r)}return n}var Pi;(function(n){n[n.initialized=0]="initialized",n[n.requesting=1]="requesting",n[n.waiting=2]="waiting",n[n.receiving=3]="receiving",n[n.stopping=4]="stopping",n[n.stopped=5]="stopped"})(Pi||(Pi={}));var Ri;(function(n){n.urlEncoded="application/x-www-form-urlencoded",n.multipart="multipart/form-data",n.plain="text/plain"})(Ri||(Ri={}));function sg(n){switch(n.toLowerCase()){case Ri.multipart:return Ri.multipart;case Ri.plain:return Ri.plain;default:return Ri.urlEncoded}}class Ln{static confirmMethod(t,r,a){return Promise.resolve(confirm(t))}constructor(t,r,a,u=!1){this.state=Pi.initialized,this.delegate=t,this.formElement=r,this.submitter=a,this.formData=og(r,a),this.location=xt(this.action),this.method==Bt.get&&ug(this.location,[...this.body.entries()]),this.fetchRequest=new Qa(this,this.method,this.location,this.body,this.formElement),this.mustRedirect=u}get method(){var t;const r=((t=this.submitter)===null||t===void 0?void 0:t.getAttribute("formmethod"))||this.formElement.getAttribute("method")||"";return ig(r.toLowerCase())||Bt.get}get action(){var t;const r=typeof this.formElement.action=="string"?this.formElement.action:null;return!((t=this.submitter)===null||t===void 0)&&t.hasAttribute("formaction")?this.submitter.getAttribute("formaction")||"":this.formElement.getAttribute("action")||r||""}get body(){return this.enctype==Ri.urlEncoded||this.method==Bt.get?new URLSearchParams(this.stringFormData):this.formData}get enctype(){var t;return sg(((t=this.submitter)===null||t===void 0?void 0:t.getAttribute("formenctype"))||this.formElement.enctype)}get isSafe(){return this.fetchRequest.isSafe}get stringFormData(){return[...this.formData].reduce((t,[r,a])=>t.concat(typeof a=="string"?[[r,a]]:[]),[])}async start(){const{initialized:t,requesting:r}=Pi,a=Ds("data-turbo-confirm",this.submitter,this.formElement);if(!(typeof a=="string"&&!await Ln.confirmMethod(a,this.formElement,this.submitter))&&this.state==t)return this.state=r,this.fetchRequest.perform()}stop(){const{stopping:t,stopped:r}=Pi;if(this.state!=t&&this.state!=r)return this.state=t,this.fetchRequest.cancel(),!0}prepareRequest(t){if(!t.isSafe){const r=ag(As("csrf-param"))||As("csrf-token");r&&(t.headers["X-CSRF-Token"]=r)}this.requestAcceptsTurboStreamResponse(t)&&t.acceptResponseType(ur.contentType)}requestStarted(t){var r;this.state=Pi.waiting,(r=this.submitter)===null||r===void 0||r.setAttribute("disabled",""),this.setSubmitsWith(),yt("turbo:submit-start",{target:this.formElement,detail:{formSubmission:this}}),this.delegate.formSubmissionStarted(this)}requestPreventedHandlingResponse(t,r){this.result={success:r.succeeded,fetchResponse:r}}requestSucceededWithResponse(t,r){if(r.clientError||r.serverError)this.delegate.formSubmissionFailedWithResponse(this,r);else if(this.requestMustRedirect(t)&&lg(r)){const a=new Error("Form responses must redirect to another location");this.delegate.formSubmissionErrored(this,a)}else this.state=Pi.receiving,this.result={success:!0,fetchResponse:r},this.delegate.formSubmissionSucceededWithResponse(this,r)}requestFailedWithResponse(t,r){this.result={success:!1,fetchResponse:r},this.delegate.formSubmissionFailedWithResponse(this,r)}requestErrored(t,r){this.result={success:!1,error:r},this.delegate.formSubmissionErrored(this,r)}requestFinished(t){var r;this.state=Pi.stopped,(r=this.submitter)===null||r===void 0||r.removeAttribute("disabled"),this.resetSubmitterText(),yt("turbo:submit-end",{target:this.formElement,detail:Object.assign({formSubmission:this},this.result)}),this.delegate.formSubmissionFinished(this)}setSubmitsWith(){if(!(!this.submitter||!this.submitsWith)){if(this.submitter.matches("button"))this.originalSubmitText=this.submitter.innerHTML,this.submitter.innerHTML=this.submitsWith;else if(this.submitter.matches("input")){const t=this.submitter;this.originalSubmitText=t.value,t.value=this.submitsWith}}}resetSubmitterText(){if(!(!this.submitter||!this.originalSubmitText)){if(this.submitter.matches("button"))this.submitter.innerHTML=this.originalSubmitText;else if(this.submitter.matches("input")){const t=this.submitter;t.value=this.originalSubmitText}}}requestMustRedirect(t){return!t.isSafe&&this.mustRedirect}requestAcceptsTurboStreamResponse(t){return!t.isSafe||Jp("data-turbo-stream",this.submitter,this.formElement)}get submitsWith(){var t;return(t=this.submitter)===null||t===void 0?void 0:t.getAttribute("data-turbo-submits-with")}}function og(n,t){const r=new FormData(n),a=t==null?void 0:t.getAttribute("name"),u=t==null?void 0:t.getAttribute("value");return a&&r.append(a,u||""),r}function ag(n){if(n!=null){const r=(document.cookie?document.cookie.split("; "):[]).find(a=>a.startsWith(n));if(r){const a=r.split("=").slice(1).join("=");return a?decodeURIComponent(a):void 0}}}function lg(n){return n.statusCode==200&&!n.redirected}function ug(n,t){const r=new URLSearchParams;for(const[a,u]of t)u instanceof File||r.append(a,u);return n.search=r.toString(),n}class Hs{constructor(t){this.element=t}get activeElement(){return this.element.ownerDocument.activeElement}get children(){return[...this.element.children]}hasAnchor(t){return this.getElementForAnchor(t)!=null}getElementForAnchor(t){return t?this.element.querySelector(`[id='${t}'], a[name='${t}']`):null}get isConnected(){return this.element.isConnected}get firstAutofocusableElement(){const t="[inert], :disabled, [hidden], details:not([open]), dialog:not([open])";for(const r of this.element.querySelectorAll("[autofocus]"))if(r.closest(t)==null)return r;return null}get permanentElements(){return ch(this.element)}getPermanentElementById(t){return uh(this.element,t)}getPermanentElementMapForSnapshot(t){const r={};for(const a of this.permanentElements){const{id:u}=a,f=t.getPermanentElementById(u);f&&(r[u]=[a,f])}return r}}function uh(n,t){return n.querySelector(`#${t}[data-turbo-permanent]`)}function ch(n){return n.querySelectorAll("[id][data-turbo-permanent]")}class el{constructor(t,r){this.started=!1,this.submitCaptured=()=>{this.eventTarget.removeEventListener("submit",this.submitBubbled,!1),this.eventTarget.addEventListener("submit",this.submitBubbled,!1)},this.submitBubbled=a=>{if(!a.defaultPrevented){const u=a.target instanceof HTMLFormElement?a.target:void 0,f=a.submitter||void 0;u&&cg(u,f)&&hg(u,f)&&this.delegate.willSubmitForm(u,f)&&(a.preventDefault(),a.stopImmediatePropagation(),this.delegate.formSubmitted(u,f))}},this.delegate=t,this.eventTarget=r}start(){this.started||(this.eventTarget.addEventListener("submit",this.submitCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("submit",this.submitCaptured,!0),this.started=!1)}}function cg(n,t){return((t==null?void 0:t.getAttribute("formmethod"))||n.getAttribute("method"))!="dialog"}function hg(n,t){if(t!=null&&t.hasAttribute("formtarget")||n.hasAttribute("target")){const r=(t==null?void 0:t.getAttribute("formtarget"))||n.target;for(const a of document.getElementsByName(r))if(a instanceof HTMLIFrameElement)return!1;return!0}else return!0}class hh{constructor(t,r){this.resolveRenderPromise=a=>{},this.resolveInterceptionPromise=a=>{},this.delegate=t,this.element=r}scrollToAnchor(t){const r=this.snapshot.getElementForAnchor(t);r?(this.scrollToElement(r),this.focusElement(r)):this.scrollToPosition({x:0,y:0})}scrollToAnchorFromLocation(t){this.scrollToAnchor(nr(t))}scrollToElement(t){t.scrollIntoView()}focusElement(t){t instanceof HTMLElement&&(t.hasAttribute("tabindex")?t.focus():(t.setAttribute("tabindex","-1"),t.focus(),t.removeAttribute("tabindex")))}scrollToPosition({x:t,y:r}){this.scrollRoot.scrollTo(t,r)}scrollToTop(){this.scrollToPosition({x:0,y:0})}get scrollRoot(){return window}async render(t){const{isPreview:r,shouldRender:a,newSnapshot:u}=t;if(a)try{this.renderPromise=new Promise(y=>this.resolveRenderPromise=y),this.renderer=t,await this.prepareToRenderSnapshot(t);const f=new Promise(y=>this.resolveInterceptionPromise=y),d={resume:this.resolveInterceptionPromise,render:this.renderer.renderElement};this.delegate.allowsImmediateRender(u,d)||await f,await this.renderSnapshot(t),this.delegate.viewRenderedSnapshot(u,r),this.delegate.preloadOnLoadLinksForView(this.element),this.finishRenderingSnapshot(t)}finally{delete this.renderer,this.resolveRenderPromise(void 0),delete this.renderPromise}else this.invalidate(t.reloadReason)}invalidate(t){this.delegate.viewInvalidated(t)}async prepareToRenderSnapshot(t){this.markAsPreview(t.isPreview),await t.prepareToRender()}markAsPreview(t){t?this.element.setAttribute("data-turbo-preview",""):this.element.removeAttribute("data-turbo-preview")}async renderSnapshot(t){await t.render()}finishRenderingSnapshot(t){t.finishRendering()}}class dg extends hh{missing(){this.element.innerHTML='<strong class="turbo-frame-error">Content missing</strong>'}get snapshot(){return new Hs(this.element)}}class dh{constructor(t,r){this.clickBubbled=a=>{this.respondsToEventTarget(a.target)?this.clickEvent=a:delete this.clickEvent},this.linkClicked=a=>{this.clickEvent&&this.respondsToEventTarget(a.target)&&a.target instanceof Element&&this.delegate.shouldInterceptLinkClick(a.target,a.detail.url,a.detail.originalEvent)&&(this.clickEvent.preventDefault(),a.preventDefault(),this.delegate.linkClickIntercepted(a.target,a.detail.url,a.detail.originalEvent)),delete this.clickEvent},this.willVisit=a=>{delete this.clickEvent},this.delegate=t,this.element=r}start(){this.element.addEventListener("click",this.clickBubbled),document.addEventListener("turbo:click",this.linkClicked),document.addEventListener("turbo:before-visit",this.willVisit)}stop(){this.element.removeEventListener("click",this.clickBubbled),document.removeEventListener("turbo:click",this.linkClicked),document.removeEventListener("turbo:before-visit",this.willVisit)}respondsToEventTarget(t){const r=t instanceof Element?t:t instanceof Node?t.parentElement:null;return r&&r.closest("turbo-frame, html")==this.element}}class fh{constructor(t,r){this.started=!1,this.clickCaptured=()=>{this.eventTarget.removeEventListener("click",this.clickBubbled,!1),this.eventTarget.addEventListener("click",this.clickBubbled,!1)},this.clickBubbled=a=>{if(a instanceof MouseEvent&&this.clickEventIsSignificant(a)){const u=a.composedPath&&a.composedPath()[0]||a.target,f=this.findLinkFromClickTarget(u);if(f&&fg(f)){const d=this.getLocationForLink(f);this.delegate.willFollowLinkToLocation(f,d,a)&&(a.preventDefault(),this.delegate.followedLinkToLocation(f,d))}}},this.delegate=t,this.eventTarget=r}start(){this.started||(this.eventTarget.addEventListener("click",this.clickCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("click",this.clickCaptured,!0),this.started=!1)}clickEventIsSignificant(t){return!(t.target&&t.target.isContentEditable||t.defaultPrevented||t.which>1||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)}findLinkFromClickTarget(t){return Ls(t,"a[href]:not([target^=_]):not([download])")}getLocationForLink(t){return xt(t.getAttribute("href")||"")}}function fg(n){if(n.hasAttribute("target")){for(const t of document.getElementsByName(n.target))if(t instanceof HTMLIFrameElement)return!1;return!0}else return!0}class ph{constructor(t,r){this.delegate=t,this.linkInterceptor=new fh(this,r)}start(){this.linkInterceptor.start()}stop(){this.linkInterceptor.stop()}willFollowLinkToLocation(t,r,a){return this.delegate.willSubmitFormLinkToLocation(t,r,a)&&t.hasAttribute("data-turbo-method")}followedLinkToLocation(t,r){const a=document.createElement("form"),u="hidden";for(const[M,_]of r.searchParams)a.append(Object.assign(document.createElement("input"),{type:u,name:M,value:_}));const f=Object.assign(r,{search:""});a.setAttribute("data-turbo","true"),a.setAttribute("action",f.href),a.setAttribute("hidden","");const d=t.getAttribute("data-turbo-method");d&&a.setAttribute("method",d);const m=t.getAttribute("data-turbo-frame");m&&a.setAttribute("data-turbo-frame",m);const y=js(t);y&&a.setAttribute("data-turbo-action",y);const E=t.getAttribute("data-turbo-confirm");E&&a.setAttribute("data-turbo-confirm",E),t.hasAttribute("data-turbo-stream")&&a.setAttribute("data-turbo-stream",""),this.delegate.submittedFormLinkToLocation(t,r,a),document.body.appendChild(a),a.addEventListener("turbo:submit-end",()=>a.remove(),{once:!0}),requestAnimationFrame(()=>a.requestSubmit())}}class gh{static async preservingPermanentElements(t,r,a){const u=new this(t,r);u.enter(),await a(),u.leave()}constructor(t,r){this.delegate=t,this.permanentElementMap=r}enter(){for(const t in this.permanentElementMap){const[r,a]=this.permanentElementMap[t];this.delegate.enteringBardo(r,a),this.replaceNewPermanentElementWithPlaceholder(a)}}leave(){for(const t in this.permanentElementMap){const[r]=this.permanentElementMap[t];this.replaceCurrentPermanentElementWithClone(r),this.replacePlaceholderWithPermanentElement(r),this.delegate.leavingBardo(r)}}replaceNewPermanentElementWithPlaceholder(t){const r=pg(t);t.replaceWith(r)}replaceCurrentPermanentElementWithClone(t){const r=t.cloneNode(!0);t.replaceWith(r)}replacePlaceholderWithPermanentElement(t){const r=this.getPlaceholderById(t.id);r==null||r.replaceWith(t)}getPlaceholderById(t){return this.placeholders.find(r=>r.content==t)}get placeholders(){return[...document.querySelectorAll("meta[name=turbo-permanent-placeholder][content]")]}}function pg(n){const t=document.createElement("meta");return t.setAttribute("name","turbo-permanent-placeholder"),t.setAttribute("content",n.id),t}class tl{constructor(t,r,a,u,f=!0){this.activeElement=null,this.currentSnapshot=t,this.newSnapshot=r,this.isPreview=u,this.willRender=f,this.renderElement=a,this.promise=new Promise((d,m)=>this.resolvingFunctions={resolve:d,reject:m})}get shouldRender(){return!0}get reloadReason(){}prepareToRender(){}finishRendering(){this.resolvingFunctions&&(this.resolvingFunctions.resolve(),delete this.resolvingFunctions)}async preservingPermanentElements(t){await gh.preservingPermanentElements(this,this.permanentElementMap,t)}focusFirstAutofocusableElement(){const t=this.connectedSnapshot.firstAutofocusableElement;gg(t)&&t.focus()}enteringBardo(t){this.activeElement||t.contains(this.currentSnapshot.activeElement)&&(this.activeElement=this.currentSnapshot.activeElement)}leavingBardo(t){t.contains(this.activeElement)&&this.activeElement instanceof HTMLElement&&(this.activeElement.focus(),this.activeElement=null)}get connectedSnapshot(){return this.newSnapshot.isConnected?this.newSnapshot:this.currentSnapshot}get currentElement(){return this.currentSnapshot.element}get newElement(){return this.newSnapshot.element}get permanentElementMap(){return this.currentSnapshot.getPermanentElementMapForSnapshot(this.newSnapshot)}}function gg(n){return n&&typeof n.focus=="function"}class Ta extends tl{static renderElement(t,r){var a;const u=document.createRange();u.selectNodeContents(t),u.deleteContents();const f=r,d=(a=f.ownerDocument)===null||a===void 0?void 0:a.createRange();d&&(d.selectNodeContents(f),t.appendChild(d.extractContents()))}constructor(t,r,a,u,f,d=!0){super(r,a,u,f,d),this.delegate=t}get shouldRender(){return!0}async render(){await vs(),this.preservingPermanentElements(()=>{this.loadFrameElement()}),this.scrollFrameIntoView(),await vs(),this.focusFirstAutofocusableElement(),await vs(),this.activateScriptElements()}loadFrameElement(){this.delegate.willRenderFrame(this.currentElement,this.newElement),this.renderElement(this.currentElement,this.newElement)}scrollFrameIntoView(){if(this.currentElement.autoscroll||this.newElement.autoscroll){const t=this.currentElement.firstElementChild,r=mg(this.currentElement.getAttribute("data-autoscroll-block"),"end"),a=vg(this.currentElement.getAttribute("data-autoscroll-behavior"),"auto");if(t)return t.scrollIntoView({block:r,behavior:a}),!0}return!1}activateScriptElements(){for(const t of this.newScriptElements){const r=kn(t);t.replaceWith(r)}}get newScriptElements(){return this.currentElement.querySelectorAll("script")}}function mg(n,t){return n=="end"||n=="start"||n=="center"||n=="nearest"?n:t}function vg(n,t){return n=="auto"||n=="smooth"?n:t}class mi{static get defaultCSS(){return oh`
      .turbo-progress-bar {
        position: fixed;
        display: block;
        top: 0;
        left: 0;
        height: 3px;
        background: #0076ff;
        z-index: 2147483647;
        transition:
          width ${mi.animationDuration}ms ease-out,
          opacity ${mi.animationDuration/2}ms ${mi.animationDuration/2}ms ease-in;
        transform: translate3d(0, 0, 0);
      }
    `}constructor(){this.hiding=!1,this.value=0,this.visible=!1,this.trickle=()=>{this.setValue(this.value+Math.random()/100)},this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement(),this.installStylesheetElement(),this.setValue(0)}show(){this.visible||(this.visible=!0,this.installProgressElement(),this.startTrickling())}hide(){this.visible&&!this.hiding&&(this.hiding=!0,this.fadeProgressElement(()=>{this.uninstallProgressElement(),this.stopTrickling(),this.visible=!1,this.hiding=!1}))}setValue(t){this.value=t,this.refresh()}installStylesheetElement(){document.head.insertBefore(this.stylesheetElement,document.head.firstChild)}installProgressElement(){this.progressElement.style.width="0",this.progressElement.style.opacity="1",document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()}fadeProgressElement(t){this.progressElement.style.opacity="0",setTimeout(t,mi.animationDuration*1.5)}uninstallProgressElement(){this.progressElement.parentNode&&document.documentElement.removeChild(this.progressElement)}startTrickling(){this.trickleInterval||(this.trickleInterval=window.setInterval(this.trickle,mi.animationDuration))}stopTrickling(){window.clearInterval(this.trickleInterval),delete this.trickleInterval}refresh(){requestAnimationFrame(()=>{this.progressElement.style.width=`${10+this.value*90}%`})}createStylesheetElement(){const t=document.createElement("style");return t.type="text/css",t.textContent=mi.defaultCSS,this.cspNonce&&(t.nonce=this.cspNonce),t}createProgressElement(){const t=document.createElement("div");return t.className="turbo-progress-bar",t}get cspNonce(){return As("csp-nonce")}}mi.animationDuration=300;class yg extends Hs{constructor(){super(...arguments),this.detailsByOuterHTML=this.children.filter(t=>!Cg(t)).map(t=>Eg(t)).reduce((t,r)=>{const{outerHTML:a}=r,u=a in t?t[a]:{type:bg(r),tracked:wg(r),elements:[]};return Object.assign(Object.assign({},t),{[a]:Object.assign(Object.assign({},u),{elements:[...u.elements,r]})})},{})}get trackedElementSignature(){return Object.keys(this.detailsByOuterHTML).filter(t=>this.detailsByOuterHTML[t].tracked).join("")}getScriptElementsNotInSnapshot(t){return this.getElementsMatchingTypeNotInSnapshot("script",t)}getStylesheetElementsNotInSnapshot(t){return this.getElementsMatchingTypeNotInSnapshot("stylesheet",t)}getElementsMatchingTypeNotInSnapshot(t,r){return Object.keys(this.detailsByOuterHTML).filter(a=>!(a in r.detailsByOuterHTML)).map(a=>this.detailsByOuterHTML[a]).filter(({type:a})=>a==t).map(({elements:[a]})=>a)}get provisionalElements(){return Object.keys(this.detailsByOuterHTML).reduce((t,r)=>{const{type:a,tracked:u,elements:f}=this.detailsByOuterHTML[r];return a==null&&!u?[...t,...f]:f.length>1?[...t,...f.slice(1)]:t},[])}getMetaValue(t){const r=this.findMetaElementByName(t);return r?r.getAttribute("content"):null}findMetaElementByName(t){return Object.keys(this.detailsByOuterHTML).reduce((r,a)=>{const{elements:[u]}=this.detailsByOuterHTML[a];return Sg(u,t)?u:r},void 0)}}function bg(n){if(xg(n))return"script";if(kg(n))return"stylesheet"}function wg(n){return n.getAttribute("data-turbo-track")=="reload"}function xg(n){return n.localName=="script"}function Cg(n){return n.localName=="noscript"}function kg(n){const t=n.localName;return t=="style"||t=="link"&&n.getAttribute("rel")=="stylesheet"}function Sg(n,t){return n.localName=="meta"&&n.getAttribute("name")==t}function Eg(n){return n.hasAttribute("nonce")&&n.setAttribute("nonce",""),n}class Zt extends Hs{static fromHTMLString(t=""){return this.fromDocument(sh(t))}static fromElement(t){return this.fromDocument(t.ownerDocument)}static fromDocument({head:t,body:r}){return new this(r,new yg(t))}constructor(t,r){super(t),this.headSnapshot=r}clone(){const t=this.element.cloneNode(!0),r=this.element.querySelectorAll("select"),a=t.querySelectorAll("select");for(const[u,f]of r.entries()){const d=a[u];for(const m of d.selectedOptions)m.selected=!1;for(const m of f.selectedOptions)d.options[m.index].selected=!0}for(const u of t.querySelectorAll('input[type="password"]'))u.value="";return new Zt(t,this.headSnapshot)}get headElement(){return this.headSnapshot.element}get rootLocation(){var t;const r=(t=this.getSetting("root"))!==null&&t!==void 0?t:"/";return xt(r)}get cacheControlValue(){return this.getSetting("cache-control")}get isPreviewable(){return this.cacheControlValue!="no-preview"}get isCacheable(){return this.cacheControlValue!="no-cache"}get isVisitable(){return this.getSetting("visit-control")!="reload"}getSetting(t){return this.headSnapshot.getMetaValue(`turbo-${t}`)}}var Or;(function(n){n.visitStart="visitStart",n.requestStart="requestStart",n.requestEnd="requestEnd",n.visitEnd="visitEnd"})(Or||(Or={}));var Xt;(function(n){n.initialized="initialized",n.started="started",n.canceled="canceled",n.failed="failed",n.completed="completed"})(Xt||(Xt={}));const Dg={action:"advance",historyChanged:!1,visitCachedSnapshot:()=>{},willRender:!0,updateHistory:!0,shouldCacheSnapshot:!0,acceptsStreamResponse:!1};var Ni;(function(n){n[n.networkFailure=0]="networkFailure",n[n.timeoutFailure=-1]="timeoutFailure",n[n.contentTypeMismatch=-2]="contentTypeMismatch"})(Ni||(Ni={}));class Ag{constructor(t,r,a,u={}){this.identifier=Nr(),this.timingMetrics={},this.followedRedirect=!1,this.historyChanged=!1,this.scrolled=!1,this.shouldCacheSnapshot=!0,this.acceptsStreamResponse=!1,this.snapshotCached=!1,this.state=Xt.initialized,this.delegate=t,this.location=r,this.restorationIdentifier=a||Nr();const{action:f,historyChanged:d,referrer:m,snapshot:y,snapshotHTML:E,response:B,visitCachedSnapshot:M,willRender:_,updateHistory:W,shouldCacheSnapshot:U,acceptsStreamResponse:X}=Object.assign(Object.assign({},Dg),u);this.action=f,this.historyChanged=d,this.referrer=m,this.snapshot=y,this.snapshotHTML=E,this.response=B,this.isSamePage=this.delegate.locationWithActionIsSamePage(this.location,this.action),this.visitCachedSnapshot=M,this.willRender=_,this.updateHistory=W,this.scrolled=!_,this.shouldCacheSnapshot=U,this.acceptsStreamResponse=X}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}get restorationData(){return this.history.getRestorationDataForIdentifier(this.restorationIdentifier)}get silent(){return this.isSamePage}start(){this.state==Xt.initialized&&(this.recordTimingMetric(Or.visitStart),this.state=Xt.started,this.adapter.visitStarted(this),this.delegate.visitStarted(this))}cancel(){this.state==Xt.started&&(this.request&&this.request.cancel(),this.cancelRender(),this.state=Xt.canceled)}complete(){this.state==Xt.started&&(this.recordTimingMetric(Or.visitEnd),this.state=Xt.completed,this.followRedirect(),this.followedRedirect||(this.adapter.visitCompleted(this),this.delegate.visitCompleted(this)))}fail(){this.state==Xt.started&&(this.state=Xt.failed,this.adapter.visitFailed(this))}changeHistory(){var t;if(!this.historyChanged&&this.updateHistory){const r=this.location.href===((t=this.referrer)===null||t===void 0?void 0:t.href)?"replace":this.action,a=ah(r);this.history.update(a,this.location,this.restorationIdentifier),this.historyChanged=!0}}issueRequest(){this.hasPreloadedResponse()?this.simulateRequest():this.shouldIssueRequest()&&!this.request&&(this.request=new Qa(this,Bt.get,this.location),this.request.perform())}simulateRequest(){this.response&&(this.startRequest(),this.recordResponse(),this.finishRequest())}startRequest(){this.recordTimingMetric(Or.requestStart),this.adapter.visitRequestStarted(this)}recordResponse(t=this.response){if(this.response=t,t){const{statusCode:r}=t;vc(r)?this.adapter.visitRequestCompleted(this):this.adapter.visitRequestFailedWithStatusCode(this,r)}}finishRequest(){this.recordTimingMetric(Or.requestEnd),this.adapter.visitRequestFinished(this)}loadResponse(){if(this.response){const{statusCode:t,responseHTML:r}=this.response;this.render(async()=>{this.shouldCacheSnapshot&&this.cacheSnapshot(),this.view.renderPromise&&await this.view.renderPromise,vc(t)&&r!=null?(await this.view.renderPage(Zt.fromHTMLString(r),!1,this.willRender,this),this.performScroll(),this.adapter.visitRendered(this),this.complete()):(await this.view.renderError(Zt.fromHTMLString(r),this),this.adapter.visitRendered(this),this.fail())})}}getCachedSnapshot(){const t=this.view.getCachedSnapshotForLocation(this.location)||this.getPreloadedSnapshot();if(t&&(!nr(this.location)||t.hasAnchor(nr(this.location)))&&(this.action=="restore"||t.isPreviewable))return t}getPreloadedSnapshot(){if(this.snapshotHTML)return Zt.fromHTMLString(this.snapshotHTML)}hasCachedSnapshot(){return this.getCachedSnapshot()!=null}loadCachedSnapshot(){const t=this.getCachedSnapshot();if(t){const r=this.shouldIssueRequest();this.render(async()=>{this.cacheSnapshot(),this.isSamePage?this.adapter.visitRendered(this):(this.view.renderPromise&&await this.view.renderPromise,await this.view.renderPage(t,r,this.willRender,this),this.performScroll(),this.adapter.visitRendered(this),r||this.complete())})}}followRedirect(){var t;this.redirectedToLocation&&!this.followedRedirect&&(!((t=this.response)===null||t===void 0)&&t.redirected)&&(this.adapter.visitProposedToLocation(this.redirectedToLocation,{action:"replace",response:this.response,shouldCacheSnapshot:!1,willRender:!1}),this.followedRedirect=!0)}goToSamePageAnchor(){this.isSamePage&&this.render(async()=>{this.cacheSnapshot(),this.performScroll(),this.changeHistory(),this.adapter.visitRendered(this)})}prepareRequest(t){this.acceptsStreamResponse&&t.acceptResponseType(ur.contentType)}requestStarted(){this.startRequest()}requestPreventedHandlingResponse(t,r){}async requestSucceededWithResponse(t,r){const a=await r.responseHTML,{redirected:u,statusCode:f}=r;a==null?this.recordResponse({statusCode:Ni.contentTypeMismatch,redirected:u}):(this.redirectedToLocation=r.redirected?r.location:void 0,this.recordResponse({statusCode:f,responseHTML:a,redirected:u}))}async requestFailedWithResponse(t,r){const a=await r.responseHTML,{redirected:u,statusCode:f}=r;a==null?this.recordResponse({statusCode:Ni.contentTypeMismatch,redirected:u}):this.recordResponse({statusCode:f,responseHTML:a,redirected:u})}requestErrored(t,r){this.recordResponse({statusCode:Ni.networkFailure,redirected:!1})}requestFinished(){this.finishRequest()}performScroll(){!this.scrolled&&!this.view.forceReloaded&&(this.action=="restore"?this.scrollToRestoredPosition()||this.scrollToAnchor()||this.view.scrollToTop():this.scrollToAnchor()||this.view.scrollToTop(),this.isSamePage&&this.delegate.visitScrolledToSamePageLocation(this.view.lastRenderedLocation,this.location),this.scrolled=!0)}scrollToRestoredPosition(){const{scrollPosition:t}=this.restorationData;if(t)return this.view.scrollToPosition(t),!0}scrollToAnchor(){const t=nr(this.location);if(t!=null)return this.view.scrollToAnchor(t),!0}recordTimingMetric(t){this.timingMetrics[t]=new Date().getTime()}getTimingMetrics(){return Object.assign({},this.timingMetrics)}getHistoryMethodForAction(t){switch(t){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}hasPreloadedResponse(){return typeof this.response=="object"}shouldIssueRequest(){return this.isSamePage?!1:this.action=="restore"?!this.hasCachedSnapshot():this.willRender}cacheSnapshot(){this.snapshotCached||(this.view.cacheSnapshot(this.snapshot).then(t=>t&&this.visitCachedSnapshot(t)),this.snapshotCached=!0)}async render(t){this.cancelRender(),await new Promise(r=>{this.frame=requestAnimationFrame(()=>r())}),await t(),delete this.frame}cancelRender(){this.frame&&(cancelAnimationFrame(this.frame),delete this.frame)}}function vc(n){return n>=200&&n<300}class Lg{constructor(t){this.progressBar=new mi,this.showProgressBar=()=>{this.progressBar.show()},this.session=t}visitProposedToLocation(t,r){this.navigator.startVisit(t,(r==null?void 0:r.restorationIdentifier)||Nr(),r)}visitStarted(t){this.location=t.location,t.loadCachedSnapshot(),t.issueRequest(),t.goToSamePageAnchor()}visitRequestStarted(t){this.progressBar.setValue(0),t.hasCachedSnapshot()||t.action!="restore"?this.showVisitProgressBarAfterDelay():this.showProgressBar()}visitRequestCompleted(t){t.loadResponse()}visitRequestFailedWithStatusCode(t,r){switch(r){case Ni.networkFailure:case Ni.timeoutFailure:case Ni.contentTypeMismatch:return this.reload({reason:"request_failed",context:{statusCode:r}});default:return t.loadResponse()}}visitRequestFinished(t){this.progressBar.setValue(1),this.hideVisitProgressBar()}visitCompleted(t){}pageInvalidated(t){this.reload(t)}visitFailed(t){}visitRendered(t){}formSubmissionStarted(t){this.progressBar.setValue(0),this.showFormProgressBarAfterDelay()}formSubmissionFinished(t){this.progressBar.setValue(1),this.hideFormProgressBar()}showVisitProgressBarAfterDelay(){this.visitProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay)}hideVisitProgressBar(){this.progressBar.hide(),this.visitProgressBarTimeout!=null&&(window.clearTimeout(this.visitProgressBarTimeout),delete this.visitProgressBarTimeout)}showFormProgressBarAfterDelay(){this.formProgressBarTimeout==null&&(this.formProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay))}hideFormProgressBar(){this.progressBar.hide(),this.formProgressBarTimeout!=null&&(window.clearTimeout(this.formProgressBarTimeout),delete this.formProgressBarTimeout)}reload(t){var r;yt("turbo:reload",{detail:t}),window.location.href=((r=this.location)===null||r===void 0?void 0:r.toString())||window.location.href}get navigator(){return this.session.navigator}}class Fg{constructor(){this.selector="[data-turbo-temporary]",this.deprecatedSelector="[data-turbo-cache=false]",this.started=!1,this.removeTemporaryElements=t=>{for(const r of this.temporaryElements)r.remove()}}start(){this.started||(this.started=!0,addEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}stop(){this.started&&(this.started=!1,removeEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}get temporaryElements(){return[...document.querySelectorAll(this.selector),...this.temporaryElementsWithDeprecation]}get temporaryElementsWithDeprecation(){const t=document.querySelectorAll(this.deprecatedSelector);return t.length&&console.warn(`The ${this.deprecatedSelector} selector is deprecated and will be removed in a future version. Use ${this.selector} instead.`),[...t]}}class Tg{constructor(t,r){this.session=t,this.element=r,this.linkInterceptor=new dh(this,r),this.formSubmitObserver=new el(this,r)}start(){this.linkInterceptor.start(),this.formSubmitObserver.start()}stop(){this.linkInterceptor.stop(),this.formSubmitObserver.stop()}shouldInterceptLinkClick(t,r,a){return this.shouldRedirect(t)}linkClickIntercepted(t,r,a){const u=this.findFrameElement(t);u&&u.delegate.linkClickIntercepted(t,r,a)}willSubmitForm(t,r){return t.closest("turbo-frame")==null&&this.shouldSubmit(t,r)&&this.shouldRedirect(t,r)}formSubmitted(t,r){const a=this.findFrameElement(t,r);a&&a.delegate.formSubmitted(t,r)}shouldSubmit(t,r){var a;const u=Za(t,r),f=this.element.ownerDocument.querySelector('meta[name="turbo-root"]'),d=xt((a=f==null?void 0:f.content)!==null&&a!==void 0?a:"/");return this.shouldRedirect(t,r)&&Pr(u,d)}shouldRedirect(t,r){if(t instanceof HTMLFormElement?this.session.submissionIsNavigatable(t,r):this.session.elementIsNavigatable(t)){const u=this.findFrameElement(t,r);return u?u!=t.closest("turbo-frame"):!1}else return!1}findFrameElement(t,r){const a=(r==null?void 0:r.getAttribute("data-turbo-frame"))||t.getAttribute("data-turbo-frame");if(a&&a!="_top"){const u=this.element.querySelector(`#${a}:not([disabled])`);if(u instanceof xi)return u}}}class Mg{constructor(t){this.restorationIdentifier=Nr(),this.restorationData={},this.started=!1,this.pageLoaded=!1,this.onPopState=r=>{if(this.shouldHandlePopState()){const{turbo:a}=r.state||{};if(a){this.location=new URL(window.location.href);const{restorationIdentifier:u}=a;this.restorationIdentifier=u,this.delegate.historyPoppedToLocationWithRestorationIdentifier(this.location,u)}}},this.onPageLoad=async r=>{await Yp(),this.pageLoaded=!0},this.delegate=t}start(){this.started||(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.started=!0,this.replace(new URL(window.location.href)))}stop(){this.started&&(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1)}push(t,r){this.update(history.pushState,t,r)}replace(t,r){this.update(history.replaceState,t,r)}update(t,r,a=Nr()){const u={turbo:{restorationIdentifier:a}};t.call(history,u,"",r.href),this.location=r,this.restorationIdentifier=a}getRestorationDataForIdentifier(t){return this.restorationData[t]||{}}updateRestorationData(t){const{restorationIdentifier:r}=this,a=this.restorationData[r];this.restorationData[r]=Object.assign(Object.assign({},a),t)}assumeControlOfScrollRestoration(){var t;this.previousScrollRestoration||(this.previousScrollRestoration=(t=history.scrollRestoration)!==null&&t!==void 0?t:"auto",history.scrollRestoration="manual")}relinquishControlOfScrollRestoration(){this.previousScrollRestoration&&(history.scrollRestoration=this.previousScrollRestoration,delete this.previousScrollRestoration)}shouldHandlePopState(){return this.pageIsLoaded()}pageIsLoaded(){return this.pageLoaded||document.readyState=="complete"}}class Bg{constructor(t){this.delegate=t}proposeVisit(t,r={}){this.delegate.allowsVisitingLocationWithAction(t,r.action)&&(Pr(t,this.view.snapshot.rootLocation)?this.delegate.visitProposedToLocation(t,r):window.location.href=t.toString())}startVisit(t,r,a={}){this.stop(),this.currentVisit=new Ag(this,xt(t),r,Object.assign({referrer:this.location},a)),this.currentVisit.start()}submitForm(t,r){this.stop(),this.formSubmission=new Ln(this,t,r,!0),this.formSubmission.start()}stop(){this.formSubmission&&(this.formSubmission.stop(),delete this.formSubmission),this.currentVisit&&(this.currentVisit.cancel(),delete this.currentVisit)}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}formSubmissionStarted(t){typeof this.adapter.formSubmissionStarted=="function"&&this.adapter.formSubmissionStarted(t)}async formSubmissionSucceededWithResponse(t,r){if(t==this.formSubmission){const a=await r.responseHTML;if(a){const u=t.isSafe;u||this.view.clearSnapshotCache();const{statusCode:f,redirected:d}=r,y={action:this.getActionForFormSubmission(t),shouldCacheSnapshot:u,response:{statusCode:f,responseHTML:a,redirected:d}};this.proposeVisit(r.location,y)}}}async formSubmissionFailedWithResponse(t,r){const a=await r.responseHTML;if(a){const u=Zt.fromHTMLString(a);r.serverError?await this.view.renderError(u,this.currentVisit):await this.view.renderPage(u,!1,!0,this.currentVisit),this.view.scrollToTop(),this.view.clearSnapshotCache()}}formSubmissionErrored(t,r){console.error(r)}formSubmissionFinished(t){typeof this.adapter.formSubmissionFinished=="function"&&this.adapter.formSubmissionFinished(t)}visitStarted(t){this.delegate.visitStarted(t)}visitCompleted(t){this.delegate.visitCompleted(t)}locationWithActionIsSamePage(t,r){const a=nr(t),u=nr(this.view.lastRenderedLocation),f=r==="restore"&&typeof a>"u";return r!=="replace"&&Aa(t)===Aa(this.view.lastRenderedLocation)&&(f||a!=null&&a!==u)}visitScrolledToSamePageLocation(t,r){this.delegate.visitScrolledToSamePageLocation(t,r)}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}getActionForFormSubmission({submitter:t,formElement:r}){return js(t,r)||"advance"}}var gi;(function(n){n[n.initial=0]="initial",n[n.loading=1]="loading",n[n.interactive=2]="interactive",n[n.complete=3]="complete"})(gi||(gi={}));class Og{constructor(t){this.stage=gi.initial,this.started=!1,this.interpretReadyState=()=>{const{readyState:r}=this;r=="interactive"?this.pageIsInteractive():r=="complete"&&this.pageIsComplete()},this.pageWillUnload=()=>{this.delegate.pageWillUnload()},this.delegate=t}start(){this.started||(this.stage==gi.initial&&(this.stage=gi.loading),document.addEventListener("readystatechange",this.interpretReadyState,!1),addEventListener("pagehide",this.pageWillUnload,!1),this.started=!0)}stop(){this.started&&(document.removeEventListener("readystatechange",this.interpretReadyState,!1),removeEventListener("pagehide",this.pageWillUnload,!1),this.started=!1)}pageIsInteractive(){this.stage==gi.loading&&(this.stage=gi.interactive,this.delegate.pageBecameInteractive())}pageIsComplete(){this.pageIsInteractive(),this.stage==gi.interactive&&(this.stage=gi.complete,this.delegate.pageLoaded())}get readyState(){return document.readyState}}class _g{constructor(t){this.started=!1,this.onScroll=()=>{this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},this.delegate=t}start(){this.started||(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)}stop(){this.started&&(removeEventListener("scroll",this.onScroll,!1),this.started=!1)}updatePosition(t){this.delegate.scrollPositionChanged(t)}}class Pg{render({fragment:t}){gh.preservingPermanentElements(this,Rg(t),()=>document.documentElement.appendChild(t))}enteringBardo(t,r){r.replaceWith(t.cloneNode(!0))}leavingBardo(){}}function Rg(n){const t=ch(document.documentElement),r={};for(const a of t){const{id:u}=a;for(const f of n.querySelectorAll("turbo-stream")){const d=uh(f.templateElement.content,u);d&&(r[u]=[a,d])}}return r}class Ig{constructor(t){this.sources=new Set,this.started=!1,this.inspectFetchResponse=r=>{const a=Ng(r);a&&jg(a)&&(r.preventDefault(),this.receiveMessageResponse(a))},this.receiveMessageEvent=r=>{this.started&&typeof r.data=="string"&&this.receiveMessageHTML(r.data)},this.delegate=t}start(){this.started||(this.started=!0,addEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}stop(){this.started&&(this.started=!1,removeEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}connectStreamSource(t){this.streamSourceIsConnected(t)||(this.sources.add(t),t.addEventListener("message",this.receiveMessageEvent,!1))}disconnectStreamSource(t){this.streamSourceIsConnected(t)&&(this.sources.delete(t),t.removeEventListener("message",this.receiveMessageEvent,!1))}streamSourceIsConnected(t){return this.sources.has(t)}async receiveMessageResponse(t){const r=await t.responseHTML;r&&this.receiveMessageHTML(r)}receiveMessageHTML(t){this.delegate.receivedMessageFromStream(ur.wrap(t))}}function Ng(n){var t;const r=(t=n.detail)===null||t===void 0?void 0:t.fetchResponse;if(r instanceof Ja)return r}function jg(n){var t;return((t=n.contentType)!==null&&t!==void 0?t:"").startsWith(ur.contentType)}class yc extends tl{static renderElement(t,r){const{documentElement:a,body:u}=document;a.replaceChild(r,u)}async render(){this.replaceHeadAndBody(),this.activateScriptElements()}replaceHeadAndBody(){const{documentElement:t,head:r}=document;t.replaceChild(this.newHead,r),this.renderElement(this.currentElement,this.newElement)}activateScriptElements(){for(const t of this.scriptElements){const r=t.parentNode;if(r){const a=kn(t);r.replaceChild(a,t)}}}get newHead(){return this.newSnapshot.headSnapshot.element}get scriptElements(){return document.documentElement.querySelectorAll("script")}}class Ma extends tl{static renderElement(t,r){document.body&&r instanceof HTMLBodyElement?document.body.replaceWith(r):document.documentElement.appendChild(r)}get shouldRender(){return this.newSnapshot.isVisitable&&this.trackedElementsAreIdentical}get reloadReason(){if(!this.newSnapshot.isVisitable)return{reason:"turbo_visit_control_is_reload"};if(!this.trackedElementsAreIdentical)return{reason:"tracked_element_mismatch"}}async prepareToRender(){await this.mergeHead()}async render(){this.willRender&&await this.replaceBody()}finishRendering(){super.finishRendering(),this.isPreview||this.focusFirstAutofocusableElement()}get currentHeadSnapshot(){return this.currentSnapshot.headSnapshot}get newHeadSnapshot(){return this.newSnapshot.headSnapshot}get newElement(){return this.newSnapshot.element}async mergeHead(){const t=this.mergeProvisionalElements(),r=this.copyNewHeadStylesheetElements();this.copyNewHeadScriptElements(),await t,await r}async replaceBody(){await this.preservingPermanentElements(async()=>{this.activateNewBody(),await this.assignNewBody()})}get trackedElementsAreIdentical(){return this.currentHeadSnapshot.trackedElementSignature==this.newHeadSnapshot.trackedElementSignature}async copyNewHeadStylesheetElements(){const t=[];for(const r of this.newHeadStylesheetElements)t.push(Qp(r)),document.head.appendChild(r);await Promise.all(t)}copyNewHeadScriptElements(){for(const t of this.newHeadScriptElements)document.head.appendChild(kn(t))}async mergeProvisionalElements(){const t=[...this.newHeadProvisionalElements];for(const r of this.currentHeadProvisionalElements)this.isCurrentElementInElementList(r,t)||document.head.removeChild(r);for(const r of t)document.head.appendChild(r)}isCurrentElementInElementList(t,r){for(const[a,u]of r.entries()){if(t.tagName=="TITLE"){if(u.tagName!="TITLE")continue;if(t.innerHTML==u.innerHTML)return r.splice(a,1),!0}if(u.isEqualNode(t))return r.splice(a,1),!0}return!1}removeCurrentHeadProvisionalElements(){for(const t of this.currentHeadProvisionalElements)document.head.removeChild(t)}copyNewHeadProvisionalElements(){for(const t of this.newHeadProvisionalElements)document.head.appendChild(t)}activateNewBody(){document.adoptNode(this.newElement),this.activateNewBodyScriptElements()}activateNewBodyScriptElements(){for(const t of this.newBodyScriptElements){const r=kn(t);t.replaceWith(r)}}async assignNewBody(){await this.renderElement(this.currentElement,this.newElement)}get newHeadStylesheetElements(){return this.newHeadSnapshot.getStylesheetElementsNotInSnapshot(this.currentHeadSnapshot)}get newHeadScriptElements(){return this.newHeadSnapshot.getScriptElementsNotInSnapshot(this.currentHeadSnapshot)}get currentHeadProvisionalElements(){return this.currentHeadSnapshot.provisionalElements}get newHeadProvisionalElements(){return this.newHeadSnapshot.provisionalElements}get newBodyScriptElements(){return this.newElement.querySelectorAll("script")}}class Hg{constructor(t){this.keys=[],this.snapshots={},this.size=t}has(t){return hs(t)in this.snapshots}get(t){if(this.has(t)){const r=this.read(t);return this.touch(t),r}}put(t,r){return this.write(t,r),this.touch(t),r}clear(){this.snapshots={}}read(t){return this.snapshots[hs(t)]}write(t,r){this.snapshots[hs(t)]=r}touch(t){const r=hs(t),a=this.keys.indexOf(r);a>-1&&this.keys.splice(a,1),this.keys.unshift(r),this.trim()}trim(){for(const t of this.keys.splice(this.size))delete this.snapshots[t]}}class zg extends hh{constructor(){super(...arguments),this.snapshotCache=new Hg(10),this.lastRenderedLocation=new URL(location.href),this.forceReloaded=!1}renderPage(t,r=!1,a=!0,u){const f=new Ma(this.snapshot,t,Ma.renderElement,r,a);return f.shouldRender?u==null||u.changeHistory():this.forceReloaded=!0,this.render(f)}renderError(t,r){r==null||r.changeHistory();const a=new yc(this.snapshot,t,yc.renderElement,!1);return this.render(a)}clearSnapshotCache(){this.snapshotCache.clear()}async cacheSnapshot(t=this.snapshot){if(t.isCacheable){this.delegate.viewWillCacheSnapshot();const{lastRenderedLocation:r}=this;await Xp();const a=t.clone();return this.snapshotCache.put(r,a),a}}getCachedSnapshotForLocation(t){return this.snapshotCache.get(t)}get snapshot(){return Zt.fromElement(this.element)}}class Wg{constructor(t){this.selector="a[data-turbo-preload]",this.delegate=t}get snapshotCache(){return this.delegate.navigator.view.snapshotCache}start(){if(document.readyState==="loading")return document.addEventListener("DOMContentLoaded",()=>{this.preloadOnLoadLinksForView(document.body)});this.preloadOnLoadLinksForView(document.body)}preloadOnLoadLinksForView(t){for(const r of t.querySelectorAll(this.selector))this.preloadURL(r)}async preloadURL(t){const r=new URL(t.href);if(!this.snapshotCache.has(r))try{const u=await(await fetch(r.toString(),{headers:{"VND.PREFETCH":"true",Accept:"text/html"}})).text(),f=Zt.fromHTMLString(u);this.snapshotCache.put(r,f)}catch{}}}class $g{constructor(){this.navigator=new Bg(this),this.history=new Mg(this),this.preloader=new Wg(this),this.view=new zg(this,document.documentElement),this.adapter=new Lg(this),this.pageObserver=new Og(this),this.cacheObserver=new Fg,this.linkClickObserver=new fh(this,window),this.formSubmitObserver=new el(this,document),this.scrollObserver=new _g(this),this.streamObserver=new Ig(this),this.formLinkClickObserver=new ph(this,document.documentElement),this.frameRedirector=new Tg(this,document.documentElement),this.streamMessageRenderer=new Pg,this.drive=!0,this.enabled=!0,this.progressBarDelay=500,this.started=!1,this.formMode="on"}start(){this.started||(this.pageObserver.start(),this.cacheObserver.start(),this.formLinkClickObserver.start(),this.linkClickObserver.start(),this.formSubmitObserver.start(),this.scrollObserver.start(),this.streamObserver.start(),this.frameRedirector.start(),this.history.start(),this.preloader.start(),this.started=!0,this.enabled=!0)}disable(){this.enabled=!1}stop(){this.started&&(this.pageObserver.stop(),this.cacheObserver.stop(),this.formLinkClickObserver.stop(),this.linkClickObserver.stop(),this.formSubmitObserver.stop(),this.scrollObserver.stop(),this.streamObserver.stop(),this.frameRedirector.stop(),this.history.stop(),this.started=!1)}registerAdapter(t){this.adapter=t}visit(t,r={}){const a=r.frame?document.getElementById(r.frame):null;a instanceof xi?(a.src=t.toString(),a.loaded):this.navigator.proposeVisit(xt(t),r)}connectStreamSource(t){this.streamObserver.connectStreamSource(t)}disconnectStreamSource(t){this.streamObserver.disconnectStreamSource(t)}renderStreamMessage(t){this.streamMessageRenderer.render(ur.wrap(t))}clearCache(){this.view.clearSnapshotCache()}setProgressBarDelay(t){this.progressBarDelay=t}setFormMode(t){this.formMode=t}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}historyPoppedToLocationWithRestorationIdentifier(t,r){this.enabled?this.navigator.startVisit(t,r,{action:"restore",historyChanged:!0}):this.adapter.pageInvalidated({reason:"turbo_disabled"})}scrollPositionChanged(t){this.history.updateRestorationData({scrollPosition:t})}willSubmitFormLinkToLocation(t,r){return this.elementIsNavigatable(t)&&Pr(r,this.snapshot.rootLocation)}submittedFormLinkToLocation(){}willFollowLinkToLocation(t,r,a){return this.elementIsNavigatable(t)&&Pr(r,this.snapshot.rootLocation)&&this.applicationAllowsFollowingLinkToLocation(t,r,a)}followedLinkToLocation(t,r){const a=this.getActionForLink(t),u=t.hasAttribute("data-turbo-stream");this.visit(r.href,{action:a,acceptsStreamResponse:u})}allowsVisitingLocationWithAction(t,r){return this.locationWithActionIsSamePage(t,r)||this.applicationAllowsVisitingLocation(t)}visitProposedToLocation(t,r){bc(t),this.adapter.visitProposedToLocation(t,r)}visitStarted(t){t.acceptsStreamResponse||La(document.documentElement),bc(t.location),t.silent||this.notifyApplicationAfterVisitingLocation(t.location,t.action)}visitCompleted(t){Fa(document.documentElement),this.notifyApplicationAfterPageLoad(t.getTimingMetrics())}locationWithActionIsSamePage(t,r){return this.navigator.locationWithActionIsSamePage(t,r)}visitScrolledToSamePageLocation(t,r){this.notifyApplicationAfterVisitingSamePageLocation(t,r)}willSubmitForm(t,r){const a=Za(t,r);return this.submissionIsNavigatable(t,r)&&Pr(xt(a),this.snapshot.rootLocation)}formSubmitted(t,r){this.navigator.submitForm(t,r)}pageBecameInteractive(){this.view.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()}pageLoaded(){this.history.assumeControlOfScrollRestoration()}pageWillUnload(){this.history.relinquishControlOfScrollRestoration()}receivedMessageFromStream(t){this.renderStreamMessage(t)}viewWillCacheSnapshot(){var t;!((t=this.navigator.currentVisit)===null||t===void 0)&&t.silent||this.notifyApplicationBeforeCachingSnapshot()}allowsImmediateRender({element:t},r){const a=this.notifyApplicationBeforeRender(t,r),{defaultPrevented:u,detail:{render:f}}=a;return this.view.renderer&&f&&(this.view.renderer.renderElement=f),!u}viewRenderedSnapshot(t,r){this.view.lastRenderedLocation=this.history.location,this.notifyApplicationAfterRender()}preloadOnLoadLinksForView(t){this.preloader.preloadOnLoadLinksForView(t)}viewInvalidated(t){this.adapter.pageInvalidated(t)}frameLoaded(t){this.notifyApplicationAfterFrameLoad(t)}frameRendered(t,r){this.notifyApplicationAfterFrameRender(t,r)}applicationAllowsFollowingLinkToLocation(t,r,a){return!this.notifyApplicationAfterClickingLinkToLocation(t,r,a).defaultPrevented}applicationAllowsVisitingLocation(t){return!this.notifyApplicationBeforeVisitingLocation(t).defaultPrevented}notifyApplicationAfterClickingLinkToLocation(t,r,a){return yt("turbo:click",{target:t,detail:{url:r.href,originalEvent:a},cancelable:!0})}notifyApplicationBeforeVisitingLocation(t){return yt("turbo:before-visit",{detail:{url:t.href},cancelable:!0})}notifyApplicationAfterVisitingLocation(t,r){return yt("turbo:visit",{detail:{url:t.href,action:r}})}notifyApplicationBeforeCachingSnapshot(){return yt("turbo:before-cache")}notifyApplicationBeforeRender(t,r){return yt("turbo:before-render",{detail:Object.assign({newBody:t},r),cancelable:!0})}notifyApplicationAfterRender(){return yt("turbo:render")}notifyApplicationAfterPageLoad(t={}){return yt("turbo:load",{detail:{url:this.location.href,timing:t}})}notifyApplicationAfterVisitingSamePageLocation(t,r){dispatchEvent(new HashChangeEvent("hashchange",{oldURL:t.toString(),newURL:r.toString()}))}notifyApplicationAfterFrameLoad(t){return yt("turbo:frame-load",{target:t})}notifyApplicationAfterFrameRender(t,r){return yt("turbo:frame-render",{detail:{fetchResponse:t},target:r,cancelable:!0})}submissionIsNavigatable(t,r){if(this.formMode=="off")return!1;{const a=r?this.elementIsNavigatable(r):!0;return this.formMode=="optin"?a&&t.closest('[data-turbo="true"]')!=null:a&&this.elementIsNavigatable(t)}}elementIsNavigatable(t){const r=Ls(t,"[data-turbo]"),a=Ls(t,"turbo-frame");return this.drive||a?r?r.getAttribute("data-turbo")!="false":!0:r?r.getAttribute("data-turbo")=="true":!1}getActionForLink(t){return js(t)||"advance"}get snapshot(){return this.view.snapshot}}function bc(n){Object.defineProperties(n,qg)}const qg={absoluteURL:{get(){return this.toString()}}};class Ug{constructor(t){this.session=t}clear(){this.session.clearCache()}resetCacheControl(){this.setCacheControl("")}exemptPageFromCache(){this.setCacheControl("no-cache")}exemptPageFromPreview(){this.setCacheControl("no-preview")}setCacheControl(t){tg("turbo-cache-control",t)}}const mh={after(){this.targetElements.forEach(n=>{var t;return(t=n.parentElement)===null||t===void 0?void 0:t.insertBefore(this.templateContent,n.nextSibling)})},append(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(n=>n.append(this.templateContent))},before(){this.targetElements.forEach(n=>{var t;return(t=n.parentElement)===null||t===void 0?void 0:t.insertBefore(this.templateContent,n)})},prepend(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(n=>n.prepend(this.templateContent))},remove(){this.targetElements.forEach(n=>n.remove())},replace(){this.targetElements.forEach(n=>n.replaceWith(this.templateContent))},update(){this.targetElements.forEach(n=>{n.innerHTML="",n.append(this.templateContent)})}},Ze=new $g,Vg=new Ug(Ze),{navigator:Kg}=Ze;function vh(){Ze.start()}function Gg(n){Ze.registerAdapter(n)}function Xg(n,t){Ze.visit(n,t)}function yh(n){Ze.connectStreamSource(n)}function bh(n){Ze.disconnectStreamSource(n)}function Yg(n){Ze.renderStreamMessage(n)}function Zg(){console.warn("Please replace `Turbo.clearCache()` with `Turbo.cache.clear()`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),Ze.clearCache()}function Jg(n){Ze.setProgressBarDelay(n)}function Qg(n){Ln.confirmMethod=n}function em(n){Ze.setFormMode(n)}var tm=Object.freeze({__proto__:null,navigator:Kg,session:Ze,cache:Vg,PageRenderer:Ma,PageSnapshot:Zt,FrameRenderer:Ta,start:vh,registerAdapter:Gg,visit:Xg,connectStreamSource:yh,disconnectStreamSource:bh,renderStreamMessage:Yg,clearCache:Zg,setProgressBarDelay:Jg,setConfirmMethod:Qg,setFormMode:em,StreamActions:mh});class im extends Error{}class rm{constructor(t){this.fetchResponseLoaded=r=>{},this.currentFetchRequest=null,this.resolveVisitPromise=()=>{},this.connected=!1,this.hasBeenLoaded=!1,this.ignoredAttributes=new Set,this.action=null,this.visitCachedSnapshot=({element:r})=>{const a=r.querySelector("#"+this.element.id);a&&this.previousFrameElement&&a.replaceChildren(...this.previousFrameElement.children),delete this.previousFrameElement},this.element=t,this.view=new dg(this,this.element),this.appearanceObserver=new rg(this,this.element),this.formLinkClickObserver=new ph(this,this.element),this.linkInterceptor=new dh(this,this.element),this.restorationIdentifier=Nr(),this.formSubmitObserver=new el(this,this.element)}connect(){this.connected||(this.connected=!0,this.loadingStyle==Ii.lazy?this.appearanceObserver.start():this.loadSourceURL(),this.formLinkClickObserver.start(),this.linkInterceptor.start(),this.formSubmitObserver.start())}disconnect(){this.connected&&(this.connected=!1,this.appearanceObserver.stop(),this.formLinkClickObserver.stop(),this.linkInterceptor.stop(),this.formSubmitObserver.stop())}disabledChanged(){this.loadingStyle==Ii.eager&&this.loadSourceURL()}sourceURLChanged(){this.isIgnoringChangesTo("src")||(this.element.isConnected&&(this.complete=!1),(this.loadingStyle==Ii.eager||this.hasBeenLoaded)&&this.loadSourceURL())}sourceURLReloaded(){const{src:t}=this.element;return this.ignoringChangesToAttribute("complete",()=>{this.element.removeAttribute("complete")}),this.element.src=null,this.element.src=t,this.element.loaded}completeChanged(){this.isIgnoringChangesTo("complete")||this.loadSourceURL()}loadingStyleChanged(){this.loadingStyle==Ii.lazy?this.appearanceObserver.start():(this.appearanceObserver.stop(),this.loadSourceURL())}async loadSourceURL(){this.enabled&&this.isActive&&!this.complete&&this.sourceURL&&(this.element.loaded=this.visit(xt(this.sourceURL)),this.appearanceObserver.stop(),await this.element.loaded,this.hasBeenLoaded=!0)}async loadResponse(t){(t.redirected||t.succeeded&&t.isHTML)&&(this.sourceURL=t.response.url);try{const r=await t.responseHTML;if(r){const a=sh(r);Zt.fromDocument(a).isVisitable?await this.loadFrameResponse(t,a):await this.handleUnvisitableFrameResponse(t)}}finally{this.fetchResponseLoaded=()=>{}}}elementAppearedInViewport(t){this.proposeVisitIfNavigatedWithAction(t,t),this.loadSourceURL()}willSubmitFormLinkToLocation(t){return this.shouldInterceptNavigation(t)}submittedFormLinkToLocation(t,r,a){const u=this.findFrameElement(t);u&&a.setAttribute("data-turbo-frame",u.id)}shouldInterceptLinkClick(t,r,a){return this.shouldInterceptNavigation(t)}linkClickIntercepted(t,r){this.navigateFrame(t,r)}willSubmitForm(t,r){return t.closest("turbo-frame")==this.element&&this.shouldInterceptNavigation(t,r)}formSubmitted(t,r){this.formSubmission&&this.formSubmission.stop(),this.formSubmission=new Ln(this,t,r);const{fetchRequest:a}=this.formSubmission;this.prepareRequest(a),this.formSubmission.start()}prepareRequest(t){var r;t.headers["Turbo-Frame"]=this.id,!((r=this.currentNavigationElement)===null||r===void 0)&&r.hasAttribute("data-turbo-stream")&&t.acceptResponseType(ur.contentType)}requestStarted(t){La(this.element)}requestPreventedHandlingResponse(t,r){this.resolveVisitPromise()}async requestSucceededWithResponse(t,r){await this.loadResponse(r),this.resolveVisitPromise()}async requestFailedWithResponse(t,r){await this.loadResponse(r),this.resolveVisitPromise()}requestErrored(t,r){console.error(r),this.resolveVisitPromise()}requestFinished(t){Fa(this.element)}formSubmissionStarted({formElement:t}){La(t,this.findFrameElement(t))}formSubmissionSucceededWithResponse(t,r){const a=this.findFrameElement(t.formElement,t.submitter);a.delegate.proposeVisitIfNavigatedWithAction(a,t.formElement,t.submitter),a.delegate.loadResponse(r),t.isSafe||Ze.clearCache()}formSubmissionFailedWithResponse(t,r){this.element.delegate.loadResponse(r),Ze.clearCache()}formSubmissionErrored(t,r){console.error(r)}formSubmissionFinished({formElement:t}){Fa(t,this.findFrameElement(t))}allowsImmediateRender({element:t},r){const a=yt("turbo:before-frame-render",{target:this.element,detail:Object.assign({newFrame:t},r),cancelable:!0}),{defaultPrevented:u,detail:{render:f}}=a;return this.view.renderer&&f&&(this.view.renderer.renderElement=f),!u}viewRenderedSnapshot(t,r){}preloadOnLoadLinksForView(t){Ze.preloadOnLoadLinksForView(t)}viewInvalidated(){}willRenderFrame(t,r){this.previousFrameElement=t.cloneNode(!0)}async loadFrameResponse(t,r){const a=await this.extractForeignFrameElement(r.body);if(a){const u=new Hs(a),f=new Ta(this,this.view.snapshot,u,Ta.renderElement,!1,!1);this.view.renderPromise&&await this.view.renderPromise,this.changeHistory(),await this.view.render(f),this.complete=!0,Ze.frameRendered(t,this.element),Ze.frameLoaded(this.element),this.fetchResponseLoaded(t)}else this.willHandleFrameMissingFromResponse(t)&&this.handleFrameMissingFromResponse(t)}async visit(t){var r;const a=new Qa(this,Bt.get,t,new URLSearchParams,this.element);return(r=this.currentFetchRequest)===null||r===void 0||r.cancel(),this.currentFetchRequest=a,new Promise(u=>{this.resolveVisitPromise=()=>{this.resolveVisitPromise=()=>{},this.currentFetchRequest=null,u()},a.perform()})}navigateFrame(t,r,a){const u=this.findFrameElement(t,a);u.delegate.proposeVisitIfNavigatedWithAction(u,t,a),this.withCurrentNavigationElement(t,()=>{u.src=r})}proposeVisitIfNavigatedWithAction(t,r,a){if(this.action=js(a,r,t),this.action){const u=Zt.fromElement(t).clone(),{visitCachedSnapshot:f}=t.delegate;t.delegate.fetchResponseLoaded=d=>{if(t.src){const{statusCode:m,redirected:y}=d,E=t.ownerDocument.documentElement.outerHTML,M={response:{statusCode:m,redirected:y,responseHTML:E},visitCachedSnapshot:f,willRender:!1,updateHistory:!1,restorationIdentifier:this.restorationIdentifier,snapshot:u};this.action&&(M.action=this.action),Ze.visit(t.src,M)}}}}changeHistory(){if(this.action){const t=ah(this.action);Ze.history.update(t,xt(this.element.src||""),this.restorationIdentifier)}}async handleUnvisitableFrameResponse(t){console.warn(`The response (${t.statusCode}) from <turbo-frame id="${this.element.id}"> is performing a full page visit due to turbo-visit-control.`),await this.visitResponse(t.response)}willHandleFrameMissingFromResponse(t){this.element.setAttribute("complete","");const r=t.response,a=async(f,d={})=>{f instanceof Response?this.visitResponse(f):Ze.visit(f,d)};return!yt("turbo:frame-missing",{target:this.element,detail:{response:r,visit:a},cancelable:!0}).defaultPrevented}handleFrameMissingFromResponse(t){this.view.missing(),this.throwFrameMissingError(t)}throwFrameMissingError(t){const r=`The response (${t.statusCode}) did not contain the expected <turbo-frame id="${this.element.id}"> and will be ignored. To perform a full page visit instead, set turbo-visit-control to reload.`;throw new im(r)}async visitResponse(t){const r=new Ja(t),a=await r.responseHTML,{location:u,redirected:f,statusCode:d}=r;return Ze.visit(u,{response:{redirected:f,statusCode:d,responseHTML:a}})}findFrameElement(t,r){var a;const u=Ds("data-turbo-frame",r,t)||this.element.getAttribute("target");return(a=wc(u))!==null&&a!==void 0?a:this.element}async extractForeignFrameElement(t){let r;const a=CSS.escape(this.id);try{if(r=xc(t.querySelector(`turbo-frame#${a}`),this.sourceURL),r)return r;if(r=xc(t.querySelector(`turbo-frame[src][recurse~=${a}]`),this.sourceURL),r)return await r.loaded,await this.extractForeignFrameElement(r)}catch(u){return console.error(u),new xi}return null}formActionIsVisitable(t,r){const a=Za(t,r);return Pr(xt(a),this.rootLocation)}shouldInterceptNavigation(t,r){const a=Ds("data-turbo-frame",r,t)||this.element.getAttribute("target");if(t instanceof HTMLFormElement&&!this.formActionIsVisitable(t,r)||!this.enabled||a=="_top")return!1;if(a){const u=wc(a);if(u)return!u.disabled}return!(!Ze.elementIsNavigatable(t)||r&&!Ze.elementIsNavigatable(r))}get id(){return this.element.id}get enabled(){return!this.element.disabled}get sourceURL(){if(this.element.src)return this.element.src}set sourceURL(t){this.ignoringChangesToAttribute("src",()=>{this.element.src=t??null})}get loadingStyle(){return this.element.loading}get isLoading(){return this.formSubmission!==void 0||this.resolveVisitPromise()!==void 0}get complete(){return this.element.hasAttribute("complete")}set complete(t){this.ignoringChangesToAttribute("complete",()=>{t?this.element.setAttribute("complete",""):this.element.removeAttribute("complete")})}get isActive(){return this.element.isActive&&this.connected}get rootLocation(){var t;const r=this.element.ownerDocument.querySelector('meta[name="turbo-root"]'),a=(t=r==null?void 0:r.content)!==null&&t!==void 0?t:"/";return xt(a)}isIgnoringChangesTo(t){return this.ignoredAttributes.has(t)}ignoringChangesToAttribute(t,r){this.ignoredAttributes.add(t),r(),this.ignoredAttributes.delete(t)}withCurrentNavigationElement(t,r){this.currentNavigationElement=t,r(),delete this.currentNavigationElement}}function wc(n){if(n!=null){const t=document.getElementById(n);if(t instanceof xi)return t}}function xc(n,t){if(n){const r=n.getAttribute("src");if(r!=null&&t!=null&&Wp(r,t))throw new Error(`Matching <turbo-frame id="${n.id}"> element has a source URL which references itself`);if(n.ownerDocument!==document&&(n=document.importNode(n,!0)),n instanceof xi)return n.connectedCallback(),n.disconnectedCallback(),n}}class il extends HTMLElement{static async renderElement(t){await t.performAction()}async connectedCallback(){try{await this.render()}catch(t){console.error(t)}finally{this.disconnect()}}async render(){var t;return(t=this.renderPromise)!==null&&t!==void 0?t:this.renderPromise=(async()=>{const r=this.beforeRenderEvent;this.dispatchEvent(r)&&(await vs(),await r.detail.render(this))})()}disconnect(){try{this.remove()}catch{}}removeDuplicateTargetChildren(){this.duplicateChildren.forEach(t=>t.remove())}get duplicateChildren(){var t;const r=this.targetElements.flatMap(u=>[...u.children]).filter(u=>!!u.id),a=[...((t=this.templateContent)===null||t===void 0?void 0:t.children)||[]].filter(u=>!!u.id).map(u=>u.id);return r.filter(u=>a.includes(u.id))}get performAction(){if(this.action){const t=mh[this.action];if(t)return t;this.raise("unknown action")}this.raise("action attribute is missing")}get targetElements(){if(this.target)return this.targetElementsById;if(this.targets)return this.targetElementsByQuery;this.raise("target or targets attribute is missing")}get templateContent(){return this.templateElement.content.cloneNode(!0)}get templateElement(){if(this.firstElementChild===null){const t=this.ownerDocument.createElement("template");return this.appendChild(t),t}else if(this.firstElementChild instanceof HTMLTemplateElement)return this.firstElementChild;this.raise("first child element must be a <template> element")}get action(){return this.getAttribute("action")}get target(){return this.getAttribute("target")}get targets(){return this.getAttribute("targets")}raise(t){throw new Error(`${this.description}: ${t}`)}get description(){var t,r;return(r=((t=this.outerHTML.match(/<[^>]+>/))!==null&&t!==void 0?t:[])[0])!==null&&r!==void 0?r:"<turbo-stream>"}get beforeRenderEvent(){return new CustomEvent("turbo:before-stream-render",{bubbles:!0,cancelable:!0,detail:{newStream:this,render:il.renderElement}})}get targetElementsById(){var t;const r=(t=this.ownerDocument)===null||t===void 0?void 0:t.getElementById(this.target);return r!==null?[r]:[]}get targetElementsByQuery(){var t;const r=(t=this.ownerDocument)===null||t===void 0?void 0:t.querySelectorAll(this.targets);return r.length!==0?Array.prototype.slice.call(r):[]}}class nm extends HTMLElement{constructor(){super(...arguments),this.streamSource=null}connectedCallback(){this.streamSource=this.src.match(/^ws{1,2}:/)?new WebSocket(this.src):new EventSource(this.src),yh(this.streamSource)}disconnectedCallback(){this.streamSource&&bh(this.streamSource)}get src(){return this.getAttribute("src")||""}}xi.delegateConstructor=rm;customElements.get("turbo-frame")===void 0&&customElements.define("turbo-frame",xi);customElements.get("turbo-stream")===void 0&&customElements.define("turbo-stream",il);customElements.get("turbo-stream-source")===void 0&&customElements.define("turbo-stream-source",nm);(()=>{let n=document.currentScript;if(n&&!n.hasAttribute("data-turbo-suppress-warning"))for(n=n.parentElement;n;){if(n==document.body)return console.warn(oh`
        You are loading Turbo from a <script> element inside the <body> element. This is probably not what you meant to do!

        Load your applications JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.

        For more information, see: https://turbo.hotwired.dev/handbook/building#working-with-script-elements

        
        Suppress this warning by adding a "data-turbo-suppress-warning" attribute to: %s
      `,n.outerHTML);n=n.parentElement}})();window.Turbo=tm;vh();class sm{constructor(t,r,a){this.eventTarget=t,this.eventName=r,this.eventOptions=a,this.unorderedBindings=new Set}connect(){this.eventTarget.addEventListener(this.eventName,this,this.eventOptions)}disconnect(){this.eventTarget.removeEventListener(this.eventName,this,this.eventOptions)}bindingConnected(t){this.unorderedBindings.add(t)}bindingDisconnected(t){this.unorderedBindings.delete(t)}handleEvent(t){const r=om(t);for(const a of this.bindings){if(r.immediatePropagationStopped)break;a.handleEvent(r)}}hasBindings(){return this.unorderedBindings.size>0}get bindings(){return Array.from(this.unorderedBindings).sort((t,r)=>{const a=t.index,u=r.index;return a<u?-1:a>u?1:0})}}function om(n){if("immediatePropagationStopped"in n)return n;{const{stopImmediatePropagation:t}=n;return Object.assign(n,{immediatePropagationStopped:!1,stopImmediatePropagation(){this.immediatePropagationStopped=!0,t.call(this)}})}}class am{constructor(t){this.application=t,this.eventListenerMaps=new Map,this.started=!1}start(){this.started||(this.started=!0,this.eventListeners.forEach(t=>t.connect()))}stop(){this.started&&(this.started=!1,this.eventListeners.forEach(t=>t.disconnect()))}get eventListeners(){return Array.from(this.eventListenerMaps.values()).reduce((t,r)=>t.concat(Array.from(r.values())),[])}bindingConnected(t){this.fetchEventListenerForBinding(t).bindingConnected(t)}bindingDisconnected(t,r=!1){this.fetchEventListenerForBinding(t).bindingDisconnected(t),r&&this.clearEventListenersForBinding(t)}handleError(t,r,a={}){this.application.handleError(t,`Error ${r}`,a)}clearEventListenersForBinding(t){const r=this.fetchEventListenerForBinding(t);r.hasBindings()||(r.disconnect(),this.removeMappedEventListenerFor(t))}removeMappedEventListenerFor(t){const{eventTarget:r,eventName:a,eventOptions:u}=t,f=this.fetchEventListenerMapForEventTarget(r),d=this.cacheKey(a,u);f.delete(d),f.size==0&&this.eventListenerMaps.delete(r)}fetchEventListenerForBinding(t){const{eventTarget:r,eventName:a,eventOptions:u}=t;return this.fetchEventListener(r,a,u)}fetchEventListener(t,r,a){const u=this.fetchEventListenerMapForEventTarget(t),f=this.cacheKey(r,a);let d=u.get(f);return d||(d=this.createEventListener(t,r,a),u.set(f,d)),d}createEventListener(t,r,a){const u=new sm(t,r,a);return this.started&&u.connect(),u}fetchEventListenerMapForEventTarget(t){let r=this.eventListenerMaps.get(t);return r||(r=new Map,this.eventListenerMaps.set(t,r)),r}cacheKey(t,r){const a=[t];return Object.keys(r).sort().forEach(u=>{a.push(`${r[u]?"":"!"}${u}`)}),a.join(":")}}const lm={stop({event:n,value:t}){return t&&n.stopPropagation(),!0},prevent({event:n,value:t}){return t&&n.preventDefault(),!0},self({event:n,value:t,element:r}){return t?r===n.target:!0}},um=/^(?:(?:([^.]+?)\+)?(.+?)(?:\.(.+?))?(?:@(window|document))?->)?(.+?)(?:#([^:]+?))(?::(.+))?$/;function cm(n){const r=n.trim().match(um)||[];let a=r[2],u=r[3];return u&&!["keydown","keyup","keypress"].includes(a)&&(a+=`.${u}`,u=""),{eventTarget:hm(r[4]),eventName:a,eventOptions:r[7]?dm(r[7]):{},identifier:r[5],methodName:r[6],keyFilter:r[1]||u}}function hm(n){if(n=="window")return window;if(n=="document")return document}function dm(n){return n.split(":").reduce((t,r)=>Object.assign(t,{[r.replace(/^!/,"")]:!/^!/.test(r)}),{})}function fm(n){if(n==window)return"window";if(n==document)return"document"}function rl(n){return n.replace(/(?:[_-])([a-z0-9])/g,(t,r)=>r.toUpperCase())}function Ba(n){return rl(n.replace(/--/g,"-").replace(/__/g,"_"))}function Fn(n){return n.charAt(0).toUpperCase()+n.slice(1)}function wh(n){return n.replace(/([A-Z])/g,(t,r)=>`-${r.toLowerCase()}`)}function pm(n){return n.match(/[^\s]+/g)||[]}function Cc(n){return n!=null}function Oa(n,t){return Object.prototype.hasOwnProperty.call(n,t)}const kc=["meta","ctrl","alt","shift"];class gm{constructor(t,r,a,u){this.element=t,this.index=r,this.eventTarget=a.eventTarget||t,this.eventName=a.eventName||mm(t)||ds("missing event name"),this.eventOptions=a.eventOptions||{},this.identifier=a.identifier||ds("missing identifier"),this.methodName=a.methodName||ds("missing method name"),this.keyFilter=a.keyFilter||"",this.schema=u}static forToken(t,r){return new this(t.element,t.index,cm(t.content),r)}toString(){const t=this.keyFilter?`.${this.keyFilter}`:"",r=this.eventTargetName?`@${this.eventTargetName}`:"";return`${this.eventName}${t}${r}->${this.identifier}#${this.methodName}`}shouldIgnoreKeyboardEvent(t){if(!this.keyFilter)return!1;const r=this.keyFilter.split("+");if(this.keyFilterDissatisfied(t,r))return!0;const a=r.filter(u=>!kc.includes(u))[0];return a?(Oa(this.keyMappings,a)||ds(`contains unknown key filter: ${this.keyFilter}`),this.keyMappings[a].toLowerCase()!==t.key.toLowerCase()):!1}shouldIgnoreMouseEvent(t){if(!this.keyFilter)return!1;const r=[this.keyFilter];return!!this.keyFilterDissatisfied(t,r)}get params(){const t={},r=new RegExp(`^data-${this.identifier}-(.+)-param$`,"i");for(const{name:a,value:u}of Array.from(this.element.attributes)){const f=a.match(r),d=f&&f[1];d&&(t[rl(d)]=vm(u))}return t}get eventTargetName(){return fm(this.eventTarget)}get keyMappings(){return this.schema.keyMappings}keyFilterDissatisfied(t,r){const[a,u,f,d]=kc.map(m=>r.includes(m));return t.metaKey!==a||t.ctrlKey!==u||t.altKey!==f||t.shiftKey!==d}}const Sc={a:()=>"click",button:()=>"click",form:()=>"submit",details:()=>"toggle",input:n=>n.getAttribute("type")=="submit"?"click":"input",select:()=>"change",textarea:()=>"input"};function mm(n){const t=n.tagName.toLowerCase();if(t in Sc)return Sc[t](n)}function ds(n){throw new Error(n)}function vm(n){try{return JSON.parse(n)}catch{return n}}class ym{constructor(t,r){this.context=t,this.action=r}get index(){return this.action.index}get eventTarget(){return this.action.eventTarget}get eventOptions(){return this.action.eventOptions}get identifier(){return this.context.identifier}handleEvent(t){const r=this.prepareActionEvent(t);this.willBeInvokedByEvent(t)&&this.applyEventModifiers(r)&&this.invokeWithEvent(r)}get eventName(){return this.action.eventName}get method(){const t=this.controller[this.methodName];if(typeof t=="function")return t;throw new Error(`Action "${this.action}" references undefined method "${this.methodName}"`)}applyEventModifiers(t){const{element:r}=this.action,{actionDescriptorFilters:a}=this.context.application,{controller:u}=this.context;let f=!0;for(const[d,m]of Object.entries(this.eventOptions))if(d in a){const y=a[d];f=f&&y({name:d,value:m,event:t,element:r,controller:u})}else continue;return f}prepareActionEvent(t){return Object.assign(t,{params:this.action.params})}invokeWithEvent(t){const{target:r,currentTarget:a}=t;try{this.method.call(this.controller,t),this.context.logDebugActivity(this.methodName,{event:t,target:r,currentTarget:a,action:this.methodName})}catch(u){const{identifier:f,controller:d,element:m,index:y}=this,E={identifier:f,controller:d,element:m,index:y,event:t};this.context.handleError(u,`invoking action "${this.action}"`,E)}}willBeInvokedByEvent(t){const r=t.target;return t instanceof KeyboardEvent&&this.action.shouldIgnoreKeyboardEvent(t)||t instanceof MouseEvent&&this.action.shouldIgnoreMouseEvent(t)?!1:this.element===r?!0:r instanceof Element&&this.element.contains(r)?this.scope.containsElement(r):this.scope.containsElement(this.action.element)}get controller(){return this.context.controller}get methodName(){return this.action.methodName}get element(){return this.scope.element}get scope(){return this.context.scope}}class xh{constructor(t,r){this.mutationObserverInit={attributes:!0,childList:!0,subtree:!0},this.element=t,this.started=!1,this.delegate=r,this.elements=new Set,this.mutationObserver=new MutationObserver(a=>this.processMutations(a))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,this.mutationObserverInit),this.refresh())}pause(t){this.started&&(this.mutationObserver.disconnect(),this.started=!1),t(),this.started||(this.mutationObserver.observe(this.element,this.mutationObserverInit),this.started=!0)}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started){const t=new Set(this.matchElementsInTree());for(const r of Array.from(this.elements))t.has(r)||this.removeElement(r);for(const r of Array.from(t))this.addElement(r)}}processMutations(t){if(this.started)for(const r of t)this.processMutation(r)}processMutation(t){t.type=="attributes"?this.processAttributeChange(t.target,t.attributeName):t.type=="childList"&&(this.processRemovedNodes(t.removedNodes),this.processAddedNodes(t.addedNodes))}processAttributeChange(t,r){this.elements.has(t)?this.delegate.elementAttributeChanged&&this.matchElement(t)?this.delegate.elementAttributeChanged(t,r):this.removeElement(t):this.matchElement(t)&&this.addElement(t)}processRemovedNodes(t){for(const r of Array.from(t)){const a=this.elementFromNode(r);a&&this.processTree(a,this.removeElement)}}processAddedNodes(t){for(const r of Array.from(t)){const a=this.elementFromNode(r);a&&this.elementIsActive(a)&&this.processTree(a,this.addElement)}}matchElement(t){return this.delegate.matchElement(t)}matchElementsInTree(t=this.element){return this.delegate.matchElementsInTree(t)}processTree(t,r){for(const a of this.matchElementsInTree(t))r.call(this,a)}elementFromNode(t){if(t.nodeType==Node.ELEMENT_NODE)return t}elementIsActive(t){return t.isConnected!=this.element.isConnected?!1:this.element.contains(t)}addElement(t){this.elements.has(t)||this.elementIsActive(t)&&(this.elements.add(t),this.delegate.elementMatched&&this.delegate.elementMatched(t))}removeElement(t){this.elements.has(t)&&(this.elements.delete(t),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(t))}}class Ch{constructor(t,r,a){this.attributeName=r,this.delegate=a,this.elementObserver=new xh(t,this)}get element(){return this.elementObserver.element}get selector(){return`[${this.attributeName}]`}start(){this.elementObserver.start()}pause(t){this.elementObserver.pause(t)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get started(){return this.elementObserver.started}matchElement(t){return t.hasAttribute(this.attributeName)}matchElementsInTree(t){const r=this.matchElement(t)?[t]:[],a=Array.from(t.querySelectorAll(this.selector));return r.concat(a)}elementMatched(t){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(t,this.attributeName)}elementUnmatched(t){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(t,this.attributeName)}elementAttributeChanged(t,r){this.delegate.elementAttributeValueChanged&&this.attributeName==r&&this.delegate.elementAttributeValueChanged(t,r)}}function bm(n,t,r){kh(n,t).add(r)}function wm(n,t,r){kh(n,t).delete(r),xm(n,t)}function kh(n,t){let r=n.get(t);return r||(r=new Set,n.set(t,r)),r}function xm(n,t){const r=n.get(t);r!=null&&r.size==0&&n.delete(t)}class sr{constructor(){this.valuesByKey=new Map}get keys(){return Array.from(this.valuesByKey.keys())}get values(){return Array.from(this.valuesByKey.values()).reduce((r,a)=>r.concat(Array.from(a)),[])}get size(){return Array.from(this.valuesByKey.values()).reduce((r,a)=>r+a.size,0)}add(t,r){bm(this.valuesByKey,t,r)}delete(t,r){wm(this.valuesByKey,t,r)}has(t,r){const a=this.valuesByKey.get(t);return a!=null&&a.has(r)}hasKey(t){return this.valuesByKey.has(t)}hasValue(t){return Array.from(this.valuesByKey.values()).some(a=>a.has(t))}getValuesForKey(t){const r=this.valuesByKey.get(t);return r?Array.from(r):[]}getKeysForValue(t){return Array.from(this.valuesByKey).filter(([r,a])=>a.has(t)).map(([r,a])=>r)}}class Cm{constructor(t,r,a,u){this._selector=r,this.details=u,this.elementObserver=new xh(t,this),this.delegate=a,this.matchesByElement=new sr}get started(){return this.elementObserver.started}get selector(){return this._selector}set selector(t){this._selector=t,this.refresh()}start(){this.elementObserver.start()}pause(t){this.elementObserver.pause(t)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get element(){return this.elementObserver.element}matchElement(t){const{selector:r}=this;if(r){const a=t.matches(r);return this.delegate.selectorMatchElement?a&&this.delegate.selectorMatchElement(t,this.details):a}else return!1}matchElementsInTree(t){const{selector:r}=this;if(r){const a=this.matchElement(t)?[t]:[],u=Array.from(t.querySelectorAll(r)).filter(f=>this.matchElement(f));return a.concat(u)}else return[]}elementMatched(t){const{selector:r}=this;r&&this.selectorMatched(t,r)}elementUnmatched(t){const r=this.matchesByElement.getKeysForValue(t);for(const a of r)this.selectorUnmatched(t,a)}elementAttributeChanged(t,r){const{selector:a}=this;if(a){const u=this.matchElement(t),f=this.matchesByElement.has(a,t);u&&!f?this.selectorMatched(t,a):!u&&f&&this.selectorUnmatched(t,a)}}selectorMatched(t,r){this.delegate.selectorMatched(t,r,this.details),this.matchesByElement.add(r,t)}selectorUnmatched(t,r){this.delegate.selectorUnmatched(t,r,this.details),this.matchesByElement.delete(r,t)}}class km{constructor(t,r){this.element=t,this.delegate=r,this.started=!1,this.stringMap=new Map,this.mutationObserver=new MutationObserver(a=>this.processMutations(a))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0,attributeOldValue:!0}),this.refresh())}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started)for(const t of this.knownAttributeNames)this.refreshAttribute(t,null)}processMutations(t){if(this.started)for(const r of t)this.processMutation(r)}processMutation(t){const r=t.attributeName;r&&this.refreshAttribute(r,t.oldValue)}refreshAttribute(t,r){const a=this.delegate.getStringMapKeyForAttribute(t);if(a!=null){this.stringMap.has(t)||this.stringMapKeyAdded(a,t);const u=this.element.getAttribute(t);if(this.stringMap.get(t)!=u&&this.stringMapValueChanged(u,a,r),u==null){const f=this.stringMap.get(t);this.stringMap.delete(t),f&&this.stringMapKeyRemoved(a,t,f)}else this.stringMap.set(t,u)}}stringMapKeyAdded(t,r){this.delegate.stringMapKeyAdded&&this.delegate.stringMapKeyAdded(t,r)}stringMapValueChanged(t,r,a){this.delegate.stringMapValueChanged&&this.delegate.stringMapValueChanged(t,r,a)}stringMapKeyRemoved(t,r,a){this.delegate.stringMapKeyRemoved&&this.delegate.stringMapKeyRemoved(t,r,a)}get knownAttributeNames(){return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)))}get currentAttributeNames(){return Array.from(this.element.attributes).map(t=>t.name)}get recordedAttributeNames(){return Array.from(this.stringMap.keys())}}class Sh{constructor(t,r,a){this.attributeObserver=new Ch(t,r,this),this.delegate=a,this.tokensByElement=new sr}get started(){return this.attributeObserver.started}start(){this.attributeObserver.start()}pause(t){this.attributeObserver.pause(t)}stop(){this.attributeObserver.stop()}refresh(){this.attributeObserver.refresh()}get element(){return this.attributeObserver.element}get attributeName(){return this.attributeObserver.attributeName}elementMatchedAttribute(t){this.tokensMatched(this.readTokensForElement(t))}elementAttributeValueChanged(t){const[r,a]=this.refreshTokensForElement(t);this.tokensUnmatched(r),this.tokensMatched(a)}elementUnmatchedAttribute(t){this.tokensUnmatched(this.tokensByElement.getValuesForKey(t))}tokensMatched(t){t.forEach(r=>this.tokenMatched(r))}tokensUnmatched(t){t.forEach(r=>this.tokenUnmatched(r))}tokenMatched(t){this.delegate.tokenMatched(t),this.tokensByElement.add(t.element,t)}tokenUnmatched(t){this.delegate.tokenUnmatched(t),this.tokensByElement.delete(t.element,t)}refreshTokensForElement(t){const r=this.tokensByElement.getValuesForKey(t),a=this.readTokensForElement(t),u=Em(r,a).findIndex(([f,d])=>!Dm(f,d));return u==-1?[[],[]]:[r.slice(u),a.slice(u)]}readTokensForElement(t){const r=this.attributeName,a=t.getAttribute(r)||"";return Sm(a,t,r)}}function Sm(n,t,r){return n.trim().split(/\s+/).filter(a=>a.length).map((a,u)=>({element:t,attributeName:r,content:a,index:u}))}function Em(n,t){const r=Math.max(n.length,t.length);return Array.from({length:r},(a,u)=>[n[u],t[u]])}function Dm(n,t){return n&&t&&n.index==t.index&&n.content==t.content}class Eh{constructor(t,r,a){this.tokenListObserver=new Sh(t,r,this),this.delegate=a,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap}get started(){return this.tokenListObserver.started}start(){this.tokenListObserver.start()}stop(){this.tokenListObserver.stop()}refresh(){this.tokenListObserver.refresh()}get element(){return this.tokenListObserver.element}get attributeName(){return this.tokenListObserver.attributeName}tokenMatched(t){const{element:r}=t,{value:a}=this.fetchParseResultForToken(t);a&&(this.fetchValuesByTokenForElement(r).set(t,a),this.delegate.elementMatchedValue(r,a))}tokenUnmatched(t){const{element:r}=t,{value:a}=this.fetchParseResultForToken(t);a&&(this.fetchValuesByTokenForElement(r).delete(t),this.delegate.elementUnmatchedValue(r,a))}fetchParseResultForToken(t){let r=this.parseResultsByToken.get(t);return r||(r=this.parseToken(t),this.parseResultsByToken.set(t,r)),r}fetchValuesByTokenForElement(t){let r=this.valuesByTokenByElement.get(t);return r||(r=new Map,this.valuesByTokenByElement.set(t,r)),r}parseToken(t){try{return{value:this.delegate.parseValueForToken(t)}}catch(r){return{error:r}}}}class Am{constructor(t,r){this.context=t,this.delegate=r,this.bindingsByAction=new Map}start(){this.valueListObserver||(this.valueListObserver=new Eh(this.element,this.actionAttribute,this),this.valueListObserver.start())}stop(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions())}get element(){return this.context.element}get identifier(){return this.context.identifier}get actionAttribute(){return this.schema.actionAttribute}get schema(){return this.context.schema}get bindings(){return Array.from(this.bindingsByAction.values())}connectAction(t){const r=new ym(this.context,t);this.bindingsByAction.set(t,r),this.delegate.bindingConnected(r)}disconnectAction(t){const r=this.bindingsByAction.get(t);r&&(this.bindingsByAction.delete(t),this.delegate.bindingDisconnected(r))}disconnectAllActions(){this.bindings.forEach(t=>this.delegate.bindingDisconnected(t,!0)),this.bindingsByAction.clear()}parseValueForToken(t){const r=gm.forToken(t,this.schema);if(r.identifier==this.identifier)return r}elementMatchedValue(t,r){this.connectAction(r)}elementUnmatchedValue(t,r){this.disconnectAction(r)}}class Lm{constructor(t,r){this.context=t,this.receiver=r,this.stringMapObserver=new km(this.element,this),this.valueDescriptorMap=this.controller.valueDescriptorMap}start(){this.stringMapObserver.start(),this.invokeChangedCallbacksForDefaultValues()}stop(){this.stringMapObserver.stop()}get element(){return this.context.element}get controller(){return this.context.controller}getStringMapKeyForAttribute(t){if(t in this.valueDescriptorMap)return this.valueDescriptorMap[t].name}stringMapKeyAdded(t,r){const a=this.valueDescriptorMap[r];this.hasValue(t)||this.invokeChangedCallback(t,a.writer(this.receiver[t]),a.writer(a.defaultValue))}stringMapValueChanged(t,r,a){const u=this.valueDescriptorNameMap[r];t!==null&&(a===null&&(a=u.writer(u.defaultValue)),this.invokeChangedCallback(r,t,a))}stringMapKeyRemoved(t,r,a){const u=this.valueDescriptorNameMap[t];this.hasValue(t)?this.invokeChangedCallback(t,u.writer(this.receiver[t]),a):this.invokeChangedCallback(t,u.writer(u.defaultValue),a)}invokeChangedCallbacksForDefaultValues(){for(const{key:t,name:r,defaultValue:a,writer:u}of this.valueDescriptors)a!=null&&!this.controller.data.has(t)&&this.invokeChangedCallback(r,u(a),void 0)}invokeChangedCallback(t,r,a){const u=`${t}Changed`,f=this.receiver[u];if(typeof f=="function"){const d=this.valueDescriptorNameMap[t];try{const m=d.reader(r);let y=a;a&&(y=d.reader(a)),f.call(this.receiver,m,y)}catch(m){throw m instanceof TypeError&&(m.message=`Stimulus Value "${this.context.identifier}.${d.name}" - ${m.message}`),m}}}get valueDescriptors(){const{valueDescriptorMap:t}=this;return Object.keys(t).map(r=>t[r])}get valueDescriptorNameMap(){const t={};return Object.keys(this.valueDescriptorMap).forEach(r=>{const a=this.valueDescriptorMap[r];t[a.name]=a}),t}hasValue(t){const r=this.valueDescriptorNameMap[t],a=`has${Fn(r.name)}`;return this.receiver[a]}}class Fm{constructor(t,r){this.context=t,this.delegate=r,this.targetsByName=new sr}start(){this.tokenListObserver||(this.tokenListObserver=new Sh(this.element,this.attributeName,this),this.tokenListObserver.start())}stop(){this.tokenListObserver&&(this.disconnectAllTargets(),this.tokenListObserver.stop(),delete this.tokenListObserver)}tokenMatched({element:t,content:r}){this.scope.containsElement(t)&&this.connectTarget(t,r)}tokenUnmatched({element:t,content:r}){this.disconnectTarget(t,r)}connectTarget(t,r){var a;this.targetsByName.has(r,t)||(this.targetsByName.add(r,t),(a=this.tokenListObserver)===null||a===void 0||a.pause(()=>this.delegate.targetConnected(t,r)))}disconnectTarget(t,r){var a;this.targetsByName.has(r,t)&&(this.targetsByName.delete(r,t),(a=this.tokenListObserver)===null||a===void 0||a.pause(()=>this.delegate.targetDisconnected(t,r)))}disconnectAllTargets(){for(const t of this.targetsByName.keys)for(const r of this.targetsByName.getValuesForKey(t))this.disconnectTarget(r,t)}get attributeName(){return`data-${this.context.identifier}-target`}get element(){return this.context.element}get scope(){return this.context.scope}}function Tn(n,t){const r=Dh(n);return Array.from(r.reduce((a,u)=>(Mm(u,t).forEach(f=>a.add(f)),a),new Set))}function Tm(n,t){return Dh(n).reduce((a,u)=>(a.push(...Bm(u,t)),a),[])}function Dh(n){const t=[];for(;n;)t.push(n),n=Object.getPrototypeOf(n);return t.reverse()}function Mm(n,t){const r=n[t];return Array.isArray(r)?r:[]}function Bm(n,t){const r=n[t];return r?Object.keys(r).map(a=>[a,r[a]]):[]}class Om{constructor(t,r){this.started=!1,this.context=t,this.delegate=r,this.outletsByName=new sr,this.outletElementsByName=new sr,this.selectorObserverMap=new Map,this.attributeObserverMap=new Map}start(){this.started||(this.outletDefinitions.forEach(t=>{this.setupSelectorObserverForOutlet(t),this.setupAttributeObserverForOutlet(t)}),this.started=!0,this.dependentContexts.forEach(t=>t.refresh()))}refresh(){this.selectorObserverMap.forEach(t=>t.refresh()),this.attributeObserverMap.forEach(t=>t.refresh())}stop(){this.started&&(this.started=!1,this.disconnectAllOutlets(),this.stopSelectorObservers(),this.stopAttributeObservers())}stopSelectorObservers(){this.selectorObserverMap.size>0&&(this.selectorObserverMap.forEach(t=>t.stop()),this.selectorObserverMap.clear())}stopAttributeObservers(){this.attributeObserverMap.size>0&&(this.attributeObserverMap.forEach(t=>t.stop()),this.attributeObserverMap.clear())}selectorMatched(t,r,{outletName:a}){const u=this.getOutlet(t,a);u&&this.connectOutlet(u,t,a)}selectorUnmatched(t,r,{outletName:a}){const u=this.getOutletFromMap(t,a);u&&this.disconnectOutlet(u,t,a)}selectorMatchElement(t,{outletName:r}){const a=this.selector(r),u=this.hasOutlet(t,r),f=t.matches(`[${this.schema.controllerAttribute}~=${r}]`);return a?u&&f&&t.matches(a):!1}elementMatchedAttribute(t,r){const a=this.getOutletNameFromOutletAttributeName(r);a&&this.updateSelectorObserverForOutlet(a)}elementAttributeValueChanged(t,r){const a=this.getOutletNameFromOutletAttributeName(r);a&&this.updateSelectorObserverForOutlet(a)}elementUnmatchedAttribute(t,r){const a=this.getOutletNameFromOutletAttributeName(r);a&&this.updateSelectorObserverForOutlet(a)}connectOutlet(t,r,a){var u;this.outletElementsByName.has(a,r)||(this.outletsByName.add(a,t),this.outletElementsByName.add(a,r),(u=this.selectorObserverMap.get(a))===null||u===void 0||u.pause(()=>this.delegate.outletConnected(t,r,a)))}disconnectOutlet(t,r,a){var u;this.outletElementsByName.has(a,r)&&(this.outletsByName.delete(a,t),this.outletElementsByName.delete(a,r),(u=this.selectorObserverMap.get(a))===null||u===void 0||u.pause(()=>this.delegate.outletDisconnected(t,r,a)))}disconnectAllOutlets(){for(const t of this.outletElementsByName.keys)for(const r of this.outletElementsByName.getValuesForKey(t))for(const a of this.outletsByName.getValuesForKey(t))this.disconnectOutlet(a,r,t)}updateSelectorObserverForOutlet(t){const r=this.selectorObserverMap.get(t);r&&(r.selector=this.selector(t))}setupSelectorObserverForOutlet(t){const r=this.selector(t),a=new Cm(document.body,r,this,{outletName:t});this.selectorObserverMap.set(t,a),a.start()}setupAttributeObserverForOutlet(t){const r=this.attributeNameForOutletName(t),a=new Ch(this.scope.element,r,this);this.attributeObserverMap.set(t,a),a.start()}selector(t){return this.scope.outlets.getSelectorForOutletName(t)}attributeNameForOutletName(t){return this.scope.schema.outletAttributeForScope(this.identifier,t)}getOutletNameFromOutletAttributeName(t){return this.outletDefinitions.find(r=>this.attributeNameForOutletName(r)===t)}get outletDependencies(){const t=new sr;return this.router.modules.forEach(r=>{const a=r.definition.controllerConstructor;Tn(a,"outlets").forEach(f=>t.add(f,r.identifier))}),t}get outletDefinitions(){return this.outletDependencies.getKeysForValue(this.identifier)}get dependentControllerIdentifiers(){return this.outletDependencies.getValuesForKey(this.identifier)}get dependentContexts(){const t=this.dependentControllerIdentifiers;return this.router.contexts.filter(r=>t.includes(r.identifier))}hasOutlet(t,r){return!!this.getOutlet(t,r)||!!this.getOutletFromMap(t,r)}getOutlet(t,r){return this.application.getControllerForElementAndIdentifier(t,r)}getOutletFromMap(t,r){return this.outletsByName.getValuesForKey(r).find(a=>a.element===t)}get scope(){return this.context.scope}get schema(){return this.context.schema}get identifier(){return this.context.identifier}get application(){return this.context.application}get router(){return this.application.router}}class _m{constructor(t,r){this.logDebugActivity=(a,u={})=>{const{identifier:f,controller:d,element:m}=this;u=Object.assign({identifier:f,controller:d,element:m},u),this.application.logDebugActivity(this.identifier,a,u)},this.module=t,this.scope=r,this.controller=new t.controllerConstructor(this),this.bindingObserver=new Am(this,this.dispatcher),this.valueObserver=new Lm(this,this.controller),this.targetObserver=new Fm(this,this),this.outletObserver=new Om(this,this);try{this.controller.initialize(),this.logDebugActivity("initialize")}catch(a){this.handleError(a,"initializing controller")}}connect(){this.bindingObserver.start(),this.valueObserver.start(),this.targetObserver.start(),this.outletObserver.start();try{this.controller.connect(),this.logDebugActivity("connect")}catch(t){this.handleError(t,"connecting controller")}}refresh(){this.outletObserver.refresh()}disconnect(){try{this.controller.disconnect(),this.logDebugActivity("disconnect")}catch(t){this.handleError(t,"disconnecting controller")}this.outletObserver.stop(),this.targetObserver.stop(),this.valueObserver.stop(),this.bindingObserver.stop()}get application(){return this.module.application}get identifier(){return this.module.identifier}get schema(){return this.application.schema}get dispatcher(){return this.application.dispatcher}get element(){return this.scope.element}get parentElement(){return this.element.parentElement}handleError(t,r,a={}){const{identifier:u,controller:f,element:d}=this;a=Object.assign({identifier:u,controller:f,element:d},a),this.application.handleError(t,`Error ${r}`,a)}targetConnected(t,r){this.invokeControllerMethod(`${r}TargetConnected`,t)}targetDisconnected(t,r){this.invokeControllerMethod(`${r}TargetDisconnected`,t)}outletConnected(t,r,a){this.invokeControllerMethod(`${Ba(a)}OutletConnected`,t,r)}outletDisconnected(t,r,a){this.invokeControllerMethod(`${Ba(a)}OutletDisconnected`,t,r)}invokeControllerMethod(t,...r){const a=this.controller;typeof a[t]=="function"&&a[t](...r)}}function Pm(n){return Rm(n,Im(n))}function Rm(n,t){const r=zm(n),a=Nm(n.prototype,t);return Object.defineProperties(r.prototype,a),r}function Im(n){return Tn(n,"blessings").reduce((r,a)=>{const u=a(n);for(const f in u){const d=r[f]||{};r[f]=Object.assign(d,u[f])}return r},{})}function Nm(n,t){return Hm(t).reduce((r,a)=>{const u=jm(n,t,a);return u&&Object.assign(r,{[a]:u}),r},{})}function jm(n,t,r){const a=Object.getOwnPropertyDescriptor(n,r);if(!(a&&"value"in a)){const f=Object.getOwnPropertyDescriptor(t,r).value;return a&&(f.get=a.get||f.get,f.set=a.set||f.set),f}}const Hm=(()=>typeof Object.getOwnPropertySymbols=="function"?n=>[...Object.getOwnPropertyNames(n),...Object.getOwnPropertySymbols(n)]:Object.getOwnPropertyNames)(),zm=(()=>{function n(r){function a(){return Reflect.construct(r,arguments,new.target)}return a.prototype=Object.create(r.prototype,{constructor:{value:a}}),Reflect.setPrototypeOf(a,r),a}function t(){const a=n(function(){this.a.call(this)});return a.prototype.a=function(){},new a}try{return t(),n}catch{return a=>class extends a{}}})();function Wm(n){return{identifier:n.identifier,controllerConstructor:Pm(n.controllerConstructor)}}class $m{constructor(t,r){this.application=t,this.definition=Wm(r),this.contextsByScope=new WeakMap,this.connectedContexts=new Set}get identifier(){return this.definition.identifier}get controllerConstructor(){return this.definition.controllerConstructor}get contexts(){return Array.from(this.connectedContexts)}connectContextForScope(t){const r=this.fetchContextForScope(t);this.connectedContexts.add(r),r.connect()}disconnectContextForScope(t){const r=this.contextsByScope.get(t);r&&(this.connectedContexts.delete(r),r.disconnect())}fetchContextForScope(t){let r=this.contextsByScope.get(t);return r||(r=new _m(this,t),this.contextsByScope.set(t,r)),r}}class qm{constructor(t){this.scope=t}has(t){return this.data.has(this.getDataKey(t))}get(t){return this.getAll(t)[0]}getAll(t){const r=this.data.get(this.getDataKey(t))||"";return pm(r)}getAttributeName(t){return this.data.getAttributeNameForKey(this.getDataKey(t))}getDataKey(t){return`${t}-class`}get data(){return this.scope.data}}class Um{constructor(t){this.scope=t}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get(t){const r=this.getAttributeNameForKey(t);return this.element.getAttribute(r)}set(t,r){const a=this.getAttributeNameForKey(t);return this.element.setAttribute(a,r),this.get(t)}has(t){const r=this.getAttributeNameForKey(t);return this.element.hasAttribute(r)}delete(t){if(this.has(t)){const r=this.getAttributeNameForKey(t);return this.element.removeAttribute(r),!0}else return!1}getAttributeNameForKey(t){return`data-${this.identifier}-${wh(t)}`}}class Vm{constructor(t){this.warnedKeysByObject=new WeakMap,this.logger=t}warn(t,r,a){let u=this.warnedKeysByObject.get(t);u||(u=new Set,this.warnedKeysByObject.set(t,u)),u.has(r)||(u.add(r),this.logger.warn(a,t))}}function _a(n,t){return`[${n}~="${t}"]`}class Km{constructor(t){this.scope=t}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(t){return this.find(t)!=null}find(...t){return t.reduce((r,a)=>r||this.findTarget(a)||this.findLegacyTarget(a),void 0)}findAll(...t){return t.reduce((r,a)=>[...r,...this.findAllTargets(a),...this.findAllLegacyTargets(a)],[])}findTarget(t){const r=this.getSelectorForTargetName(t);return this.scope.findElement(r)}findAllTargets(t){const r=this.getSelectorForTargetName(t);return this.scope.findAllElements(r)}getSelectorForTargetName(t){const r=this.schema.targetAttributeForScope(this.identifier);return _a(r,t)}findLegacyTarget(t){const r=this.getLegacySelectorForTargetName(t);return this.deprecate(this.scope.findElement(r),t)}findAllLegacyTargets(t){const r=this.getLegacySelectorForTargetName(t);return this.scope.findAllElements(r).map(a=>this.deprecate(a,t))}getLegacySelectorForTargetName(t){const r=`${this.identifier}.${t}`;return _a(this.schema.targetAttribute,r)}deprecate(t,r){if(t){const{identifier:a}=this,u=this.schema.targetAttribute,f=this.schema.targetAttributeForScope(a);this.guide.warn(t,`target:${r}`,`Please replace ${u}="${a}.${r}" with ${f}="${r}". The ${u} attribute is deprecated and will be removed in a future version of Stimulus.`)}return t}get guide(){return this.scope.guide}}class Gm{constructor(t,r){this.scope=t,this.controllerElement=r}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(t){return this.find(t)!=null}find(...t){return t.reduce((r,a)=>r||this.findOutlet(a),void 0)}findAll(...t){return t.reduce((r,a)=>[...r,...this.findAllOutlets(a)],[])}getSelectorForOutletName(t){const r=this.schema.outletAttributeForScope(this.identifier,t);return this.controllerElement.getAttribute(r)}findOutlet(t){const r=this.getSelectorForOutletName(t);if(r)return this.findElement(r,t)}findAllOutlets(t){const r=this.getSelectorForOutletName(t);return r?this.findAllElements(r,t):[]}findElement(t,r){return this.scope.queryElements(t).filter(u=>this.matchesElement(u,t,r))[0]}findAllElements(t,r){return this.scope.queryElements(t).filter(u=>this.matchesElement(u,t,r))}matchesElement(t,r,a){const u=t.getAttribute(this.scope.schema.controllerAttribute)||"";return t.matches(r)&&u.split(" ").includes(a)}}class nl{constructor(t,r,a,u){this.targets=new Km(this),this.classes=new qm(this),this.data=new Um(this),this.containsElement=f=>f.closest(this.controllerSelector)===this.element,this.schema=t,this.element=r,this.identifier=a,this.guide=new Vm(u),this.outlets=new Gm(this.documentScope,r)}findElement(t){return this.element.matches(t)?this.element:this.queryElements(t).find(this.containsElement)}findAllElements(t){return[...this.element.matches(t)?[this.element]:[],...this.queryElements(t).filter(this.containsElement)]}queryElements(t){return Array.from(this.element.querySelectorAll(t))}get controllerSelector(){return _a(this.schema.controllerAttribute,this.identifier)}get isDocumentScope(){return this.element===document.documentElement}get documentScope(){return this.isDocumentScope?this:new nl(this.schema,document.documentElement,this.identifier,this.guide.logger)}}class Xm{constructor(t,r,a){this.element=t,this.schema=r,this.delegate=a,this.valueListObserver=new Eh(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap}start(){this.valueListObserver.start()}stop(){this.valueListObserver.stop()}get controllerAttribute(){return this.schema.controllerAttribute}parseValueForToken(t){const{element:r,content:a}=t;return this.parseValueForElementAndIdentifier(r,a)}parseValueForElementAndIdentifier(t,r){const a=this.fetchScopesByIdentifierForElement(t);let u=a.get(r);return u||(u=this.delegate.createScopeForElementAndIdentifier(t,r),a.set(r,u)),u}elementMatchedValue(t,r){const a=(this.scopeReferenceCounts.get(r)||0)+1;this.scopeReferenceCounts.set(r,a),a==1&&this.delegate.scopeConnected(r)}elementUnmatchedValue(t,r){const a=this.scopeReferenceCounts.get(r);a&&(this.scopeReferenceCounts.set(r,a-1),a==1&&this.delegate.scopeDisconnected(r))}fetchScopesByIdentifierForElement(t){let r=this.scopesByIdentifierByElement.get(t);return r||(r=new Map,this.scopesByIdentifierByElement.set(t,r)),r}}class Ym{constructor(t){this.application=t,this.scopeObserver=new Xm(this.element,this.schema,this),this.scopesByIdentifier=new sr,this.modulesByIdentifier=new Map}get element(){return this.application.element}get schema(){return this.application.schema}get logger(){return this.application.logger}get controllerAttribute(){return this.schema.controllerAttribute}get modules(){return Array.from(this.modulesByIdentifier.values())}get contexts(){return this.modules.reduce((t,r)=>t.concat(r.contexts),[])}start(){this.scopeObserver.start()}stop(){this.scopeObserver.stop()}loadDefinition(t){this.unloadIdentifier(t.identifier);const r=new $m(this.application,t);this.connectModule(r);const a=t.controllerConstructor.afterLoad;a&&a.call(t.controllerConstructor,t.identifier,this.application)}unloadIdentifier(t){const r=this.modulesByIdentifier.get(t);r&&this.disconnectModule(r)}getContextForElementAndIdentifier(t,r){const a=this.modulesByIdentifier.get(r);if(a)return a.contexts.find(u=>u.element==t)}proposeToConnectScopeForElementAndIdentifier(t,r){const a=this.scopeObserver.parseValueForElementAndIdentifier(t,r);a?this.scopeObserver.elementMatchedValue(a.element,a):console.error(`Couldn't find or create scope for identifier: "${r}" and element:`,t)}handleError(t,r,a){this.application.handleError(t,r,a)}createScopeForElementAndIdentifier(t,r){return new nl(this.schema,t,r,this.logger)}scopeConnected(t){this.scopesByIdentifier.add(t.identifier,t);const r=this.modulesByIdentifier.get(t.identifier);r&&r.connectContextForScope(t)}scopeDisconnected(t){this.scopesByIdentifier.delete(t.identifier,t);const r=this.modulesByIdentifier.get(t.identifier);r&&r.disconnectContextForScope(t)}connectModule(t){this.modulesByIdentifier.set(t.identifier,t),this.scopesByIdentifier.getValuesForKey(t.identifier).forEach(a=>t.connectContextForScope(a))}disconnectModule(t){this.modulesByIdentifier.delete(t.identifier),this.scopesByIdentifier.getValuesForKey(t.identifier).forEach(a=>t.disconnectContextForScope(a))}}const Zm={controllerAttribute:"data-controller",actionAttribute:"data-action",targetAttribute:"data-target",targetAttributeForScope:n=>`data-${n}-target`,outletAttributeForScope:(n,t)=>`data-${n}-${t}-outlet`,keyMappings:Object.assign(Object.assign({enter:"Enter",tab:"Tab",esc:"Escape",space:" ",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",home:"Home",end:"End",page_up:"PageUp",page_down:"PageDown"},Ec("abcdefghijklmnopqrstuvwxyz".split("").map(n=>[n,n]))),Ec("0123456789".split("").map(n=>[n,n])))};function Ec(n){return n.reduce((t,[r,a])=>Object.assign(Object.assign({},t),{[r]:a}),{})}class Jm{constructor(t=document.documentElement,r=Zm){this.logger=console,this.debug=!1,this.logDebugActivity=(a,u,f={})=>{this.debug&&this.logFormattedMessage(a,u,f)},this.element=t,this.schema=r,this.dispatcher=new am(this),this.router=new Ym(this),this.actionDescriptorFilters=Object.assign({},lm)}static start(t,r){const a=new this(t,r);return a.start(),a}async start(){await Qm(),this.logDebugActivity("application","starting"),this.dispatcher.start(),this.router.start(),this.logDebugActivity("application","start")}stop(){this.logDebugActivity("application","stopping"),this.dispatcher.stop(),this.router.stop(),this.logDebugActivity("application","stop")}register(t,r){this.load({identifier:t,controllerConstructor:r})}registerActionOption(t,r){this.actionDescriptorFilters[t]=r}load(t,...r){(Array.isArray(t)?t:[t,...r]).forEach(u=>{u.controllerConstructor.shouldLoad&&this.router.loadDefinition(u)})}unload(t,...r){(Array.isArray(t)?t:[t,...r]).forEach(u=>this.router.unloadIdentifier(u))}get controllers(){return this.router.contexts.map(t=>t.controller)}getControllerForElementAndIdentifier(t,r){const a=this.router.getContextForElementAndIdentifier(t,r);return a?a.controller:null}handleError(t,r,a){var u;this.logger.error(`%s

%o

%o`,r,t,a),(u=window.onerror)===null||u===void 0||u.call(window,r,"",0,0,t)}logFormattedMessage(t,r,a={}){a=Object.assign({application:this},a),this.logger.groupCollapsed(`${t} #${r}`),this.logger.log("details:",Object.assign({},a)),this.logger.groupEnd()}}function Qm(){return new Promise(n=>{document.readyState=="loading"?document.addEventListener("DOMContentLoaded",()=>n()):n()})}function ev(n){return Tn(n,"classes").reduce((r,a)=>Object.assign(r,tv(a)),{})}function tv(n){return{[`${n}Class`]:{get(){const{classes:t}=this;if(t.has(n))return t.get(n);{const r=t.getAttributeName(n);throw new Error(`Missing attribute "${r}"`)}}},[`${n}Classes`]:{get(){return this.classes.getAll(n)}},[`has${Fn(n)}Class`]:{get(){return this.classes.has(n)}}}}function iv(n){return Tn(n,"outlets").reduce((r,a)=>Object.assign(r,rv(a)),{})}function Dc(n,t,r){return n.application.getControllerForElementAndIdentifier(t,r)}function Ac(n,t,r){let a=Dc(n,t,r);if(a||(n.application.router.proposeToConnectScopeForElementAndIdentifier(t,r),a=Dc(n,t,r),a))return a}function rv(n){const t=Ba(n);return{[`${t}Outlet`]:{get(){const r=this.outlets.find(n),a=this.outlets.getSelectorForOutletName(n);if(r){const u=Ac(this,r,n);if(u)return u;throw new Error(`The provided outlet element is missing an outlet controller "${n}" instance for host controller "${this.identifier}"`)}throw new Error(`Missing outlet element "${n}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${a}".`)}},[`${t}Outlets`]:{get(){const r=this.outlets.findAll(n);return r.length>0?r.map(a=>{const u=Ac(this,a,n);if(u)return u;console.warn(`The provided outlet element is missing an outlet controller "${n}" instance for host controller "${this.identifier}"`,a)}).filter(a=>a):[]}},[`${t}OutletElement`]:{get(){const r=this.outlets.find(n),a=this.outlets.getSelectorForOutletName(n);if(r)return r;throw new Error(`Missing outlet element "${n}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${a}".`)}},[`${t}OutletElements`]:{get(){return this.outlets.findAll(n)}},[`has${Fn(t)}Outlet`]:{get(){return this.outlets.has(n)}}}}function nv(n){return Tn(n,"targets").reduce((r,a)=>Object.assign(r,sv(a)),{})}function sv(n){return{[`${n}Target`]:{get(){const t=this.targets.find(n);if(t)return t;throw new Error(`Missing target element "${n}" for "${this.identifier}" controller`)}},[`${n}Targets`]:{get(){return this.targets.findAll(n)}},[`has${Fn(n)}Target`]:{get(){return this.targets.has(n)}}}}function ov(n){const t=Tm(n,"values"),r={valueDescriptorMap:{get(){return t.reduce((a,u)=>{const f=Ah(u,this.identifier),d=this.data.getAttributeNameForKey(f.key);return Object.assign(a,{[d]:f})},{})}}};return t.reduce((a,u)=>Object.assign(a,av(u)),r)}function av(n,t){const r=Ah(n,t),{key:a,name:u,reader:f,writer:d}=r;return{[u]:{get(){const m=this.data.get(a);return m!==null?f(m):r.defaultValue},set(m){m===void 0?this.data.delete(a):this.data.set(a,d(m))}},[`has${Fn(u)}`]:{get(){return this.data.has(a)||r.hasCustomDefaultValue}}}}function Ah([n,t],r){return hv({controller:r,token:n,typeDefinition:t})}function Fs(n){switch(n){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}}function Sn(n){switch(typeof n){case"boolean":return"boolean";case"number":return"number";case"string":return"string"}if(Array.isArray(n))return"array";if(Object.prototype.toString.call(n)==="[object Object]")return"object"}function lv(n){const{controller:t,token:r,typeObject:a}=n,u=Cc(a.type),f=Cc(a.default),d=u&&f,m=u&&!f,y=!u&&f,E=Fs(a.type),B=Sn(n.typeObject.default);if(m)return E;if(y)return B;if(E!==B){const M=t?`${t}.${r}`:r;throw new Error(`The specified default value for the Stimulus Value "${M}" must match the defined type "${E}". The provided default value of "${a.default}" is of type "${B}".`)}if(d)return E}function uv(n){const{controller:t,token:r,typeDefinition:a}=n,f=lv({controller:t,token:r,typeObject:a}),d=Sn(a),m=Fs(a),y=f||d||m;if(y)return y;const E=t?`${t}.${a}`:r;throw new Error(`Unknown value type "${E}" for "${r}" value`)}function cv(n){const t=Fs(n);if(t)return Lc[t];const r=Oa(n,"default"),a=Oa(n,"type"),u=n;if(r)return u.default;if(a){const{type:f}=u,d=Fs(f);if(d)return Lc[d]}return n}function hv(n){const{token:t,typeDefinition:r}=n,a=`${wh(t)}-value`,u=uv(n);return{type:u,key:a,name:rl(a),get defaultValue(){return cv(r)},get hasCustomDefaultValue(){return Sn(r)!==void 0},reader:dv[u],writer:Fc[u]||Fc.default}}const Lc={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},dv={array(n){const t=JSON.parse(n);if(!Array.isArray(t))throw new TypeError(`expected value of type "array" but instead got value "${n}" of type "${Sn(t)}"`);return t},boolean(n){return!(n=="0"||String(n).toLowerCase()=="false")},number(n){return Number(n.replace(/_/g,""))},object(n){const t=JSON.parse(n);if(t===null||typeof t!="object"||Array.isArray(t))throw new TypeError(`expected value of type "object" but instead got value "${n}" of type "${Sn(t)}"`);return t},string(n){return n}},Fc={default:fv,array:Tc,object:Tc};function Tc(n){return JSON.stringify(n)}function fv(n){return`${n}`}class ft{constructor(t){this.context=t}static get shouldLoad(){return!0}static afterLoad(t,r){}get application(){return this.context.application}get scope(){return this.context.scope}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get targets(){return this.scope.targets}get outlets(){return this.scope.outlets}get classes(){return this.scope.classes}get data(){return this.scope.data}initialize(){}connect(){}disconnect(){}dispatch(t,{target:r=this.element,detail:a={},prefix:u=this.identifier,bubbles:f=!0,cancelable:d=!0}={}){const m=u?`${u}:${t}`:t,y=new CustomEvent(m,{detail:a,bubbles:f,cancelable:d});return r.dispatchEvent(y),y}}ft.blessings=[ev,nv,ov,iv];ft.targets=[];ft.outlets=[];ft.values={};var Lh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function pv(n){if(n.__esModule)return n;var t=n.default;if(typeof t=="function"){var r=function a(){return this instanceof a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(n).forEach(function(a){var u=Object.getOwnPropertyDescriptor(n,a);Object.defineProperty(r,a,u.get?u:{enumerable:!0,get:function(){return n[a]}})}),r}var Th={exports:{}};/*!
 * Toastify js 1.12.0
 * https://github.com/apvarun/toastify-js
 * @license MIT licensed
 *
 * Copyright (C) 2018 Varun A P
 */(function(n){(function(t,r){n.exports?n.exports=r():t.Toastify=r()})(Lh,function(t){var r=function(d){return new r.lib.init(d)},a="1.12.0";r.defaults={oldestFirst:!0,text:"Toastify is awesome!",node:void 0,duration:3e3,selector:void 0,callback:function(){},destination:void 0,newWindow:!1,close:!1,gravity:"toastify-top",positionLeft:!1,position:"",backgroundColor:"",avatar:"",className:"",stopOnFocus:!0,onClick:function(){},offset:{x:0,y:0},escapeMarkup:!0,ariaLive:"polite",style:{background:""}},r.lib=r.prototype={toastify:a,constructor:r,init:function(d){return d||(d={}),this.options={},this.toastElement=null,this.options.text=d.text||r.defaults.text,this.options.node=d.node||r.defaults.node,this.options.duration=d.duration===0?0:d.duration||r.defaults.duration,this.options.selector=d.selector||r.defaults.selector,this.options.callback=d.callback||r.defaults.callback,this.options.destination=d.destination||r.defaults.destination,this.options.newWindow=d.newWindow||r.defaults.newWindow,this.options.close=d.close||r.defaults.close,this.options.gravity=d.gravity==="bottom"?"toastify-bottom":r.defaults.gravity,this.options.positionLeft=d.positionLeft||r.defaults.positionLeft,this.options.position=d.position||r.defaults.position,this.options.backgroundColor=d.backgroundColor||r.defaults.backgroundColor,this.options.avatar=d.avatar||r.defaults.avatar,this.options.className=d.className||r.defaults.className,this.options.stopOnFocus=d.stopOnFocus===void 0?r.defaults.stopOnFocus:d.stopOnFocus,this.options.onClick=d.onClick||r.defaults.onClick,this.options.offset=d.offset||r.defaults.offset,this.options.escapeMarkup=d.escapeMarkup!==void 0?d.escapeMarkup:r.defaults.escapeMarkup,this.options.ariaLive=d.ariaLive||r.defaults.ariaLive,this.options.style=d.style||r.defaults.style,d.backgroundColor&&(this.options.style.background=d.backgroundColor),this},buildToast:function(){if(!this.options)throw"Toastify is not initialized";var d=document.createElement("div");d.className="toastify on "+this.options.className,this.options.position?d.className+=" toastify-"+this.options.position:this.options.positionLeft===!0?(d.className+=" toastify-left",console.warn("Property `positionLeft` will be depreciated in further versions. Please use `position` instead.")):d.className+=" toastify-right",d.className+=" "+this.options.gravity,this.options.backgroundColor&&console.warn('DEPRECATION NOTICE: "backgroundColor" is being deprecated. Please use the "style.background" property.');for(var m in this.options.style)d.style[m]=this.options.style[m];if(this.options.ariaLive&&d.setAttribute("aria-live",this.options.ariaLive),this.options.node&&this.options.node.nodeType===Node.ELEMENT_NODE)d.appendChild(this.options.node);else if(this.options.escapeMarkup?d.innerText=this.options.text:d.innerHTML=this.options.text,this.options.avatar!==""){var y=document.createElement("img");y.src=this.options.avatar,y.className="toastify-avatar",this.options.position=="left"||this.options.positionLeft===!0?d.appendChild(y):d.insertAdjacentElement("afterbegin",y)}if(this.options.close===!0){var E=document.createElement("button");E.type="button",E.setAttribute("aria-label","Close"),E.className="toast-close",E.innerHTML="&#10006;",E.addEventListener("click",(function(V){V.stopPropagation(),this.removeElement(this.toastElement),window.clearTimeout(this.toastElement.timeOutValue)}).bind(this));var B=window.innerWidth>0?window.innerWidth:screen.width;(this.options.position=="left"||this.options.positionLeft===!0)&&B>360?d.insertAdjacentElement("afterbegin",E):d.appendChild(E)}if(this.options.stopOnFocus&&this.options.duration>0){var M=this;d.addEventListener("mouseover",function(V){window.clearTimeout(d.timeOutValue)}),d.addEventListener("mouseleave",function(){d.timeOutValue=window.setTimeout(function(){M.removeElement(d)},M.options.duration)})}if(typeof this.options.destination<"u"&&d.addEventListener("click",(function(V){V.stopPropagation(),this.options.newWindow===!0?window.open(this.options.destination,"_blank"):window.location=this.options.destination}).bind(this)),typeof this.options.onClick=="function"&&typeof this.options.destination>"u"&&d.addEventListener("click",(function(V){V.stopPropagation(),this.options.onClick()}).bind(this)),typeof this.options.offset=="object"){var _=u("x",this.options),W=u("y",this.options),U=this.options.position=="left"?_:"-"+_,X=this.options.gravity=="toastify-top"?W:"-"+W;d.style.transform="translate("+U+","+X+")"}return d},showToast:function(){this.toastElement=this.buildToast();var d;if(typeof this.options.selector=="string"?d=document.getElementById(this.options.selector):this.options.selector instanceof HTMLElement||typeof ShadowRoot<"u"&&this.options.selector instanceof ShadowRoot?d=this.options.selector:d=document.body,!d)throw"Root element is not defined";var m=r.defaults.oldestFirst?d.firstChild:d.lastChild;return d.insertBefore(this.toastElement,m),r.reposition(),this.options.duration>0&&(this.toastElement.timeOutValue=window.setTimeout((function(){this.removeElement(this.toastElement)}).bind(this),this.options.duration)),this},hideToast:function(){this.toastElement.timeOutValue&&clearTimeout(this.toastElement.timeOutValue),this.removeElement(this.toastElement)},removeElement:function(d){d.className=d.className.replace(" on",""),window.setTimeout((function(){this.options.node&&this.options.node.parentNode&&this.options.node.parentNode.removeChild(this.options.node),d.parentNode&&d.parentNode.removeChild(d),this.options.callback.call(d),r.reposition()}).bind(this),400)}},r.reposition=function(){for(var d={top:15,bottom:15},m={top:15,bottom:15},y={top:15,bottom:15},E=document.getElementsByClassName("toastify"),B,M=0;M<E.length;M++){f(E[M],"toastify-top")===!0?B="toastify-top":B="toastify-bottom";var _=E[M].offsetHeight;B=B.substr(9,B.length-1);var W=15,U=window.innerWidth>0?window.innerWidth:screen.width;U<=360?(E[M].style[B]=y[B]+"px",y[B]+=_+W):f(E[M],"toastify-left")===!0?(E[M].style[B]=d[B]+"px",d[B]+=_+W):(E[M].style[B]=m[B]+"px",m[B]+=_+W)}return this};function u(d,m){return m.offset[d]?isNaN(m.offset[d])?m.offset[d]:m.offset[d]+"px":"0px"}function f(d,m){return!d||typeof m!="string"?!1:!!(d.className&&d.className.trim().split(/\s+/gi).indexOf(m)>-1)}return r.lib.init.prototype=r.lib,r})})(Th);var gv=Th.exports;const Ts=Fh(gv);class Mh extends ft{connect(){this.element.addEventListener("mouseenter",()=>{this.buttonTarget.classList.remove("hidden")}),this.element.addEventListener("mouseleave",()=>{this.buttonTarget.classList.add("hidden")})}copy(){const t=this.element.querySelector("code").innerText;navigator.clipboard.writeText(t),Ts({text:"",gravity:"bottom",duration:3e3,position:"right",backgroundColor:"#444",style:{"font-weight":"bold","font-size":"14px"}}).showToast()}}Rt(Mh,"targets",["button"]);class Bh extends ft{connect(){this.element.addEventListener("click",this.copy.bind(this))}copy(){navigator.clipboard.writeText(this.urlValue),Ts({text:"",gravity:"bottom",duration:3e3,position:"right",backgroundColor:"#444",style:{"font-weight":"bold","font-size":"14px"}}).showToast()}}Rt(Bh,"values",{url:String});var sl=(n,t,r)=>{if(!t.has(n))throw TypeError("Cannot "+r)},yi=(n,t,r)=>(sl(n,t,"read from private field"),r?r.call(n):t.get(n)),vi=(n,t,r)=>{if(t.has(n))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(n):t.set(n,r)},Pa=(n,t,r,a)=>(sl(n,t,"write to private field"),a?a.call(n,r):t.set(n,r),r),Yt=(n,t,r)=>(sl(n,t,"access private method"),r);const mv="14.0";function vv(n,t,r){let a=`https://cdn.jsdelivr.net/npm/emojibase-data@${t}/${n}`;return typeof r=="function"?a=r(n,t):typeof r=="string"&&(a=`${r}/${n}`),a}async function ol(n,t={}){const{local:r=!1,version:a="latest",cdnUrl:u,...f}=t,d=vv(n,a,u),m=r?localStorage:sessionStorage,y=`emojibase/${a}/${n}`,E=m.getItem(y);if(E)return Promise.resolve(JSON.parse(E));const B=await fetch(d,{credentials:"omit",mode:"cors",redirect:"error",...f});if(!B.ok)throw new Error("Failed to load Emojibase dataset.");const M=await B.json();try{m.setItem(y,JSON.stringify(M))}catch{}return M}const yv={discord:"joypixels",slack:"iamcal"};async function Mc(n,t,r){var a;return ol(`${n}/shortcodes/${(a=yv[t])!==null&&a!==void 0?a:t}.json`,r)}function wn(n,t){if(t.length===0)return n;const r=new Set(n.shortcodes);return t.forEach(a=>{const u=a[n.hexcode];Array.isArray(u)?u.forEach(f=>r.add(f)):u&&r.add(u)}),n.shortcodes=[...r],n.skins&&n.skins.forEach(a=>{wn(a,t)}),n}function bv(n,t=[]){const r=[];return n.forEach(a=>{if(a.skins){const{skins:u,...f}=a;r.push(wn(f,t)),u.forEach(d=>{const m={...d};f.tags&&(m.tags=[...f.tags]),r.push(wn(m,t))})}else r.push(wn(a,t))}),r}function wv(n,t){return t.length===0||n.forEach(r=>{wn(r,t)}),n}async function Oh(n,t={}){const{compact:r=!1,flat:a=!1,shortcodes:u=[],...f}=t,d=await ol(`${n}/${r?"compact":"data"}.json`,f);let m=[];return u.length>0&&(m=await Promise.all(u.map(y=>{let E;if(y.includes("/")){const[B,M]=y.split("/");E=Mc(B,M,f)}else E=Mc(n,y,f);return E.catch(()=>({}))}))),a?bv(d,m):wv(d,m)}async function _h(n,t){return ol(`${n}/messages.json`,t)}function ma(n,t){const r=n.target.closest("[data-emoji]");if(r){const a=t.find(u=>u.emoji===r.dataset.emoji);if(a)return a}return null}function Ph(n){var t;const r=(t=window.matchMedia)==null?void 0:t.call(window,"(prefers-reduced-motion: reduce)");return n.animate&&!(r!=null&&r.matches)}function Bc(n,t){return n.toLowerCase().includes(t.toLowerCase())}function xv(n,t){let r=null;return()=>{r||(r=window.setTimeout(()=>{n(),r=null},t))}}function Cv(n,t){let r=null;return(...a)=>{r&&window.clearTimeout(r),r=window.setTimeout(()=>{n(...a),r=null},t)}}function _r(n,t,r,a){if(Ph(a)&&n.animate)return n.animate(t,r).finished;const u=r.direction==="normal"?1:0,f=Object.entries(t).reduce((d,[m,y])=>({...d,[m]:y[u]}),{});return Object.assign(n.style,f),Promise.resolve()}function Ra(n){var t;const r=document.createElement("template");return r.innerHTML=n,(t=r.content)==null?void 0:t.firstElementChild}async function kv(n){const t=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(r)).map(a=>a.toString(16).padStart(2,"0")).join("")}function Ct(...n){return n.reduce((t,r)=>({...t,[r]:al(r)}),{})}function al(n){return`picmo__${n}`}function ys(n){for(;n.firstChild;)n.removeChild(n.firstChild);return n}function Rr(n,...t){ys(n).append(...t)}function Rh(n){try{return window[n].length,!0}catch{return!1}}function Sv(){return Rh("sessionStorage")}function Ev(){return Rh("localStorage")}function En(n){var t;return{emoji:n.emoji,label:n.label,tags:n.tags,skins:(t=n.skins)==null?void 0:t.map(r=>En(r)),order:n.order,custom:!1,hexcode:n.hexcode,version:n.version}}function Ms(n,t,r){var a;return r&&!r.some(u=>u.order===n.group)?!1:Bc(n.label,t)||((a=n.tags)==null?void 0:a.some(u=>Bc(u,t)))}class Ih{constructor(t="en"){this.locale=t}}const Dv=[(n,t)=>(n.hexcode==="1F91D"&&t<14&&(n.skins=[]),n),(n,t)=>(n.skins&&(n.skins=n.skins.filter(r=>!r.version||r.version<=t)),n)];function Av(n,t){return Dv.some(r=>r(n,t)===null)?null:n}function Bs(n,t){return n.filter(r=>Av(r,t)!==null)}const va={};function Nh(n){return va[n]||(va[n]=new Lv(n)),va[n]}Nh.deleteDatabase=n=>{};class Lv extends Ih{open(){return Promise.resolve()}delete(){return Promise.resolve()}close(){}isPopulated(){return Promise.resolve(!1)}getEmojiCount(){return Promise.resolve(this.emojis.length)}getEtags(){return Promise.resolve({foo:"bar"})}getHash(){return Promise.resolve("")}populate(t){return this.categories=t.groups,this.emojis=t.emojis,Promise.resolve()}getCategories(t){var r;let a=this.categories.filter(u=>u.key!=="component");if(t.showRecents&&a.unshift({key:"recents",order:-1}),(r=t.custom)!=null&&r.length&&a.push({key:"custom",order:10}),t.categories){const u=t.categories;a=a.filter(f=>u.includes(f.key)),a.sort((f,d)=>u.indexOf(f.key)-u.indexOf(d.key))}else a.sort((u,f)=>u.order-f.order);return Promise.resolve(a)}getEmojis(t,r){const a=this.emojis.filter(u=>u.group===t.order).filter(u=>u.version<=r).sort((u,f)=>u.order!=null&&f.order!=null?u.order-f.order:0).map(En);return Promise.resolve(Bs(a,r))}searchEmojis(t,r,a,u){const f=this.emojis.filter(y=>Ms(y,t,u)&&y.version<=a).map(En),d=r.filter(y=>Ms(y,t,u)),m=[...Bs(f,a),...d];return Promise.resolve(m)}setMeta(t){this.meta=t}}function Fv(n,t){const r=`https://cdn.jsdelivr.net/npm/emojibase-data@${n}/${t}`;return{emojisUrl:`${r}/data.json`,messagesUrl:`${r}/messages.json`}}async function Oc(n){try{return(await fetch(n,{method:"HEAD"})).headers.get("etag")}catch{return null}}function Tv(n){const{emojisUrl:t,messagesUrl:r}=Fv("latest",n);try{return Promise.all([Oc(t),Oc(r)])}catch{return Promise.all([null,null])}}async function Mv(n,t,r){let a;try{a=await n.getEtags()}catch{a={}}const{storedEmojisEtag:u,storedMessagesEtag:f}=a;if(r!==f||t!==u){const[d,m]=await Promise.all([_h(n.locale),Oh(n.locale)]);await n.populate({groups:d.groups,emojis:m,emojisEtag:t,messagesEtag:r})}}async function Bv(n,t){const r=await n.getHash();return t!==r}async function jh(n,t,r){let a=r||t(n);try{await a.open()}catch{console.warn("[picmo] IndexedDB not available, falling back to InMemoryStoreFactory"),a=Nh(n)}return a}async function Ov(n,t,r){if(!Sv()&&typeof window<"u")throw new Error("Session storage is required to use CDN emoji data.");const a=await jh(n,t,r),[u,f]=await Tv(n);if(await a.isPopulated())u&&f&&await Mv(a,u,f);else{const[d,m]=await Promise.all([_h(n),Oh(n)]);await a.populate({groups:d.groups,emojis:m,emojisEtag:u,messagesEtag:f})}return a}async function _v(n,t,r,a,u){const f=await jh(n,t,u),d=await kv(a);return(!await f.isPopulated()||await Bv(f,d))&&await f.populate({groups:r.groups,emojis:a,hash:d}),f}async function Hh(n,t,r,a,u){return r&&a?_v(n,t,r,a,u):Ov(n,t,u)}let zh=class{constructor(){this.handleKeyDown=this.handleKeyDown.bind(this)}activate(t){this.rootElement=t,this.rootElement.addEventListener("keydown",this.handleKeyDown)}deactivate(){var t;(t=this.rootElement)==null||t.removeEventListener("keydown",this.handleKeyDown)}get focusableElements(){return this.rootElement.querySelectorAll('input, [tabindex="0"]')}get lastFocusableElement(){return this.focusableElements[this.focusableElements.length-1]}get firstFocusableElement(){return this.focusableElements[0]}checkFocus(t,r,a){t.target===r&&(a.focus(),t.preventDefault())}handleKeyDown(t){t.key==="Tab"&&this.checkFocus(t,t.shiftKey?this.firstFocusableElement:this.lastFocusableElement,t.shiftKey?this.lastFocusableElement:this.firstFocusableElement)}};const{light:Pv,dark:s1,auto:o1}=Ct("light","dark","auto");class Me{constructor({template:t,classes:r,parent:a}){this.isDestroyed=!1,this.appEvents={},this.uiEvents=[],this.uiElements={},this.ui={},this.template=t,this.classes=r,this.parent=a,this.keyBindingHandler=this.keyBindingHandler.bind(this)}initialize(){this.bindAppEvents()}setCustomEmojis(t){this.customEmojis=t}setEvents(t){this.events=t}setPickerId(t){this.pickerId=t}emit(t,...r){this.events.emit(t,...r)}setI18n(t){this.i18n=t}setRenderer(t){this.renderer=t}setEmojiData(t){this.emojiDataPromise=t,t.then(r=>{this.emojiData=r})}updateEmojiData(t){this.emojiData=t,this.emojiDataPromise=Promise.resolve(t)}setOptions(t){this.options=t}renderSync(t={}){return this.el=this.template.renderSync({classes:this.classes,i18n:this.i18n,pickerId:this.pickerId,...t}),this.postRender(),this.el}async render(t={}){return await this.emojiDataPromise,this.el=await this.template.renderAsync({classes:this.classes,i18n:this.i18n,pickerId:this.pickerId,...t}),this.postRender(),this.el}postRender(){this.bindUIElements(),this.bindKeyBindings(),this.bindUIEvents(),this.scheduleShowAnimation()}bindAppEvents(){Object.keys(this.appEvents).forEach(t=>{this.events.on(t,this.appEvents[t],this)}),this.events.on("data:ready",this.updateEmojiData,this)}unbindAppEvents(){Object.keys(this.appEvents).forEach(t=>{this.events.off(t,this.appEvents[t])}),this.events.off("data:ready",this.updateEmojiData)}keyBindingHandler(t){const r=this.keyBindings[t.key];r&&r.call(this,t)}bindKeyBindings(){this.keyBindings&&this.el.addEventListener("keydown",this.keyBindingHandler)}unbindKeyBindings(){this.keyBindings&&this.el.removeEventListener("keydown",this.keyBindingHandler)}bindUIElements(){this.ui=Object.keys(this.uiElements).reduce((t,r)=>({...t,[r]:this.el.querySelector(this.uiElements[r])}),{})}bindUIEvents(){this.uiEvents.forEach(t=>{t.handler=t.handler.bind(this),(t.target?this.ui[t.target]:this.el).addEventListener(t.event,t.handler,t.options)})}unbindUIEvents(){this.uiEvents.forEach(t=>{(t.target?this.ui[t.target]:this.el).removeEventListener(t.event,t.handler)})}destroy(){this.unbindAppEvents(),this.unbindUIEvents(),this.unbindKeyBindings(),this.el.remove(),this.isDestroyed=!0}scheduleShowAnimation(){if(this.parent){const t=new MutationObserver(r=>{const[a]=r;a.type==="childList"&&a.addedNodes[0]===this.el&&(Ph(this.options)&&this.animateShow&&this.animateShow(),t.disconnect)});t.observe(this.parent,{childList:!0})}}static childEvent(t,r,a,u={}){return{target:t,event:r,handler:a,options:u}}static uiEvent(t,r,a={}){return{event:t,handler:r,options:a}}static byClass(t){return`.${t}`}}const Rv='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512zM232 256C232 264 236 271.5 242.7 275.1L338.7 339.1C349.7 347.3 364.6 344.3 371.1 333.3C379.3 322.3 376.3 307.4 365.3 300L280 243.2V120C280 106.7 269.3 96 255.1 96C242.7 96 231.1 106.7 231.1 120L232 256z"/></svg>',Iv='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M64 496C64 504.8 56.75 512 48 512h-32C7.25 512 0 504.8 0 496V32c0-17.75 14.25-32 32-32s32 14.25 32 32V496zM476.3 0c-6.365 0-13.01 1.35-19.34 4.233c-45.69 20.86-79.56 27.94-107.8 27.94c-59.96 0-94.81-31.86-163.9-31.87C160.9 .3055 131.6 4.867 96 15.75v350.5c32-9.984 59.87-14.1 84.85-14.1c73.63 0 124.9 31.78 198.6 31.78c31.91 0 68.02-5.971 111.1-23.09C504.1 355.9 512 344.4 512 332.1V30.73C512 11.1 495.3 0 476.3 0z"/></svg>',Nv='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM176.4 240C194 240 208.4 225.7 208.4 208C208.4 190.3 194 176 176.4 176C158.7 176 144.4 190.3 144.4 208C144.4 225.7 158.7 240 176.4 240zM336.4 176C318.7 176 304.4 190.3 304.4 208C304.4 225.7 318.7 240 336.4 240C354 240 368.4 225.7 368.4 208C368.4 190.3 354 176 336.4 176zM259.9 369.4C288.8 369.4 316.2 375.2 340.6 385.5C352.9 390.7 366.7 381.3 361.4 369.1C344.8 330.9 305.6 303.1 259.9 303.1C214.3 303.1 175.1 330.8 158.4 369.1C153.1 381.3 166.1 390.6 179.3 385.4C203.7 375.1 231 369.4 259.9 369.4L259.9 369.4z"/></svg>',jv='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M448 64H192C85.96 64 0 149.1 0 256s85.96 192 192 192h256c106 0 192-85.96 192-192S554 64 448 64zM247.1 280h-32v32c0 13.2-10.78 24-23.98 24c-13.2 0-24.02-10.8-24.02-24v-32L136 279.1C122.8 279.1 111.1 269.2 111.1 256c0-13.2 10.85-24.01 24.05-24.01L167.1 232v-32c0-13.2 10.82-24 24.02-24c13.2 0 23.98 10.8 23.98 24v32h32c13.2 0 24.02 10.8 24.02 24C271.1 269.2 261.2 280 247.1 280zM431.1 344c-22.12 0-39.1-17.87-39.1-39.1s17.87-40 39.1-40s39.1 17.88 39.1 40S454.1 344 431.1 344zM495.1 248c-22.12 0-39.1-17.87-39.1-39.1s17.87-40 39.1-40c22.12 0 39.1 17.88 39.1 40S518.1 248 495.1 248z"/></svg>',Hv='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M112.1 454.3c0 6.297 1.816 12.44 5.284 17.69l17.14 25.69c5.25 7.875 17.17 14.28 26.64 14.28h61.67c9.438 0 21.36-6.401 26.61-14.28l17.08-25.68c2.938-4.438 5.348-12.37 5.348-17.7L272 415.1h-160L112.1 454.3zM191.4 .0132C89.44 .3257 16 82.97 16 175.1c0 44.38 16.44 84.84 43.56 115.8c16.53 18.84 42.34 58.23 52.22 91.45c.0313 .25 .0938 .5166 .125 .7823h160.2c.0313-.2656 .0938-.5166 .125-.7823c9.875-33.22 35.69-72.61 52.22-91.45C351.6 260.8 368 220.4 368 175.1C368 78.61 288.9-.2837 191.4 .0132zM192 96.01c-44.13 0-80 35.89-80 79.1C112 184.8 104.8 192 96 192S80 184.8 80 176c0-61.76 50.25-111.1 112-111.1c8.844 0 16 7.159 16 16S200.8 96.01 192 96.01z"/></svg>',zv='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M512 32H120c-13.25 0-24 10.75-24 24L96.01 288c0 53 43 96 96 96h192C437 384 480 341 480 288h32c70.63 0 128-57.38 128-128S582.6 32 512 32zM512 224h-32V96h32c35.25 0 64 28.75 64 64S547.3 224 512 224zM560 416h-544C7.164 416 0 423.2 0 432C0 458.5 21.49 480 48 480h480c26.51 0 48-21.49 48-48C576 423.2 568.8 416 560 416z"/></svg>',Wv='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M482.3 192C516.5 192 576 221 576 256C576 292 516.5 320 482.3 320H365.7L265.2 495.9C259.5 505.8 248.9 512 237.4 512H181.2C170.6 512 162.9 501.8 165.8 491.6L214.9 320H112L68.8 377.6C65.78 381.6 61.04 384 56 384H14.03C6.284 384 0 377.7 0 369.1C0 368.7 .1818 367.4 .5398 366.1L32 256L.5398 145.9C.1818 144.6 0 143.3 0 142C0 134.3 6.284 128 14.03 128H56C61.04 128 65.78 130.4 68.8 134.4L112 192H214.9L165.8 20.4C162.9 10.17 170.6 0 181.2 0H237.4C248.9 0 259.5 6.153 265.2 16.12L365.7 192H482.3z"/></svg>',$v='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M9.375 233.4C3.375 239.4 0 247.5 0 256v128c0 8.5 3.375 16.62 9.375 22.62S23.5 416 32 416h32V224H32C23.5 224 15.38 227.4 9.375 233.4zM464 96H352V32c0-17.62-14.38-32-32-32S288 14.38 288 32v64H176C131.8 96 96 131.8 96 176V448c0 35.38 28.62 64 64 64h320c35.38 0 64-28.62 64-64V176C544 131.8 508.3 96 464 96zM256 416H192v-32h64V416zM224 296C201.9 296 184 278.1 184 256S201.9 216 224 216S264 233.9 264 256S246.1 296 224 296zM352 416H288v-32h64V416zM448 416h-64v-32h64V416zM416 296c-22.12 0-40-17.88-40-40S393.9 216 416 216S456 233.9 456 256S438.1 296 416 296zM630.6 233.4C624.6 227.4 616.5 224 608 224h-32v192h32c8.5 0 16.62-3.375 22.62-9.375S640 392.5 640 384V256C640 247.5 636.6 239.4 630.6 233.4z"/></svg>',qv=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
  <defs>
    <radialGradient gradientUnits="userSpaceOnUse" cy="10%" id="gradient-0">
      <stop offset="0" stop-color="hsl(50, 100%, 50%)" />
      <stop offset="1" stop-color="hsl(50, 100%, 60%)" />
    </radialGradient>
  </defs>
  <!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. -->
  <ellipse stroke="#000" fill="rgba(0, 0, 0, 0.6)" cx="172.586" cy="207.006" rx="39.974" ry="39.974"/>
  <ellipse stroke="#000" fill="rgba(0, 0, 0, 0.6)" cx="334.523" cy="207.481" rx="39.974" ry="39.974"/>
  <ellipse stroke="#000" fill="rgba(0, 0, 0, 0.6)" cx="313.325" cy="356.208" rx="91.497" ry="59.893"/>
  <path fill="#55a7ff" d="M 159.427 274.06 L 102.158 363.286 L 124.366 417.011 L 160.476 423.338 L 196.937 414.736 L 218.502 375.214"></path>
  <path fill="url(#gradient-0)" d="M256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0zM256 352C290.9 352 323.2 367.8 348.3 394.9C354.3 401.4 364.4 401.7 370.9 395.7C377.4 389.7 377.7 379.6 371.7 373.1C341.6 340.5 301 320 256 320C247.2 320 240 327.2 240 336C240 344.8 247.2 352 256 352H256zM208 369C208 349 179.6 308.6 166.4 291.3C163.2 286.9 156.8 286.9 153.6 291.3C140.6 308.6 112 349 112 369C112 395 133.5 416 160 416C186.5 416 208 395 208 369H208zM303.6 208C303.6 225.7 317.1 240 335.6 240C353.3 240 367.6 225.7 367.6 208C367.6 190.3 353.3 176 335.6 176C317.1 176 303.6 190.3 303.6 208zM207.6 208C207.6 190.3 193.3 176 175.6 176C157.1 176 143.6 190.3 143.6 208C143.6 225.7 157.1 240 175.6 240C193.3 240 207.6 225.7 207.6 208z" />
</svg>`,Uv='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M500.3 443.7l-119.7-119.7c27.22-40.41 40.65-90.9 33.46-144.7C401.8 87.79 326.8 13.32 235.2 1.723C99.01-15.51-15.51 99.01 1.724 235.2c11.6 91.64 86.08 166.7 177.6 178.9c53.8 7.189 104.3-6.236 144.7-33.46l119.7 119.7c15.62 15.62 40.95 15.62 56.57 0C515.9 484.7 515.9 459.3 500.3 443.7zM79.1 208c0-70.58 57.42-128 128-128s128 57.42 128 128c0 70.58-57.42 128-128 128S79.1 278.6 79.1 208z"/></svg>',Vv='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM256.3 331.8C208.9 331.8 164.1 324.9 124.5 312.8C112.2 309 100.2 319.7 105.2 331.5C130.1 390.6 188.4 432 256.3 432C324.2 432 382.4 390.6 407.4 331.5C412.4 319.7 400.4 309 388.1 312.8C348.4 324.9 303.7 331.8 256.3 331.8H256.3zM176.4 176C158.7 176 144.4 190.3 144.4 208C144.4 225.7 158.7 240 176.4 240C194 240 208.4 225.7 208.4 208C208.4 190.3 194 176 176.4 176zM336.4 240C354 240 368.4 225.7 368.4 208C368.4 190.3 354 176 336.4 176C318.7 176 304.4 190.3 304.4 208C304.4 225.7 318.7 240 336.4 240z"/></svg>',Kv='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M500.3 7.251C507.7 13.33 512 22.41 512 31.1V175.1C512 202.5 483.3 223.1 447.1 223.1C412.7 223.1 383.1 202.5 383.1 175.1C383.1 149.5 412.7 127.1 447.1 127.1V71.03L351.1 90.23V207.1C351.1 234.5 323.3 255.1 287.1 255.1C252.7 255.1 223.1 234.5 223.1 207.1C223.1 181.5 252.7 159.1 287.1 159.1V63.1C287.1 48.74 298.8 35.61 313.7 32.62L473.7 .6198C483.1-1.261 492.9 1.173 500.3 7.251H500.3zM74.66 303.1L86.5 286.2C92.43 277.3 102.4 271.1 113.1 271.1H174.9C185.6 271.1 195.6 277.3 201.5 286.2L213.3 303.1H239.1C266.5 303.1 287.1 325.5 287.1 351.1V463.1C287.1 490.5 266.5 511.1 239.1 511.1H47.1C21.49 511.1-.0019 490.5-.0019 463.1V351.1C-.0019 325.5 21.49 303.1 47.1 303.1H74.66zM143.1 359.1C117.5 359.1 95.1 381.5 95.1 407.1C95.1 434.5 117.5 455.1 143.1 455.1C170.5 455.1 191.1 434.5 191.1 407.1C191.1 381.5 170.5 359.1 143.1 359.1zM440.3 367.1H496C502.7 367.1 508.6 372.1 510.1 378.4C513.3 384.6 511.6 391.7 506.5 396L378.5 508C372.9 512.1 364.6 513.3 358.6 508.9C352.6 504.6 350.3 496.6 353.3 489.7L391.7 399.1H336C329.3 399.1 323.4 395.9 321 389.6C318.7 383.4 320.4 376.3 325.5 371.1L453.5 259.1C459.1 255 467.4 254.7 473.4 259.1C479.4 263.4 481.6 271.4 478.7 278.3L440.3 367.1zM116.7 219.1L19.85 119.2C-8.112 90.26-6.614 42.31 24.85 15.34C51.82-8.137 93.26-3.642 118.2 21.83L128.2 32.32L137.7 21.83C162.7-3.642 203.6-8.137 231.6 15.34C262.6 42.31 264.1 90.26 236.1 119.2L139.7 219.1C133.2 225.6 122.7 225.6 116.7 219.1H116.7z"/></svg>',Gv='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M413.8 447.1L256 448l0 31.99C256 497.7 241.8 512 224.1 512c-17.67 0-32.1-14.32-32.1-31.99l0-31.99l-158.9-.0099c-28.5 0-43.69-34.49-24.69-56.4l68.98-79.59H62.22c-25.41 0-39.15-29.8-22.67-49.13l60.41-70.85H89.21c-21.28 0-32.87-22.5-19.28-37.31l134.8-146.5c10.4-11.3 28.22-11.3 38.62-.0033l134.9 146.5c13.62 14.81 2.001 37.31-19.28 37.31h-10.77l60.35 70.86c16.46 19.34 2.716 49.12-22.68 49.12h-15.2l68.98 79.59C458.7 413.7 443.1 447.1 413.8 447.1z"/></svg>',Xv='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M224 256c70.7 0 128-57.31 128-128S294.7 0 224 0C153.3 0 96 57.31 96 128S153.3 256 224 256zM274.7 304H173.3c-95.73 0-173.3 77.6-173.3 173.3C0 496.5 15.52 512 34.66 512H413.3C432.5 512 448 496.5 448 477.3C448 381.6 370.4 304 274.7 304zM479.1 320h-73.85C451.2 357.7 480 414.1 480 477.3C480 490.1 476.2 501.9 470 512h138C625.7 512 640 497.6 640 479.1C640 391.6 568.4 320 479.1 320zM432 256C493.9 256 544 205.9 544 144S493.9 32 432 32c-25.11 0-48.04 8.555-66.72 22.51C376.8 76.63 384 101.4 384 128c0 35.52-11.93 68.14-31.59 94.71C372.7 243.2 400.8 256 432 256z"/></svg>',Yv=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
  <defs>
    <radialGradient id="radial" cy="85%">
      <stop offset="20%" stop-color="var(--color-secondary)" />
      <stop offset="100%" stop-color="var(--color-primary)" />
    </radialGradient>
  </defs>
  <!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. -->
  <path fill="url('#radial')" d="M506.3 417l-213.3-364c-16.33-28-57.54-28-73.98 0l-213.2 364C-10.59 444.9 9.849 480 42.74 480h426.6C502.1 480 522.6 445 506.3 417zM232 168c0-13.25 10.75-24 24-24S280 154.8 280 168v128c0 13.25-10.75 24-23.1 24S232 309.3 232 296V168zM256 416c-17.36 0-31.44-14.08-31.44-31.44c0-17.36 14.07-31.44 31.44-31.44s31.44 14.08 31.44 31.44C287.4 401.9 273.4 416 256 416z" />
</svg>`,Zv='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>';function Jv(n,t){const r=Ra(t);return r.dataset.icon=n,r.classList.add(al("icon")),r}const _c={clock:Rv,flag:Iv,frown:Nv,gamepad:jv,lightbulb:Hv,mug:zv,plane:Wv,robot:$v,sad:qv,search:Uv,smiley:Vv,symbols:Kv,tree:Gv,users:Xv,warning:Yv,xmark:Zv},zs={recents:"clock","smileys-emotion":"smiley","people-body":"users","animals-nature":"tree","food-drink":"mug",activities:"gamepad","travel-places":"plane",objects:"lightbulb",symbols:"symbols",flags:"flag",custom:"robot"};function Wh(n,t){if(!(n in _c))return console.warn(`Unknown icon: "${n}"`),document.createElement("div");const r=Jv(n,_c[n]);return t&&r.classList.add(al(`icon-${t}`)),r}const Qv={mode:"sync"};var bn,bs,ws,Ia,xs,Na,Cs,ja;class gt{constructor(t,r={}){vi(this,ws),vi(this,xs),vi(this,Cs),vi(this,bn,void 0),vi(this,bs,void 0),Pa(this,bn,t),Pa(this,bs,r.mode||Qv.mode)}renderSync(t={}){const r=Ra(yi(this,bn).call(this,t));return Yt(this,Cs,ja).call(this,r,t),Yt(this,xs,Na).call(this,r),Yt(this,ws,Ia).call(this,r,t),r}async renderAsync(t={}){const r=Ra(yi(this,bn).call(this,t));return Yt(this,Cs,ja).call(this,r,t),Yt(this,xs,Na).call(this,r),await Yt(this,ws,Ia).call(this,r,t),r}render(t){return yi(this,bs)==="sync"?this.renderSync(t):this.renderAsync(t)}}bn=new WeakMap,bs=new WeakMap,ws=new WeakSet,Ia=async function(n,t){const r=n.querySelectorAll("[data-view]"),a=[];for(const u of r){const f=t[u.dataset.view];f?u.dataset.render!=="sync"?a.push(f.render().then(d=>(u.replaceWith(d),d))):u.replaceWith(f.renderSync()):u.remove()}return Promise.all(a)},xs=new WeakSet,Na=function(n){n.querySelectorAll("i[data-icon]").forEach(t=>{const{icon:r,size:a}=t.dataset;t.replaceWith(Wh(r,a))})},Cs=new WeakSet,ja=function(n,t){return n.querySelectorAll("[data-placeholder]").forEach(r=>{const a=r.dataset.placeholder;if(a&&t[a]){const u=t[a];r.replaceWith(...[u].flat())}else console.warn(`Missing placeholder element for key "${a}"`)}),n};const e0=Ct("imagePlaceholder","placeholder"),t0=new gt(({classes:n})=>`
  <div class="${n.placeholder} ${n.imagePlaceholder}"></div>
`);let i0=class extends Me{constructor({classNames:t}={}){super({template:t0,classes:e0}),this.classNames=t}load(t){const r=document.createElement("img");this.classNames&&(r.className=this.classNames),r.addEventListener("load",()=>{this.el.replaceWith(r)},{once:!0}),Promise.resolve(t).then(a=>r.src=a)}renderSync(){return super.renderSync(),this.classNames&&this.classNames.split(" ").forEach(t=>this.el.classList.add(t)),this.el}};const r0=Ct("customEmoji");class n0{renderElement(t){return{content:t}}renderImage(t="",r){const a=new i0({classNames:t});return a.renderSync(),{content:a,resolver:()=>(a.load(r()),a.el)}}doRender(t,r,a){if(t.custom)return this.renderCustom(t,r,a);const{content:u,resolver:f}=this.render(t,a),d=u instanceof Element?u:u.el;return f&&f(),d}doEmit(t){return t.custom?this.emitCustom(t):this.emit(t)}emitCustom({url:t,label:r,emoji:a,data:u}){return{url:t,label:r,emoji:a,data:u}}renderCustom(t,r,a=""){const u=[r0.customEmoji,a].join(" ").trim(),{content:f,resolver:d}=this.renderImage(u,()=>t.url),m=f instanceof Element?f:f.el;return d&&d(),m}}const s0=new gt(({emoji:n})=>`<span>${n}</span>`);let o0=class extends n0{render(t){return this.renderElement(s0.renderSync({emoji:t.emoji}))}emit({emoji:t,hexcode:r,label:a}){return{emoji:t,hexcode:r,label:a}}};const a0={"categories.activities":"Activities","categories.animals-nature":"Animals & Nature","categories.custom":"Custom","categories.flags":"Flags","categories.food-drink":"Food & Drink","categories.objects":"Objects","categories.people-body":"People & Body","categories.recents":"Recently Used","categories.smileys-emotion":"Smileys & Emotion","categories.symbols":"Symbols","categories.travel-places":"Travel & Places","error.load":"Failed to load emojis","recents.clear":"Clear recent emojis","recents.none":"You haven't selected any emojis yet.",retry:"Try again","search.clear":"Clear search","search.error":"Failed to search emojis","search.notFound":"No results found",search:"Search emojis..."},Ha="PicMo";function $h(n){return new l0(n)}$h.deleteDatabase=n=>new Promise((t,r)=>{const a=indexedDB.deleteDatabase(`${Ha}-${n}`);a.addEventListener("success",t),a.addEventListener("error",r)});class l0 extends Ih{async open(){const t=indexedDB.open(`${Ha}-${this.locale}`);return new Promise((r,a)=>{t.addEventListener("success",u=>{var f;this.db=(f=u.target)==null?void 0:f.result,r()}),t.addEventListener("error",a),t.addEventListener("upgradeneeded",async u=>{var f;this.db=(f=u.target)==null?void 0:f.result,this.db.createObjectStore("category",{keyPath:"order"});const d=this.db.createObjectStore("emoji",{keyPath:"emoji"});d.createIndex("category","group"),d.createIndex("version","version"),this.db.createObjectStore("meta")})})}async delete(){this.close();const t=indexedDB.deleteDatabase(`${Ha}-${this.locale}`);await this.waitForRequest(t)}close(){this.db.close()}async getEmojiCount(){const t=this.db.transaction("emoji","readonly").objectStore("emoji");return(await this.waitForRequest(t.count())).target.result}async getEtags(){const t=this.db.transaction("meta","readonly").objectStore("meta"),[r,a]=await Promise.all([this.waitForRequest(t.get("emojisEtag")),this.waitForRequest(t.get("messagesEtag"))]);return{storedEmojisEtag:r.target.result,storedMessagesEtag:a.target.result}}async setMeta(t){const r=this.db.transaction("meta","readwrite"),a=r.objectStore("meta");return new Promise(u=>{r.oncomplete=u,Object.keys(t).filter(Boolean).forEach(f=>{a.put(t[f],f)})})}async getHash(){const t=this.db.transaction("meta","readonly").objectStore("meta");return(await this.waitForRequest(t.get("hash"))).target.result}async isPopulated(){const t=this.db.transaction("category","readonly").objectStore("category");return(await this.waitForRequest(t.count())).target.result>0}async populate({groups:t,emojis:r,emojisEtag:a,messagesEtag:u,hash:f}){await this.removeAllObjects("category","emoji");const d=[this.addObjects("category",t),this.addObjects("emoji",r),this.setMeta({emojisEtag:a,messagesEtag:u,hash:f})];await Promise.all(d)}async getCategories(t){var r;const a=this.db.transaction("category","readonly").objectStore("category");let u=(await this.waitForRequest(a.getAll())).target.result.filter(f=>f.key!=="component");if(t.showRecents&&u.unshift({key:"recents",order:-1}),(r=t.custom)!=null&&r.length&&u.push({key:"custom",order:10}),t.categories){const f=t.categories;u=u.filter(d=>f.includes(d.key)),u.sort((d,m)=>f.indexOf(d.key)-f.indexOf(m.key))}else u.sort((f,d)=>f.order-d.order);return u}async getEmojis(t,r){const a=this.db.transaction("emoji","readonly").objectStore("emoji").index("category"),u=(await this.waitForRequest(a.getAll(t.order))).target.result.filter(f=>f.version<=r).sort((f,d)=>f.order!=null&&d.order!=null?f.order-d.order:0).map(En);return Bs(u,r)}async searchEmojis(t,r,a,u){const f=[];return new Promise((d,m)=>{const y=this.db.transaction("emoji","readonly").objectStore("emoji").openCursor();y.addEventListener("success",E=>{var B;const M=(B=E.target)==null?void 0:B.result;if(!M)return d([...Bs(f,a),...r.filter(W=>Ms(W,t))]);const _=M.value;Ms(_,t,u)&&_.version<=a&&f.push(En(_)),M.continue()}),y.addEventListener("error",E=>{m(E)})})}async waitForRequest(t){return new Promise((r,a)=>{t.onsuccess=r,t.onerror=a})}withTransaction(t,r="readwrite",a){return new Promise((u,f)=>{const d=this.db.transaction(t,r);d.oncomplete=u,d.onerror=f,a(d)})}async removeAllObjects(...t){const r=this.db.transaction(t,"readwrite"),a=t.map(u=>r.objectStore(u));await Promise.all(a.map(u=>this.waitForRequest(u.clear())))}async addObjects(t,r){return this.withTransaction(t,"readwrite",a=>{const u=a.objectStore(t);r.forEach(f=>{u.add(f)})})}}function u0(){let n={};return{getItem:t=>n[t],setItem:(t,r)=>n[t]=r,length:Object.keys(n).length,clear:()=>n={},key:t=>Object.keys(n)[t],removeItem:t=>delete n[t]}}class c0{}const ya="PicMo:recents";class h0 extends c0{constructor(t){super(),this.storage=t}clear(){this.storage.removeItem(ya)}getRecents(t){var r;try{return JSON.parse((r=this.storage.getItem(ya))!=null?r:"[]").slice(0,t)}catch{return[]}}addOrUpdateRecent(t,r){const a=[t,...this.getRecents(r).filter(u=>u.hexcode!==t.hexcode)].slice(0,r);try{this.storage.setItem(ya,JSON.stringify(a))}catch{console.warn("storage is not available, recent emojis will not be saved")}}}let d0=class extends h0{constructor(){super(Ev()?localStorage:u0())}};const f0={dataStore:$h,theme:Pv,animate:!0,showCategoryTabs:!0,showPreview:!0,showRecents:!0,showSearch:!0,showVariants:!0,emojisPerRow:8,visibleRows:6,emojiVersion:"auto",i18n:a0,locale:"en",maxRecents:50,custom:[]};function qh(n={}){return{...f0,...n,renderer:n.renderer||new o0,recentsProvider:n.recentsProvider||new d0}}var rr,xn,Os,ks,za;let Ws=class{constructor(){vi(this,xn),vi(this,ks),vi(this,rr,new Map)}on(t,r,a){Yt(this,ks,za).call(this,t,r,a)}once(t,r,a){Yt(this,ks,za).call(this,t,r,a,!0)}off(t,r){const a=Yt(this,xn,Os).call(this,t);yi(this,rr).set(t,a.filter(u=>u.handler!==r))}emit(t,...r){Yt(this,xn,Os).call(this,t).forEach(a=>{a.handler.apply(a.context,r),a.once&&this.off(t,a.handler)})}removeAll(){yi(this,rr).clear()}};rr=new WeakMap,xn=new WeakSet,Os=function(n){return yi(this,rr).has(n)||yi(this,rr).set(n,[]),yi(this,rr).get(n)},ks=new WeakSet,za=function(n,t,r,a=!1){Yt(this,xn,Os).call(this,n).push({context:r,handler:t,once:a})};let p0=class extends Ws{},g0=class extends Ws{};const Wa=Ct("emojiCategory","categoryName","noRecents","recentEmojis");class ll extends Me{constructor({template:t,category:r,showVariants:a,lazyLoader:u}){super({template:t,classes:Wa}),this.baseUIElements={categoryName:Me.byClass(Wa.categoryName)},this.category=r,this.showVariants=a,this.lazyLoader=u}setActive(t,r,a){this.emojiContainer.setActive(t,r,a)}}const m0=new gt(({classes:n,emoji:t})=>`
  <button
    type="button"
    class="${n.emojiButton}"
    title="${t.label}"
    data-emoji="${t.emoji}"
    tabindex="-1">
    <div data-placeholder="emojiContent"></div>
  </button>
`),v0=Ct("emojiButton");class Uh extends Me{constructor({emoji:t,lazyLoader:r,category:a}){super({template:m0,classes:v0}),this.emoji=t,this.lazyLoader=r,this.category=a}initialize(){this.uiEvents=[Me.uiEvent("focus",this.handleFocus)],super.initialize()}handleFocus(){this.category&&this.events.emit("focus:change",this.category)}activateFocus(t){this.el.tabIndex=0,t&&this.el.focus()}deactivateFocus(){this.el.tabIndex=-1}renderSync(){return super.renderSync({emoji:this.emoji,emojiContent:this.renderer.doRender(this.emoji,this.lazyLoader)})}}let y0=class{constructor(t,r,a=0,u=0,f=!1){this.events=new Ws,this.keyHandlers={ArrowLeft:this.focusPrevious.bind(this),ArrowRight:this.focusNext.bind(this),ArrowUp:this.focusUp.bind(this),ArrowDown:this.focusDown.bind(this)},this.rowCount=Math.ceil(r/t),this.columnCount=t,this.focusedRow=a,this.focusedColumn=u,this.emojiCount=r,this.wrap=f,this.handleKeyDown=this.handleKeyDown.bind(this)}destroy(){this.events.removeAll()}on(t,r){this.events.on(t,r)}handleKeyDown(t){t.key in this.keyHandlers&&(t.preventDefault(),this.keyHandlers[t.key]())}setCell(t,r,a=!0){const u=this.getIndex();this.focusedRow=t,r!==void 0&&(this.focusedColumn=Math.min(this.columnCount,r)),(this.focusedRow>=this.rowCount||this.getIndex()>=this.emojiCount)&&(this.focusedRow=this.rowCount-1,this.focusedColumn=this.emojiCount%this.columnCount-1),this.events.emit("focus:change",{from:u,to:this.getIndex(),performFocus:a})}setFocusedIndex(t,r=!0){const a=Math.floor(t/this.columnCount),u=t%this.columnCount;this.setCell(a,u,r)}focusNext(){this.focusedColumn<this.columnCount-1&&this.getIndex()<this.emojiCount-1?this.setCell(this.focusedRow,this.focusedColumn+1):this.focusedRow<this.rowCount-1?this.setCell(this.focusedRow+1,0):this.wrap?this.setCell(0,0):this.events.emit("focus:overflow",0)}focusPrevious(){this.focusedColumn>0?this.setCell(this.focusedRow,this.focusedColumn-1):this.focusedRow>0?this.setCell(this.focusedRow-1,this.columnCount-1):this.wrap?this.setCell(this.rowCount-1,this.columnCount-1):this.events.emit("focus:underflow",this.columnCount-1)}focusUp(){this.focusedRow>0?this.setCell(this.focusedRow-1,this.focusedColumn):this.events.emit("focus:underflow",this.focusedColumn)}focusDown(){this.focusedRow<this.rowCount-1?this.setCell(this.focusedRow+1,this.focusedColumn):this.events.emit("focus:overflow",this.focusedColumn)}focusToIndex(t){this.setCell(Math.floor(t/this.columnCount),t%this.columnCount)}getIndex(){return this.focusedRow*this.columnCount+this.focusedColumn}getCell(){return{row:this.focusedRow,column:this.focusedColumn}}getRowCount(){return this.rowCount}};const b0=new gt(({classes:n})=>`
  <div class="${n.emojiContainer}">
    <div data-placeholder="emojis"></div>
  </div>
`),w0=Ct("emojiContainer");class Mn extends Me{constructor({emojis:t,showVariants:r,preview:a=!0,lazyLoader:u,category:f,fullHeight:d=!1}){super({template:b0,classes:w0}),this.fullHeight=!1,this.showVariants=r,this.lazyLoader=u,this.preview=a,this.emojis=t,this.category=f,this.fullHeight=d,this.setFocus=this.setFocus.bind(this),this.triggerNextCategory=this.triggerNextCategory.bind(this),this.triggerPreviousCategory=this.triggerPreviousCategory.bind(this)}initialize(){this.grid=new y0(this.options.emojisPerRow,this.emojiCount,0,0,!this.category),this.grid.on("focus:change",this.setFocus),this.grid.on("focus:overflow",this.triggerNextCategory),this.grid.on("focus:underflow",this.triggerPreviousCategory),this.uiEvents=[Me.uiEvent("click",this.selectEmoji),Me.uiEvent("keydown",this.grid.handleKeyDown)],this.preview&&this.uiEvents.push(Me.uiEvent("mouseover",this.showPreview),Me.uiEvent("mouseout",this.hidePreview),Me.uiEvent("focus",this.showPreview,{capture:!0}),Me.uiEvent("blur",this.hidePreview,{capture:!0})),super.initialize()}setFocusedView(t,r){if(t)if(typeof t=="string"){const a=this.emojis.findIndex(u=>u.emoji===t);this.grid.setFocusedIndex(a,!1),setTimeout(()=>{var u,f,d,m;const y=this.emojiViews[a].el;y.scrollIntoView();const E=(u=y.parentElement)==null?void 0:u.previousElementSibling,B=(d=(f=y.parentElement)==null?void 0:f.parentElement)==null?void 0:d.parentElement;B.scrollTop-=(m=E==null?void 0:E.offsetHeight)!=null?m:0})}else t.row==="first"||t.row===0?this.grid.setCell(0,t.offset,r):t.row==="last"&&this.grid.setCell(this.grid.getRowCount()-1,t.offset,r)}setActive(t,r,a){var u;t?this.setFocusedView(r,a):(u=this.emojiViews[this.grid.getIndex()])==null||u.deactivateFocus()}renderSync(){return this.emojiViews=this.emojis.map(t=>this.viewFactory.create(Uh,{emoji:t,category:this.category,lazyLoader:this.lazyLoader,renderer:this.renderer})),this.emojiElements=this.emojiViews.map(t=>t.renderSync()),super.renderSync({emojis:this.emojiElements,i18n:this.i18n})}destroy(){super.destroy(),this.emojiViews.forEach(t=>t.destroy()),this.grid.destroy()}triggerPreviousCategory(t){this.events.emit("category:previous",t)}triggerNextCategory(t){this.category&&this.events.emit("category:next",t)}setFocus({from:t,to:r,performFocus:a}){var u,f;(u=this.emojiViews[t])==null||u.deactivateFocus(),(f=this.emojiViews[r])==null||f.activateFocus(a)}selectEmoji(t){t.stopPropagation();const r=ma(t,this.emojis);r&&this.events.emit("emoji:select",{emoji:r,showVariants:this.showVariants})}showPreview(t){const r=t.target.closest("button"),a=r==null?void 0:r.firstElementChild,u=ma(t,this.emojis);u&&this.events.emit("preview:show",u,a==null?void 0:a.cloneNode(!0))}hidePreview(t){ma(t,this.emojis)&&this.events.emit("preview:hide")}get emojiCount(){return this.emojis.length}}const x0=new gt(({classes:n,category:t,pickerId:r,icon:a,i18n:u})=>`
  <section class="${n.emojiCategory}" role="tabpanel" aria-labelledby="${r}-category-${t.key}">
    <h3 data-category="${t.key}" class="${n.categoryName}">
      <i data-icon="${a}"></i>
      ${u.get(`categories.${t.key}`,t.message||t.key)}
    </h3>
    <div data-view="emojis" data-render="sync"></div>
  </section>
`);let C0=class extends ll{constructor({category:t,showVariants:r,lazyLoader:a,emojiVersion:u}){super({category:t,showVariants:r,lazyLoader:a,template:x0}),this.showVariants=r,this.lazyLoader=a,this.emojiVersion=u}initialize(){this.uiElements={...this.baseUIElements},super.initialize()}async render(){await this.emojiDataPromise;const t=await this.emojiData.getEmojis(this.category,this.emojiVersion);return this.emojiContainer=this.viewFactory.create(Mn,{emojis:t,showVariants:this.showVariants,lazyLoader:this.lazyLoader,category:this.category.key}),super.render({category:this.category,emojis:this.emojiContainer,emojiCount:t.length,icon:zs[this.category.key]})}},k0=class extends Mn{constructor({category:t,emojis:r,preview:a=!0,lazyLoader:u}){super({category:t,emojis:r,showVariants:!1,preview:a,lazyLoader:u})}async addOrUpdate(t){const r=this.el.querySelector(`[data-emoji="${t.emoji}"]`);r&&(this.el.removeChild(r),this.emojis=this.emojis.filter(u=>u!==t));const a=this.viewFactory.create(Uh,{emoji:t});if(this.el.insertBefore(a.renderSync(),this.el.firstChild),this.emojis=[t,...this.emojis.filter(u=>u!==t)],this.emojis.length>this.options.maxRecents){this.emojis=this.emojis.slice(0,this.options.maxRecents);const u=this.el.childElementCount-this.options.maxRecents;for(let f=0;f<u;f++)this.el.lastElementChild&&this.el.removeChild(this.el.lastElementChild)}}};const S0=new gt(({emojiCount:n,classes:t,category:r,pickerId:a,icon:u,i18n:f})=>`
  <section class="${t.emojiCategory}" role="tabpanel" aria-labelledby="${a}-category-${r.key}">
    <h3 data-category="${r.key}" class="${t.categoryName}">
      <i data-icon="${u}"></i>
      ${f.get(`categories.${r.key}`,r.message||r.key)}
    </h3>
    <div data-empty="${n===0}" class="${t.recentEmojis}">
      <div data-view="emojis" data-render="sync"></div>
    </div>
    <div class="${t.noRecents}">
      ${f.get("recents.none")}
    </div>
  </section>
`,{mode:"async"});let E0=class extends ll{constructor({category:t,lazyLoader:r,provider:a}){super({category:t,showVariants:!1,lazyLoader:r,template:S0}),this.provider=a}initialize(){this.uiElements={...this.baseUIElements,recents:Me.byClass(Wa.recentEmojis)},this.appEvents={"recent:add":this.addRecent},super.initialize()}async addRecent(t){await this.emojiContainer.addOrUpdate(t),this.ui.recents.dataset.empty="false"}async render(){var t;const r=(t=this.provider)==null?void 0:t.getRecents(this.options.maxRecents);return this.emojiContainer=this.viewFactory.create(k0,{emojis:r,showVariants:!1,lazyLoader:this.lazyLoader,category:this.category.key}),await super.render({category:this.category,emojis:this.emojiContainer,emojiCount:r.length,icon:zs[this.category.key]}),this.el}};const D0=new gt(({classes:n,category:t,pickerId:r,icon:a,i18n:u})=>`
  <section class="${n.emojiCategory}" role="tabpanel" aria-labelledby="${r}-category-${t.key}">
    <h3 data-category="${t.key}" class="${n.categoryName}">
      <i data-icon="${a}"></i>
      ${u.get(`categories.${t.key}`,t.message||t.key)}
    </h3>
    <div data-view="emojis" data-render="sync"></div>
  </section>
`);let A0=class extends ll{constructor({category:t,lazyLoader:r}){super({template:D0,showVariants:!1,lazyLoader:r,category:t})}initialize(){this.uiElements={...this.baseUIElements},super.initialize()}async render(){return this.emojiContainer=this.viewFactory.create(Mn,{emojis:this.customEmojis,showVariants:this.showVariants,lazyLoader:this.lazyLoader,category:this.category.key}),super.render({category:this.category,emojis:this.emojiContainer,emojiCount:this.customEmojis.length,icon:zs[this.category.key]})}};class Vh{constructor(){this.elements=new Map}lazyLoad(t,r){return this.elements.set(t,r),t}observe(t){if(window.IntersectionObserver){const r=new IntersectionObserver(a=>{a.filter(u=>u.intersectionRatio>0).map(u=>u.target).forEach(u=>{const f=this.elements.get(u);f==null||f(),r.unobserve(u)})},{root:t});this.elements.forEach((a,u)=>{r.observe(u)})}else this.elements.forEach(r=>{r()})}}const Pc=Ct("emojiArea"),L0=new gt(({classes:n})=>`
  <div class="${n.emojiArea}">
    <div data-placeholder="emojis"></div>
  </div>
`,{mode:"async"}),F0={recents:E0,custom:A0};function T0(n){return F0[n.key]||C0}function M0(n){return!n||n==="button"?{row:"first",offset:0}:n}let B0=class extends Me{constructor({categoryTabs:t,categories:r,emojiVersion:a}){super({template:L0,classes:Pc}),this.selectedCategory=0,this.scrollListenerState="active",this.lazyLoader=new Vh,this.categoryTabs=t,this.categories=r,this.emojiVersion=a,this.handleScroll=xv(this.handleScroll.bind(this),100)}initialize(){this.appEvents={"category:select":this.handleCategorySelect,"category:previous":this.focusPreviousCategory,"category:next":this.focusNextCategory,"focus:change":this.updateFocusedCategory},this.uiElements={emojis:Me.byClass(Pc.emojiArea)},this.uiEvents=[Me.uiEvent("scroll",this.handleScroll)],super.initialize()}get focusableEmoji(){return this.el.querySelector('[tabindex="0"]')}async render(){this.emojiCategories=this.categories.map(this.createCategory,this);const t={};return this.categories.forEach((r,a)=>{t[`emojis-${r.key}`]=this.emojiCategories[a]}),await super.render({emojis:await Promise.all(this.emojiCategories.map(r=>r.render()))}),this.lazyLoader.observe(this.el),this.el}destroy(){super.destroy(),this.emojiCategories.forEach(t=>{var r;(r=this.observer)==null||r.unobserve(t.el),t.destroy()})}handleCategorySelect(t,r){this.el.style.overflow="hidden",this.selectCategory(t,r),this.el.style.overflow="auto"}createCategory(t){const r=T0(t);return this.viewFactory.create(r,{category:t,showVariants:!0,lazyLoader:this.lazyLoader,emojiVersion:this.emojiVersion,provider:this.options.recentsProvider})}determineInitialCategory(){var t;return this.options.initialCategory&&this.categories.find(r=>r.key===this.options.initialCategory)?this.options.initialCategory:(t=this.categories.find(r=>r.key!=="recents"))==null?void 0:t.key}determineFocusTarget(t){const r=this.emojiCategories.find(a=>a.category.key===t);return this.options.initialEmoji&&(r!=null&&r.el.querySelector(`[data-emoji="${this.options.initialEmoji}"]`))?this.options.initialEmoji:"button"}reset(t=!0){this.events.emit("preview:hide");const r=this.determineInitialCategory();r&&(this.selectCategory(r,{focus:this.determineFocusTarget(r),performFocus:t,scroll:"jump"}),this.selectedCategory=this.getCategoryIndex(r))}getCategoryIndex(t){return this.categories.findIndex(r=>r.key===t)}focusPreviousCategory(t){this.selectedCategory>0&&this.focusCategory(this.selectedCategory-1,{row:"last",offset:t??this.options.emojisPerRow})}focusNextCategory(t){this.selectedCategory<this.categories.length-1&&this.focusCategory(this.selectedCategory+1,{row:"first",offset:t??0})}focusCategory(t,r){this.selectCategory(t,{focus:r,performFocus:!0})}async selectCategory(t,r={}){var a;this.scrollListenerState="suspend";const{focus:u,performFocus:f,scroll:d}={performFocus:!1,...r};this.emojiCategories[this.selectedCategory].setActive(!1);const m=this.selectedCategory=typeof t=="number"?t:this.getCategoryIndex(t);(a=this.categoryTabs)==null||a.setActiveTab(this.selectedCategory,{performFocus:f,scroll:u==="button"});const y=this.emojiCategories[m].el.offsetTop;this.emojiCategories[m].setActive(!0,M0(u),u!=="button"&&f),d&&(this.el.scrollTop=y),this.scrollListenerState="resume"}updateFocusedCategory(t){var r;this.categories[this.selectedCategory].key!==t&&(this.scrollListenerState="suspend",this.selectedCategory=this.getCategoryIndex(t),(r=this.categoryTabs)==null||r.setActiveTab(this.selectedCategory,{changeFocusable:!1,performFocus:!1}),this.scrollListenerState="resume")}handleScroll(){if(this.scrollListenerState==="suspend"||!this.categoryTabs)return;if(this.scrollListenerState==="resume"){this.scrollListenerState="active";return}const t=this.el.scrollTop,r=this.el.scrollHeight-this.el.offsetHeight,a=this.emojiCategories.findIndex((f,d)=>{var m;return t<((m=this.emojiCategories[d+1])==null?void 0:m.el.offsetTop)}),u={changeFocusable:!1,performFocus:!1,scroll:!1};t===0?this.categoryTabs.setActiveTab(0,u):Math.floor(t)===Math.floor(r)||a<0?this.categoryTabs.setActiveTab(this.categories.length-1,u):this.categoryTabs.setActiveTab(a,u)}};const O0=new gt(({classList:n,classes:t,icon:r,message:a})=>`
<div class="${n}" role="alert">
  <div class="${t.iconContainer}"><i data-size="10x" data-icon="${r}"></i></div>
  <h3 class="${t.title}">${a}</h3>
</div>
`),Rc=Ct("error","iconContainer","title");let $a=class extends Me{constructor({message:t,icon:r="warning",template:a=O0,className:u}){super({template:a,classes:Rc}),this.message=t,this.icon=r,this.className=u}renderSync(){const t=[Rc.error,this.className].join(" ").trim();return super.renderSync({message:this.message,icon:this.icon,classList:t})}};const _0=new gt(({classList:n,classes:t,icon:r,i18n:a,message:u})=>`
  <div class="${n}" role="alert">
    <div class="${t.icon}"><i data-size="10x" data-icon="${r}"></i></div>
    <h3 class="${t.title}">${u}</h3>
    <button type="button">${a.get("retry")}</button>
  </div>
`),P0=Ct("dataError");class R0 extends $a{constructor({message:t}){super({message:t,template:_0,className:P0.dataError})}initialize(){this.uiElements={retryButton:"button"},this.uiEvents=[Me.childEvent("retryButton","click",this.onRetry)],super.initialize()}async onRetry(){this.emojiData?await this.emojiData.delete():await this.options.dataStore.deleteDatabase(this.options.locale),this.events.emit("reinitialize");const t=await Hh(this.options.locale,this.options.dataStore,this.options.messages,this.options.emojiData,this.emojiData);this.viewFactory.setEmojiData(t),this.events.emit("data:ready",t)}}const vn=Ct("preview","previewEmoji","previewName","tagList","tag"),I0=new gt(({classes:n,tag:t})=>`
  <li class="${n.tag}">${t}</li>
`),N0=new gt(({classes:n})=>`
  <div class="${n.preview}">
    <div class="${n.previewEmoji}"></div>
    <div class="${n.previewName}"></div>
    <ul class="${n.tagList}"></ul>
  </div>
`);class j0 extends Me{constructor(){super({template:N0,classes:vn})}initialize(){this.uiElements={emoji:Me.byClass(vn.previewEmoji),name:Me.byClass(vn.previewName),tagList:Me.byClass(vn.tagList)},this.appEvents={"preview:show":this.showPreview,"preview:hide":this.hidePreview},super.initialize()}showPreview(t,r){if(Rr(this.ui.emoji,r),this.ui.name.textContent=t.label,t.tags){this.ui.tagList.style.display="flex";const a=t.tags.map(u=>I0.renderSync({tag:u,classes:vn}));Rr(this.ui.tagList,...a)}}hidePreview(){ys(this.ui.emoji),ys(this.ui.name),ys(this.ui.tagList)}}const H0=new gt(({classes:n,i18n:t})=>`
  <button title="${t.get("search.clear")}" class="${n.clearSearchButton}">
    <i data-icon="xmark"></i>
  </button>
`),z0=new gt(({classes:n,i18n:t})=>`
<div class="${n.searchContainer}">
  <input class="${n.searchField}" placeholder="${t.get("search")}">
  <span class="${n.searchAccessory}"></span>
</div>
`,{mode:"async"}),yn=Ct("searchContainer","searchField","clearButton","searchAccessory","clearSearchButton","notFound");class W0 extends Me{constructor({categories:t,emojiVersion:r}){super({template:z0,classes:yn}),this.categories=t.filter(a=>a.key!=="recents"),this.emojiVersion=r,this.search=Cv(this.search.bind(this),100)}initialize(){this.uiElements={searchField:Me.byClass(yn.searchField),searchAccessory:Me.byClass(yn.searchAccessory)},this.uiEvents=[Me.childEvent("searchField","keydown",this.onKeyDown),Me.childEvent("searchField","input",this.onSearchInput)],super.initialize()}async render(){return await super.render(),this.searchIcon=Wh("search"),this.notFoundMessage=this.viewFactory.create($a,{message:this.i18n.get("search.notFound"),className:yn.notFound,icon:"sad"}),this.notFoundMessage.renderSync(),this.errorMessage=this.viewFactory.create($a,{message:this.i18n.get("search.error")}),this.errorMessage.renderSync(),this.clearSearchButton=H0.render({classes:yn,i18n:this.i18n}),this.clearSearchButton.addEventListener("click",t=>this.onClearSearch(t)),this.searchField=this.ui.searchField,this.showSearchIcon(),this.el}showSearchIcon(){this.showSearchAccessory(this.searchIcon)}showClearSearchButton(){this.showSearchAccessory(this.clearSearchButton)}showSearchAccessory(t){Rr(this.ui.searchAccessory,t)}clear(){this.searchField.value="",this.showSearchIcon()}focus(){this.searchField.focus()}onClearSearch(t){var r;t.stopPropagation(),this.searchField.value="",(r=this.resultsContainer)==null||r.destroy(),this.resultsContainer=null,this.showSearchIcon(),this.events.emit("content:show"),this.searchField.focus()}handleResultsKeydown(t){this.resultsContainer&&t.key==="Escape"&&this.onClearSearch(t)}onKeyDown(t){var r;t.key==="Escape"&&this.searchField.value?this.onClearSearch(t):(t.key==="Enter"||t.key==="ArrowDown")&&this.resultsContainer&&(t.preventDefault(),(r=this.resultsContainer.el.querySelector('[tabindex="0"]'))==null||r.focus())}onSearchInput(t){this.searchField.value?(this.showClearSearchButton(),this.search()):this.onClearSearch(t)}async search(){var t;if(this.searchField.value)try{const r=await this.emojiData.searchEmojis(this.searchField.value,this.customEmojis,this.emojiVersion,this.categories);if(this.events.emit("preview:hide"),r.length){const a=new Vh;this.resultsContainer=this.viewFactory.create(Mn,{emojis:r,fullHeight:!0,showVariants:!0,lazyLoader:a}),this.resultsContainer.renderSync(),(t=this.resultsContainer)!=null&&t.el&&(a.observe(this.resultsContainer.el),this.resultsContainer.setActive(!0,{row:0,offset:0},!1),this.resultsContainer.el.addEventListener("keydown",u=>this.handleResultsKeydown(u)),this.events.emit("content:show",this.resultsContainer))}else this.events.emit("content:show",this.notFoundMessage)}catch{this.events.emit("content:show",this.errorMessage)}}}const $0=new gt(({classes:n})=>`
  <div class="${n.variantOverlay}">
    <div class="${n.variantPopup}">
      <div data-view="emojis" data-render="sync"></div>
    </div>
  </div>
`),Ic=Ct("variantOverlay","variantPopup"),ba={easing:"ease-in-out",duration:250,fill:"both"},Nc={opacity:[0,1]},jc={opacity:[0,1],transform:["scale3d(0.8, 0.8, 0.8)","scale3d(1, 1, 1)"]};class q0 extends Me{constructor({emoji:t,parent:r}){super({template:$0,classes:Ic,parent:r}),this.focusedEmojiIndex=0,this.focusTrap=new zh,this.animateShow=()=>Promise.all([_r(this.el,Nc,ba,this.options),_r(this.ui.popup,jc,ba,this.options)]),this.emoji=t}initialize(){this.uiElements={popup:Me.byClass(Ic.variantPopup)},this.uiEvents=[Me.uiEvent("click",this.handleClick),Me.uiEvent("keydown",this.handleKeydown)],super.initialize()}animateHide(){const t={...ba,direction:"reverse"};return Promise.all([_r(this.el,Nc,t,this.options),_r(this.ui.popup,jc,t,this.options)])}async hide(){await this.animateHide(),this.events.emit("variantPopup:hide")}handleKeydown(t){t.key==="Escape"&&(this.hide(),t.stopPropagation())}handleClick(t){this.ui.popup.contains(t.target)||this.hide()}getEmoji(t){return this.renderedEmojis[t]}setFocusedEmoji(t){const r=this.getEmoji(this.focusedEmojiIndex);r.tabIndex=-1,this.focusedEmojiIndex=t;const a=this.getEmoji(this.focusedEmojiIndex);a.tabIndex=0,a.focus()}destroy(){this.emojiContainer.destroy(),this.focusTrap.deactivate(),super.destroy()}renderSync(){const t={...this.emoji,skins:null},r=(this.emoji.skins||[]).map(u=>({...u,label:this.emoji.label,tags:this.emoji.tags})),a=[t,...r];return this.emojiContainer=this.viewFactory.create(Mn,{emojis:a,preview:!1}),super.renderSync({emojis:this.emojiContainer}),a.length<this.options.emojisPerRow&&this.el.style.setProperty("--emojis-per-row",a.length.toString()),this.el}activate(){this.emojiContainer.setActive(!0,{row:0,offset:0},!0),this.focusTrap.activate(this.el)}}const U0=new gt(({classes:n,i18n:t,category:r,pickerId:a,icon:u})=>`
<li class="${n.categoryTab}">
  <button
    aria-selected="false"
    role="tab"
    class="${n.categoryButton}"
    tabindex="-1"
    title="${t.get(`categories.${r.key}`,r.message||r.key)}"
    type="button"
    data-category="${r.key}"
    id="${a}-category-${r.key}"
  >
    <i data-icon="${u}"></i>
</li>
`),wa=Ct("categoryTab","categoryTabActive","categoryButton");class V0 extends Me{constructor({category:t,icon:r}){super({template:U0,classes:wa}),this.isActive=!1,this.category=t,this.icon=r}initialize(){this.uiElements={button:Me.byClass(wa.categoryButton)},this.uiEvents=[Me.childEvent("button","click",this.selectCategory),Me.childEvent("button","focus",this.selectCategory)],super.initialize()}renderSync(){return super.renderSync({category:this.category,icon:this.icon}),this.ui.button.ariaSelected="false",this.el}setActive(t,r={}){const{changeFocusable:a,performFocus:u,scroll:f}={changeFocusable:!0,performFocus:!0,scroll:!0,...r};this.el.classList.toggle(wa.categoryTabActive,t),a&&(this.ui.button.tabIndex=t?0:-1,this.ui.button.ariaSelected=t.toString()),t&&u&&(this.ui.button.focus(),f&&this.events.emit("category:select",this.category.key,{scroll:"animate",focus:"button",performFocus:!1})),this.isActive=t}selectCategory(){this.isActive||this.events.emit("category:select",this.category.key,{scroll:"animate",focus:"button",performFocus:!0})}}const K0=new gt(({classes:n})=>`
  <div class="${n.categoryButtonsContainer}">
    <ul role="tablist" class="${n.categoryButtons}">
      <div data-placeholder="tabs"></div>
    </ul>
  </div>
`),G0=Ct("categoryButtons","categoryButtonsContainer");class X0 extends Me{constructor({categories:t}){super({template:K0,classes:G0}),this.activeCategoryIndex=0,this.categories=t}initialize(){this.keyBindings={ArrowLeft:this.stepSelectedTab(-1),ArrowRight:this.stepSelectedTab(1)},this.uiEvents=[Me.uiEvent("scroll",this.checkOverflow)],super.initialize()}checkOverflow(){const t=Math.abs(this.el.scrollLeft-(this.el.scrollWidth-this.el.offsetWidth))>1,r=this.el.scrollLeft>0;this.el.className="categoryButtonsContainer",r&&t?this.el.classList.add("has-overflow-both"):r?this.el.classList.add("has-overflow-left"):t&&this.el.classList.add("has-overflow-right")}renderSync(){return this.tabViews=this.categories.map(t=>this.viewFactory.create(V0,{category:t,icon:zs[t.key]})),super.renderSync({tabs:this.tabViews.map(t=>t.renderSync())}),this.el}get currentCategory(){return this.categories[this.activeCategoryIndex]}get currentTabView(){return this.tabViews[this.activeCategoryIndex]}setActiveTab(t,r={}){this.checkOverflow();const a=this.currentTabView,u=this.tabViews[t];a.setActive(!1,r),u.setActive(!0,r),this.activeCategoryIndex=t}getTargetCategory(t){return t<0?this.categories.length-1:t>=this.categories.length?0:t}stepSelectedTab(t){return()=>{const r=this.activeCategoryIndex+t;this.setActiveTab(this.getTargetCategory(r),{changeFocusable:!0,performFocus:!0})}}}const Y0=[{version:15,emoji:String.fromCodePoint(129768)},{version:14,emoji:String.fromCodePoint(128733)},{version:13,emoji:String.fromCodePoint(129729)},{version:12,emoji:String.fromCodePoint(129449)},{version:11,emoji:String.fromCodePoint(129463)},{version:5,emoji:String.fromCodePoint(129322)},{version:4,emoji:String.fromCodePoint(9877)},{version:3,emoji:String.fromCodePoint(129314)},{version:2,emoji:String.fromCodePoint(128488)},{version:1,emoji:String.fromCodePoint(128512)}];function Z0(){var n;const t=Y0.find(r=>J0(r.emoji));return(n=t==null?void 0:t.version)!=null?n:1}function J0(n){const t=document.createElement("canvas").getContext("2d");if(t)return t.textBaseline="top",t.font="32px Arial",t.fillText(n,0,0),t.getImageData(16,16,1,1).data[0]!==0}function xa(n,t){return Array.from({length:n},()=>t).join("")}function Q0({showHeader:n,classes:t}){return n?`
    <header class="${t.header}">
      <div data-view="search"></div>
      <div data-view="categoryTabs" data-render="sync"></div>
    </header>
  `:""}function ey(n){const{classes:t,theme:r,className:a=""}=n;return`
    <div class="picmo__picker ${t.picker} ${r} ${a}">
      ${Q0(n)}
      <div class="${t.content}">
        <div data-view="emojiArea"></div>
      </div>
      <div data-view="preview"></div>
    </div>
  `}function ty(n){const{emojiCount:t,classes:r,theme:a,className:u,categoryCount:f}=n,d=({showSearch:B,classes:M})=>B?`
    <div class="${M.searchSkeleton}">
      <div class="${M.searchInput} ${M.placeholder}"></div>
    </div>
  `:"",m=({showCategoryTabs:B,classes:M})=>B?`
    <div class="${M.categoryTabsSkeleton}">
      ${xa(f,`<div class="${M.placeholder} ${M.categoryTab}"></div>`)}
    </div>
  `:"",y=({showHeader:B,classes:M})=>B?`
    <header class="${M.headerSkeleton}">
      ${d(n)}
      ${m(n)}
    </header>
  `:"",E=({showPreview:B,classes:M})=>B?`
    <div class="${M.previewSkeleton}">
      <div class="${M.placeholder} ${M.previewEmoji}"></div>
      <div class="${M.placeholder} ${M.previewName}"></div>
      <ul class="${M.tagList}">
        ${xa(3,`<li class="${M.placeholder} ${M.tag}"></li>`)}
      </ul>
    </div>
  `:"";return`
    <div class="picmo__picker ${r.skeleton} ${r.picker} ${a} ${u}">
      ${y(n)}
      <div class="${r.contentSkeleton}">
        <div class="${r.placeholder} ${r.categoryName}"></div>
        <div class="${r.emojiGrid}">
          ${xa(t,`<div class="${r.placeholder} ${r.emoji}"></div>`)}
        </div>
      </div>
      ${E(n)}
    </div>
  `}const iy=new gt(n=>n.isLoaded?ey(n):ty(n)),fs=Ct("picker","skeleton","placeholder","searchSkeleton","searchInput","categoryTabsSkeleton","headerSkeleton","categoryTab","contentSkeleton","categoryName","emojiGrid","emoji","previewSkeleton","previewEmoji","previewName","tagList","tag","overlay","content","fullHeight","pluginContainer","header"),ps={emojisPerRow:"--emojis-per-row",visibleRows:"--row-count",emojiSize:"--emoji-size"};class ry extends Me{constructor(){super({template:iy,classes:fs}),this.pickerReady=!1,this.externalEvents=new g0,this.updaters={styleProperty:t=>r=>this.el.style.setProperty(ps[t],r.toString()),theme:t=>{const r=this.options.theme,a=this.el.closest(`.${r}`);this.el.classList.remove(r),a==null||a.classList.remove(r),this.el.classList.add(t),a==null||a.classList.add(t)},className:t=>{this.options.className&&this.el.classList.remove(this.options.className),this.el.classList.add(t)},emojisPerRow:this.updateStyleProperty.bind(this,"emojisPerRow"),emojiSize:this.updateStyleProperty.bind(this,"emojiSize"),visibleRows:this.updateStyleProperty.bind(this,"visibleRows")}}initialize(){this.uiElements={pickerContent:Me.byClass(fs.content),header:Me.byClass(fs.header)},this.uiEvents=[Me.uiEvent("keydown",this.handleKeyDown)],this.appEvents={error:this.onError,reinitialize:this.reinitialize,"data:ready":this.onDataReady,"content:show":this.showContent,"variantPopup:hide":this.hideVariantPopup,"emoji:select":this.selectEmoji},super.initialize(),this.options.recentsProvider}destroy(){var t,r;super.destroy(),(t=this.search)==null||t.destroy(),this.emojiArea.destroy(),(r=this.categoryTabs)==null||r.destroy(),this.events.removeAll(),this.externalEvents.removeAll()}clearRecents(){this.options.recentsProvider.clear()}addEventListener(t,r){this.externalEvents.on(t,r)}removeEventListener(t,r){this.externalEvents.off(t,r)}initializePickerView(){this.pickerReady&&(this.showContent(),this.emojiArea.reset(!1))}handleKeyDown(t){const r=t.ctrlKey||t.metaKey;t.key==="s"&&r&&this.search&&(t.preventDefault(),this.search.focus())}buildChildViews(){return this.options.showPreview&&(this.preview=this.viewFactory.create(j0)),this.options.showSearch&&(this.search=this.viewFactory.create(W0,{categories:this.categories,emojiVersion:this.emojiVersion})),this.options.showCategoryTabs&&(this.categoryTabs=this.viewFactory.create(X0,{categories:this.categories})),this.currentView=this.emojiArea=this.viewFactory.create(B0,{categoryTabs:this.categoryTabs,categories:this.categories,emojiVersion:this.emojiVersion}),[this.preview,this.search,this.emojiArea,this.categoryTabs]}setStyleProperties(){this.options.showSearch||this.el.style.setProperty("--search-height-full","0px"),this.options.showCategoryTabs||(this.el.style.setProperty("--category-tabs-height","0px"),this.el.style.setProperty("--category-tabs-offset","0px")),this.options.showPreview||this.el.style.setProperty("--emoji-preview-height-full","0px"),Object.keys(ps).forEach(t=>{this.options[t]&&this.el.style.setProperty(ps[t],this.options[t].toString())})}updateStyleProperty(t,r){this.el.style.setProperty(ps[t],r.toString())}reinitialize(){this.renderSync()}onError(t){const r=this.viewFactory.createWithOptions({data:!1},R0,{message:this.i18n.get("error.load")}),a=this.el.offsetHeight||375;throw this.el.style.height=`${a}px`,Rr(this.el,r.renderSync()),t}async onDataReady(t){const r=this.el;try{t?this.emojiData=t:await this.emojiDataPromise,this.options.emojiVersion==="auto"?this.emojiVersion=Z0()||parseFloat(mv):this.emojiVersion=this.options.emojiVersion,this.categories=await this.emojiData.getCategories(this.options);const[a,u,f,d]=this.buildChildViews();await super.render({isLoaded:!0,search:u,categoryTabs:d,emojiArea:f,preview:a,showHeader:!!(this.search||this.categoryTabs),theme:this.options.theme,className:this.options.className}),this.el.style.setProperty("--category-count",this.categories.length.toString()),this.pickerReady=!0,r.replaceWith(this.el),this.setStyleProperties(),this.initializePickerView(),this.setInitialFocus(),this.externalEvents.emit("data:ready")}catch(a){this.events.emit("error",a)}}renderSync(){var t;let r=((t=this.options.categories)==null?void 0:t.length)||10;if(this.options.showRecents&&(r+=1),super.renderSync({isLoaded:!1,theme:this.options.theme,className:this.options.className,showSearch:this.options.showSearch,showPreview:this.options.showPreview,showCategoryTabs:this.options.showCategoryTabs,showHeader:this.options.showSearch||this.options.showCategoryTabs,emojiCount:this.options.emojisPerRow*this.options.visibleRows,categoryCount:r}),this.el.style.setProperty("--category-count",r.toString()),!this.options.rootElement)throw new Error("Picker must be given a root element via the rootElement option");return Rr(this.options.rootElement,this.el),this.setStyleProperties(),this.pickerReady&&this.initializePickerView(),this.el}getInitialFocusTarget(){if(typeof this.options.autoFocus<"u")switch(this.options.autoFocus){case"emojis":return this.emojiArea.focusableEmoji;case"search":return this.search;case"auto":return this.search||this.emojiArea.focusableEmoji;default:return null}if(this.options.autoFocusSearch===!0)return console.warn("options.autoFocusSearch is deprecated, please use options.focusTarget instead"),this.search}setInitialFocus(){var t;!this.pickerReady||(t=this.getInitialFocusTarget())==null||t.focus()}reset(t=!0){var r;this.pickerReady&&(this.emojiArea.reset(t),this.showContent(this.emojiArea)),(r=this.search)==null||r.clear(),this.hideVariantPopup()}showContent(t=this.emojiArea){var r,a;t!==this.currentView&&(this.currentView!==this.emojiArea&&((r=this.currentView)==null||r.destroy()),this.ui.pickerContent.classList.toggle(fs.fullHeight,t!==this.emojiArea),Rr(this.ui.pickerContent,t.el),this.currentView=t,t===this.emojiArea?(this.emojiArea.reset(),this.categoryTabs&&this.ui.header.appendChild(this.categoryTabs.el)):(a=this.categoryTabs)==null||a.el.remove())}hideVariantPopup(){var t;(t=this.variantPopup)==null||t.destroy()}isPickerClick(t){var r,a;const u=t.target,f=this.el.contains(u),d=(a=(r=this.variantPopup)==null?void 0:r.el)==null?void 0:a.contains(u);return f||d}async selectEmoji({emoji:t}){var r,a;(r=t.skins)!=null&&r.length&&this.options.showVariants&&!this.isVariantPopupOpen?this.showVariantPopup(t):(await((a=this.variantPopup)==null?void 0:a.animateHide()),this.events.emit("variantPopup:hide"),await this.emitEmoji(t))}get isVariantPopupOpen(){return this.variantPopup&&!this.variantPopup.isDestroyed}async showVariantPopup(t){const r=document.activeElement;this.events.once("variantPopup:hide",()=>{r==null||r.focus()}),this.variantPopup=this.viewFactory.create(q0,{emoji:t,parent:this.el}),this.el.appendChild(this.variantPopup.renderSync()),this.variantPopup.activate()}async emitEmoji(t){this.externalEvents.emit("emoji:select",await this.renderer.doEmit(t)),this.options.recentsProvider.addOrUpdateRecent(t,this.options.maxRecents),this.events.emit("recent:add",t)}updateOptions(t){Object.keys(t).forEach(r=>{this.updaters[r](t[r])}),Object.assign(this.options,t)}}class ny{constructor({events:t,i18n:r,renderer:a,emojiData:u,options:f,customEmojis:d=[],pickerId:m}){this.events=t,this.i18n=r,this.renderer=a,this.emojiData=u,this.options=f,this.customEmojis=d,this.pickerId=m}setEmojiData(t){this.emojiData=Promise.resolve(t)}createWithOptions(t={},r,...a){const u=new r(...a);return u.setPickerId(this.pickerId),u.setEvents(this.events),u.setI18n(this.i18n),u.setRenderer(this.renderer),t.data!==!1&&u.setEmojiData(this.emojiData),u.setOptions(this.options),u.setCustomEmojis(this.customEmojis),u.viewFactory=this,u.initialize(),u}create(t,...r){return this.createWithOptions({},t,...r)}}var Ss;class sy{constructor(t={}){vi(this,Ss,void 0),Pa(this,Ss,new Map(Object.entries(t)))}get(t,r=t){return yi(this,Ss).get(t)||r}}Ss=new WeakMap;function oy(n,t){t===void 0&&(t={});var r=t.insertAt;if(!(!n||typeof document>"u")){var a=document.head||document.getElementsByTagName("head")[0],u=document.createElement("style");u.type="text/css",r==="top"&&a.firstChild?a.insertBefore(u,a.firstChild):a.appendChild(u),u.styleSheet?u.styleSheet.cssText=n:u.appendChild(document.createTextNode(n))}}function Kh(){let n=!1;return function(t){!n&&(oy(t),n=!0)}}const ay=`.picmo__picker .picmo__icon{width:1.25em;height:1em;fill:currentColor}.picmo__icon-small{font-size:.8em}.picmo__icon-medium{font-size:1em}.picmo__icon-large{font-size:1.25em}.picmo__icon-2x{font-size:2em}.picmo__icon-3x{font-size:3em}.picmo__icon-4x{font-size:4em}.picmo__icon-5x{font-size:5em}.picmo__icon-8x{font-size:8em}.picmo__icon-10x{font-size:10em}.picmo__light,.picmo__auto{color-scheme:light;--accent-color: #4f46e5;--background-color: #f9fafb;--border-color: #cccccc;--category-name-background-color: #f9fafb;--category-name-button-color: #999999;--category-name-text-color: hsl(214, 30%, 50%);--category-tab-active-background-color: rgba(255, 255, 255, .6);--category-tab-active-color: var(--accent-color);--category-tab-color: #666;--category-tab-highlight-background-color: rgba(0, 0, 0, .15);--error-color-dark: hsl(0, 100%, 45%);--error-color: hsl(0, 100%, 40%);--focus-indicator-background-color: hsl(198, 65%, 85%);--focus-indicator-color: #333333;--hover-background-color: #c7d2fe;--placeholder-background-color: #cccccc;--search-background-color: #f9fafb;--search-focus-background-color: #ffffff;--search-icon-color: #999999;--search-placeholder-color: #71717a;--secondary-background-color: #e2e8f0;--secondary-text-color: #666666;--tag-background-color: rgba(162, 190, 245, .3);--text-color: #000000;--variant-popup-background-color: #ffffff}.picmo__dark{color-scheme:dark;--accent-color: #A580F9;--background-color: #333333;--border-color: #666666;--category-name-background-color: #333333;--category-name-button-color: #eeeeee;--category-name-text-color: #ffffff;--category-tab-active-background-color: #000000;--category-tab-active-color: var(--accent-color);--category-tab-color: #cccccc;--category-tab-highlight-background-color: #4A4A4A;--error-color-dark: hsl(0, 7%, 3%);--error-color: hsl(0, 30%, 60%);--focus-indicator-background-color: hsl(0, 0%, 50%);--focus-indicator-color: #999999;--hover-background-color: hsla(0, 0%, 40%, .85);--image-placeholder-color: #ffffff;--placeholder-background-color: #666666;--search-background-color: #71717a;--search-focus-background-color: #52525b;--search-icon-color: #cccccc;--search-placeholder-color: #d4d4d8;--secondary-background-color: #000000;--secondary-text-color: #999999;--tag-background-color: rgba(162, 190, 245, .3);--text-color: #ffffff;--variant-popup-background-color: #333333}@media (prefers-color-scheme: dark){.picmo__auto{color-scheme:dark;--accent-color: #A580F9;--background-color: #333333;--border-color: #666666;--category-name-background-color: #333333;--category-name-button-color: #eeeeee;--category-name-text-color: #ffffff;--category-tab-active-background-color: #000000;--category-tab-active-color: var(--accent-color);--category-tab-color: #cccccc;--category-tab-highlight-background-color: #4A4A4A;--error-color-dark: hsl(0, 7%, 3%);--error-color: hsl(0, 30%, 60%);--focus-indicator-background-color: hsl(0, 0%, 50%);--focus-indicator-color: #999999;--hover-background-color: hsla(0, 0%, 40%, .85);--image-placeholder-color: #ffffff;--placeholder-background-color: #666666;--search-background-color: #71717a;--search-focus-background-color: #52525b;--search-icon-color: #cccccc;--search-placeholder-color: #d4d4d8;--secondary-background-color: #000000;--secondary-text-color: #999999;--tag-background-color: rgba(162, 190, 245, .3);--text-color: #ffffff;--variant-popup-background-color: #333333}}.picmo__picker .picmo__categoryButtonsContainer{overflow:auto;padding:2px 0}.picmo__picker .picmo__categoryButtonsContainer.picmo__has-overflow-right{mask-image:linear-gradient(270deg,rgba(255,255,255,0) 0%,rgba(255,255,255,1) 10%);-webkit-mask-image:linear-gradient(270deg,rgba(255,255,255,0) 0%,rgba(255,255,255,1) 10%)}.picmo__picker .picmo__categoryButtonsContainer.picmo__has-overflow-left{mask-image:linear-gradient(90deg,rgba(255,255,255,0) 0%,rgba(255,255,255,1) 10%);-webkit-mask-image:linear-gradient(90deg,rgba(255,255,255,0) 0%,rgba(255,255,255,1) 10%)}.picmo__picker .picmo__categoryButtonsContainer.picmo__has-overflow-both{mask-image:linear-gradient(90deg,rgba(255,255,255,0) 0%,rgba(255,255,255,1) 10%,rgba(255,255,255,1) 90%,rgba(255,255,255,0) 100%);-webkit-mask-image:linear-gradient(90deg,rgba(255,255,255,0) 0%,rgba(255,255,255,1) 10%,rgba(255,255,255,1) 90%,rgba(255,255,255,0) 100%)}.picmo__picker .picmo__categoryButtons{display:flex;flex-direction:row;gap:var(--tab-gap);margin:0;padding:0 .5em;align-items:center;height:var(--category-tabs-height);box-sizing:border-box;width:100%;justify-content:space-between;position:relative;list-style-type:none;justify-self:center;max-width:min(23.55rem,calc(var(--category-count, 1) * 2.5rem))}.picmo__picker .picmo__categoryButtons .picmo__categoryTab{display:flex;align-items:center;transition:all .1s;width:2em}.picmo__picker .picmo__categoryButtons .picmo__categoryTab.picmo__categoryTabActive .picmo__categoryButton{color:var(--category-tab-active-color);background:linear-gradient(rgba(255,255,255,.75) 0%,rgba(255,255,255,.75) 100%),linear-gradient(var(--category-tab-active-color) 0%,var(--category-tab-active-color) 100%);border:2px solid var(--category-tab-active-color)}.picmo__picker .picmo__categoryButtons .picmo__categoryTab.picmo__categoryTabActive .picmo__categoryButton:hover{background-color:var(--category-tab-active-background-color)}.picmo__picker .picmo__categoryButtons .picmo__categoryTab button.picmo__categoryButton{border-radius:5px;background:transparent;border:2px solid transparent;color:var(--category-tab-color);cursor:pointer;padding:2px;vertical-align:middle;display:flex;align-items:center;justify-content:center;font-size:1.2rem;width:1.6em;height:1.6em;transition:all .1s}.picmo__picker .picmo__categoryButtons .picmo__categoryTab button.picmo__categoryButton:is(img){width:var(--category-tab-size);height:var(--category-tab-size)}.picmo__picker .picmo__categoryButtons .picmo__categoryTab button.picmo__categoryButton:hover{background:var(--category-tab-highlight-background-color)}.picmo__dataError [data-icon]{opacity:.8}@keyframes appear{0%{opacity:0}to{opacity:.8}}@keyframes appear-grow{0%{opacity:0;transform:scale(.8)}to{opacity:.8;transform:scale(1)}}.picmo__picker .picmo__error{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;color:var(--secondary-text-color)}.picmo__picker .picmo__error .picmo__iconContainer{opacity:.8;animation:appear-grow .25s cubic-bezier(.175,.885,.32,1.275);--color-primary: var(--error-color);--color-secondary: var(--error-color-dark)}.picmo__picker .picmo__error .picmo__title{animation:appear .25s;animation-delay:50ms;animation-fill-mode:both}.picmo__picker .picmo__error button{padding:8px 16px;cursor:pointer;background:var(--background-color);border:1px solid var(--text-color);border-radius:5px;color:var(--text-color)}.picmo__picker .picmo__error button:hover{background:var(--text-color);color:var(--background-color)}.picmo__emojiButton{background:transparent;border:none;border-radius:15px;cursor:pointer;display:flex;font-family:var(--emoji-font);font-size:var(--emoji-size);height:100%;justify-content:center;align-items:center;margin:0;overflow:hidden;padding:0;width:100%}.picmo__emojiButton:hover{background:var(--hover-background-color)}.picmo__emojiButton:focus{border-radius:0;background:var(--focus-indicator-background-color);outline:1px solid var(--focus-indicator-color)}.picmo__picker .picmo__emojiArea{height:var(--emoji-area-height);overflow-y:auto;position:relative}.picmo__picker .picmo__emojiCategory{position:relative}.picmo__picker .picmo__emojiCategory .picmo__categoryName{font-size:.9em;padding:.5rem;margin:0;background:var(--category-name-background-color);color:var(--category-name-text-color);top:0;z-index:1;display:grid;gap:4px;grid-template-columns:auto 1fr auto;align-items:center;line-height:1;box-sizing:border-box;height:var(--category-name-height);justify-content:flex-start;text-transform:uppercase}.picmo__picker .picmo__emojiCategory .picmo__categoryName button{background:transparent;border:none;display:flex;align-items:center;cursor:pointer;color:var(--category-name-button-color)}.picmo__picker .picmo__emojiCategory .picmo__categoryName button:hover{opacity:1}.picmo__picker .picmo__emojiCategory .picmo__noRecents{color:var(--secondary-text-color);grid-column:1 / span var(--emojis-per-row);font-size:.9em;text-align:center;display:flex;align-items:center;justify-content:center;min-height:calc(var(--emoji-size) * var(--emoji-size-multiplier))}.picmo__picker .picmo__emojiCategory .picmo__recentEmojis[data-empty=true]{display:none}:is(.picmo__picker .picmo__emojiCategory) .picmo__recentEmojis[data-empty=false]+div{display:none}.picmo__picker .picmo__emojiContainer{display:grid;justify-content:space-between;gap:1px;padding:0 .5em;grid-template-columns:repeat(var(--emojis-per-row),calc(var(--emoji-size) * var(--emoji-size-multiplier)));grid-auto-rows:calc(var(--emoji-size) * var(--emoji-size-multiplier));align-items:center;justify-items:center}.picmo__picker.picmo__picker{--border-radius: 5px;--emoji-area-height: calc( (var(--row-count) * var(--emoji-size) * var(--emoji-size-multiplier)) + var(--category-name-height) );--content-height: var(--emoji-area-height);--emojis-per-row: 8;--row-count: 6;--emoji-preview-margin: 4px;--emoji-preview-height: calc(var(--emoji-preview-size) + 1em + 1px);--emoji-preview-height-full: calc(var(--emoji-preview-height) + var(--emoji-preview-margin));--emoji-preview-size: 2.75em;--emoji-size: 2rem;--emoji-size-multiplier: 1.3;--content-margin: 8px;--category-tabs-height:calc(1.5em + 9px);--category-tabs-offset: 8px;--category-tab-size: 1.2rem;--category-name-height: 2rem;--category-name-padding-y: 6px;--search-height: 2em;--search-margin: .5em;--search-margin-bottom: 4px;--search-height-full: calc(var(--search-height) + var(--search-margin) + var(--search-margin-bottom));--overlay-background-color: rgba(0, 0, 0, .8);--emoji-font: "Segoe UI Emoji", "Segoe UI Symbol", "Segoe UI", "Apple Color Emoji", "Twemoji Mozilla", "Noto Color Emoji", "EmojiOne Color", "Android Emoji";--ui-font: -apple-system, BlinkMacSystemFont, "Helvetica Neue", sans-serif;--ui-font-size: 16px;--picker-width: calc(var(--emojis-per-row) * var(--emoji-size) * var(--emoji-size-multiplier) + 2.75rem);--preview-background-color: var(--secondary-background-color);background:var(--background-color);border-radius:var(--border-radius);border:1px solid var(--border-color);font-family:var(--ui-font);font-size:var(--ui-font-size);overflow:hidden;position:relative;width:var(--picker-width);display:grid;gap:8px}.picmo__picker.picmo__picker>*{font-family:var(--ui-font)}.picmo__picker.picmo__skeleton{background:var(--background-color);border-radius:var(--border-radius);border:1px solid var(--border-color);font-family:var(--ui-font);width:var(--picker-width);color:var(--secondary-text-color)}.picmo__picker.picmo__skeleton *{box-sizing:border-box}.picmo__picker.picmo__skeleton .picmo__placeholder{background:var(--placeholder-background-color);position:relative;overflow:hidden}.picmo__picker.picmo__skeleton .picmo__placeholder:after{position:absolute;top:0;right:0;bottom:0;left:0;transform:translate(-100%);background-image:linear-gradient(90deg,rgba(255,255,255,0) 0,rgba(255,255,255,.2) 20%,rgba(255,255,255,.5) 60%,rgba(255,255,255,0) 100%);animation:shine 2s infinite;content:""}.picmo__picker.picmo__skeleton .picmo__headerSkeleton{background-color:var(--secondary-background-color);padding-top:8px;padding-bottom:8px;display:flex;flex-direction:column;overflow:hidden;gap:8px;border-bottom:1px solid var(--border-color);width:var(--picker-width)}.picmo__picker.picmo__skeleton .picmo__searchSkeleton{padding:0 8px;height:var(--search-height)}.picmo__picker.picmo__skeleton .picmo__searchSkeleton .picmo__searchInput{width:100%;height:28px;border-radius:3px}.picmo__picker.picmo__skeleton .picmo__categoryTabsSkeleton{height:var(--category-tabs-height);display:flex;flex-direction:row;align-items:center;justify-self:center;width:calc(2rem * var(--category-count, 1))}.picmo__picker.picmo__skeleton .picmo__categoryTabsSkeleton .picmo__categoryTab{width:25px;height:25px;padding:2px;border-radius:5px;margin:.25em}.picmo__picker.picmo__skeleton .picmo__contentSkeleton{height:var(--content-height);padding-right:8px;opacity:.7}.picmo__picker.picmo__skeleton .picmo__contentSkeleton .picmo__categoryName{width:50%;height:1rem;margin:.5rem;box-sizing:border-box}.picmo__picker.picmo__skeleton .picmo__contentSkeleton .picmo__emojiGrid{display:grid;justify-content:space-between;gap:1px;padding:0 .5em;grid-template-columns:repeat(var(--emojis-per-row),calc(var(--emoji-size) * var(--emoji-size-multiplier)));grid-auto-rows:calc(var(--emoji-size) * var(--emoji-size-multiplier));align-items:center;justify-items:center;width:var(--picker-width)}.picmo__picker.picmo__skeleton .picmo__contentSkeleton .picmo__emojiGrid .picmo__emoji{width:var(--emoji-size);height:var(--emoji-size);border-radius:50%}.picmo__picker.picmo__skeleton .picmo__previewSkeleton{height:var(--emoji-preview-height);border-top:1px solid var(--border-color);display:grid;align-items:center;padding:.5em;gap:6px;grid-template-columns:auto 1fr;grid-template-rows:auto 1fr;grid-template-areas:"emoji name" "emoji tags"}.picmo__picker.picmo__skeleton .picmo__previewSkeleton .picmo__previewEmoji{grid-area:emoji;border-radius:50%;width:var(--emoji-preview-size);height:var(--emoji-preview-size)}.picmo__picker.picmo__skeleton .picmo__previewSkeleton .picmo__previewName{grid-area:name;height:.8em;width:80%}.picmo__picker.picmo__skeleton .picmo__previewSkeleton .picmo__tagList{grid-area:tags;list-style-type:none;display:flex;flex-direction:row;padding:0;margin:0}.picmo__picker.picmo__skeleton .picmo__previewSkeleton .picmo__tagList .picmo__tag{border-radius:3px;padding:2px 8px;margin-right:.25em;height:1em;width:20%}.picmo__overlay{background:rgba(0,0,0,.75);height:100%;left:0;position:fixed;top:0;width:100%;z-index:1000}.picmo__content{position:relative;overflow:hidden;height:var(--content-height)}.picmo__content.picmo__fullHeight{height:calc(var(--content-height) + var(--category-tabs-height) + var(--category-tabs-offset));overflow-y:auto}.picmo__pluginContainer{margin:.5em;display:flex;flex-direction:row}.picmo__header{background-color:var(--secondary-background-color);padding-top:8px;padding-bottom:8px;display:grid;gap:8px;border-bottom:1px solid var(--border-color)}@media (prefers-reduced-motion: reduce){.picmo__placeholder{background:var(--placeholder-background-color);position:relative;overflow:hidden}.picmo__placeholder:after{display:none}}.picmo__picker .picmo__preview{border-top:1px solid var(--border-color);display:grid;align-items:center;gap:6px;grid-template-columns:auto 1fr;grid-template-rows:auto 1fr;grid-template-areas:"emoji name" "emoji tags";height:var(--emoji-preview-height);box-sizing:border-box;padding:.5em;position:relative;background:var(--preview-background-color)}.picmo__picker .picmo__preview .picmo__previewEmoji{grid-area:emoji;font-size:var(--emoji-preview-size);font-family:var(--emoji-font);width:1.25em;display:flex;align-items:center;justify-content:center}.picmo__picker .picmo__preview .picmo__previewName{grid-area:name;color:var(--text-color);font-size:.8em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:500}.picmo__picker .picmo__preview .picmo__tagList{grid-area:tags;list-style-type:none;display:flex;flex-direction:row;padding:0;margin:0;font-size:.75em;overflow:hidden}.picmo__picker .picmo__preview .picmo__tag{border-radius:3px;background:var(--tag-background-color);color:var(--text-color);padding:2px 8px;margin-right:.25em;white-space:nowrap}.picmo__picker .picmo__preview .picmo__tag:last-child{margin-right:0}.picmo__picker .picmo__searchContainer{display:flex;height:var(--search-height);box-sizing:border-box;padding:0 8px;position:relative}.picmo__picker .picmo__searchContainer .picmo__searchField{background:var(--search-background-color);border-radius:3px;border:none;box-sizing:border-box;color:var(--text-color);font-size:.9em;outline:none;padding:.5em 2.25em .5em .5em;width:100%}.picmo__picker .picmo__searchContainer .picmo__searchField:focus{background:var(--search-focus-background-color)}.picmo__picker .picmo__searchContainer .picmo__searchField::placeholder{color:var(--search-placeholder-color)}.picmo__picker .picmo__searchContainer .picmo__searchAccessory{color:var(--search-icon-color);height:100%;position:absolute;right:1em;top:0;width:1.25rem;display:flex;align-items:center}.picmo__picker .picmo__searchContainer .picmo__searchAccessory svg{fill:var(--search-icon-color)}.picmo__picker .picmo__searchContainer .picmo__clearButton{border:0;color:var(--search-icon-color);background:transparent;cursor:pointer}.picmo__picker .picmo__searchContainer .picmo__clearSearchButton{cursor:pointer;border:none;background:transparent;color:var(--search-icon-color);font-size:1em;width:100%;height:100%;display:flex;align-items:center;padding:0}.picmo__picker .picmo__searchContainer .picmo__notFound [data-icon]{fill:#f3e265}.picmo__picker .picmo__variantOverlay{background:var(--overlay-background-color);border-radius:5px;display:flex;flex-direction:column;height:100%;justify-content:center;left:0;position:absolute;top:0;width:100%;z-index:1}.picmo__picker .picmo__variantOverlay .picmo__variantPopup{background:var(--variant-popup-background-color);border-radius:5px;margin:.5em;padding:.5em;text-align:center;user-select:none;display:flex;align-items:center;justify-content:center}.picmo__customEmoji{width:1em;height:1em}@keyframes shine{to{transform:translate(100%)}}.picmo__picker .picmo__imagePlaceholder{width:2rem;height:2rem;border-radius:50%}.picmo__placeholder{background:#DDDBDD;position:relative}.picmo__placeholder:after{position:absolute;top:0;right:0;bottom:0;left:0;transform:translate(-100%);background-image:linear-gradient(90deg,rgba(255,255,255,0) 0,rgba(255,255,255,.2) 20%,rgba(255,255,255,.5) 60%,rgba(255,255,255,0) 100%);animation:shine 2s infinite;content:""}
`;function ly(n){return Hh(n.locale,n.dataStore,n.messages,n.emojiData)}let uy=0,gs;function cy(){return`picmo-${Date.now()}-${uy++}`}const hy=Kh();function dy(n){hy(ay);const t=qh(n),r=((t==null?void 0:t.custom)||[]).map(d=>({...d,custom:!0,tags:["custom",...d.tags||[]]})),a=new p0;gs||(gs=ly(t));const u=new sy(t.i18n);gs.then(d=>{a.emit("data:ready",d)}).catch(d=>{a.emit("error",d)});const f=new ny({events:a,i18n:u,customEmojis:r,renderer:t.renderer,options:t,emojiData:gs,pickerId:cy()}).create(ry);return f.renderSync(),f}function cr(n){return n.split("-")[0]}function Ir(n){return n.split("-")[1]}function $s(n){return["top","bottom"].includes(cr(n))?"x":"y"}function Gh(n){return n==="y"?"height":"width"}function Hc(n,t,r){let{reference:a,floating:u}=n;const f=a.x+a.width/2-u.width/2,d=a.y+a.height/2-u.height/2,m=$s(t),y=Gh(m),E=a[y]/2-u[y]/2,B=cr(t),M=m==="x";let _;switch(B){case"top":_={x:f,y:a.y-u.height};break;case"bottom":_={x:f,y:a.y+a.height};break;case"right":_={x:a.x+a.width,y:d};break;case"left":_={x:a.x-u.width,y:d};break;default:_={x:a.x,y:a.y}}switch(Ir(t)){case"start":_[m]-=E*(r&&M?-1:1);break;case"end":_[m]+=E*(r&&M?-1:1);break}return _}const fy=async(n,t,r)=>{const{placement:a="bottom",strategy:u="absolute",middleware:f=[],platform:d}=r,m=await(d.isRTL==null?void 0:d.isRTL(t));let y=await d.getElementRects({reference:n,floating:t,strategy:u}),{x:E,y:B}=Hc(y,a,m),M=a,_={},W=0;for(let U=0;U<f.length;U++){const{name:X,fn:V}=f[U],{x:O,y:D,data:C,reset:x}=await V({x:E,y:B,initialPlacement:a,placement:M,strategy:u,middlewareData:_,rects:y,platform:d,elements:{reference:n,floating:t}});if(E=O??E,B=D??B,_={..._,[X]:{..._[X],...C}},x&&W<=50){W++,typeof x=="object"&&(x.placement&&(M=x.placement),x.rects&&(y=x.rects===!0?await d.getElementRects({reference:n,floating:t,strategy:u}):x.rects),{x:E,y:B}=Hc(y,M,m)),U=-1;continue}}return{x:E,y:B,placement:M,strategy:u,middlewareData:_}};function py(n){return{top:0,right:0,bottom:0,left:0,...n}}function gy(n){return typeof n!="number"?py(n):{top:n,right:n,bottom:n,left:n}}function _s(n){return{...n,top:n.y,left:n.x,right:n.x+n.width,bottom:n.y+n.height}}async function ul(n,t){var r;t===void 0&&(t={});const{x:a,y:u,platform:f,rects:d,elements:m,strategy:y}=n,{boundary:E="clippingAncestors",rootBoundary:B="viewport",elementContext:M="floating",altBoundary:_=!1,padding:W=0}=t,U=gy(W),X=m[_?M==="floating"?"reference":"floating":M],V=_s(await f.getClippingRect({element:(r=await(f.isElement==null?void 0:f.isElement(X)))==null||r?X:X.contextElement||await(f.getDocumentElement==null?void 0:f.getDocumentElement(m.floating)),boundary:E,rootBoundary:B,strategy:y})),O=_s(f.convertOffsetParentRelativeRectToViewportRelativeRect?await f.convertOffsetParentRelativeRectToViewportRelativeRect({rect:M==="floating"?{...d.floating,x:a,y:u}:d.reference,offsetParent:await(f.getOffsetParent==null?void 0:f.getOffsetParent(m.floating)),strategy:y}):d[M]);return{top:V.top-O.top+U.top,bottom:O.bottom-V.bottom+U.bottom,left:V.left-O.left+U.left,right:O.right-V.right+U.right}}const my=Math.min,vy=Math.max;function zc(n,t,r){return vy(n,my(t,r))}const yy={left:"right",right:"left",bottom:"top",top:"bottom"};function Ps(n){return n.replace(/left|right|bottom|top/g,t=>yy[t])}function Xh(n,t,r){r===void 0&&(r=!1);const a=Ir(n),u=$s(n),f=Gh(u);let d=u==="x"?a===(r?"end":"start")?"right":"left":a==="start"?"bottom":"top";return t.reference[f]>t.floating[f]&&(d=Ps(d)),{main:d,cross:Ps(d)}}const by={start:"end",end:"start"};function qa(n){return n.replace(/start|end/g,t=>by[t])}const wy=["top","right","bottom","left"],xy=wy.reduce((n,t)=>n.concat(t,t+"-start",t+"-end"),[]);function Cy(n,t,r){return(n?[...r.filter(a=>Ir(a)===n),...r.filter(a=>Ir(a)!==n)]:r.filter(a=>cr(a)===a)).filter(a=>n?Ir(a)===n||(t?qa(a)!==a:!1):!0)}const ky=function(n){return n===void 0&&(n={}),{name:"autoPlacement",options:n,async fn(t){var r,a,u,f,d;const{x:m,y,rects:E,middlewareData:B,placement:M,platform:_,elements:W}=t,{alignment:U=null,allowedPlacements:X=xy,autoAlignment:V=!0,...O}=n,D=Cy(U,V,X),C=await ul(t,O),x=(r=(a=B.autoPlacement)==null?void 0:a.index)!=null?r:0,S=D[x];if(S==null)return{};const{main:L,cross:G}=Xh(S,E,await(_.isRTL==null?void 0:_.isRTL(W.floating)));if(M!==S)return{x:m,y,reset:{placement:D[0]}};const te=[C[cr(S)],C[L],C[G]],oe=[...(u=(f=B.autoPlacement)==null?void 0:f.overflows)!=null?u:[],{placement:S,overflows:te}],Be=D[x+1];if(Be)return{data:{index:x+1,overflows:oe},reset:{placement:Be}};const se=oe.slice().sort((ve,N)=>ve.overflows[0]-N.overflows[0]),ke=(d=se.find(ve=>{let{overflows:N}=ve;return N.every(ie=>ie<=0)}))==null?void 0:d.placement,Se=ke??se[0].placement;return Se!==M?{data:{index:x+1,overflows:oe},reset:{placement:Se}}:{}}}};function Sy(n){const t=Ps(n);return[qa(n),t,qa(t)]}const Ey=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(t){var r;const{placement:a,middlewareData:u,rects:f,initialPlacement:d,platform:m,elements:y}=t,{mainAxis:E=!0,crossAxis:B=!0,fallbackPlacements:M,fallbackStrategy:_="bestFit",flipAlignment:W=!0,...U}=n,X=cr(a),V=M||(X===d||!W?[Ps(d)]:Sy(d)),O=[d,...V],D=await ul(t,U),C=[];let x=((r=u.flip)==null?void 0:r.overflows)||[];if(E&&C.push(D[X]),B){const{main:te,cross:oe}=Xh(a,f,await(m.isRTL==null?void 0:m.isRTL(y.floating)));C.push(D[te],D[oe])}if(x=[...x,{placement:a,overflows:C}],!C.every(te=>te<=0)){var S,L;const te=((S=(L=u.flip)==null?void 0:L.index)!=null?S:0)+1,oe=O[te];if(oe)return{data:{index:te,overflows:x},reset:{placement:oe}};let Be="bottom";switch(_){case"bestFit":{var G;const se=(G=x.map(ke=>[ke,ke.overflows.filter(Se=>Se>0).reduce((Se,ve)=>Se+ve,0)]).sort((ke,Se)=>ke[1]-Se[1])[0])==null?void 0:G[0].placement;se&&(Be=se);break}case"initialPlacement":Be=d;break}if(a!==Be)return{reset:{placement:Be}}}return{}}}};async function Dy(n,t){const{placement:r,platform:a,elements:u}=n,f=await(a.isRTL==null?void 0:a.isRTL(u.floating)),d=cr(r),m=Ir(r),y=$s(r)==="x",E=["left","top"].includes(d)?-1:1,B=f&&y?-1:1,M=typeof t=="function"?t(n):t;let{mainAxis:_,crossAxis:W,alignmentAxis:U}=typeof M=="number"?{mainAxis:M,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...M};return m&&typeof U=="number"&&(W=m==="end"?U*-1:U),y?{x:W*B,y:_*E}:{x:_*E,y:W*B}}const Wc=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(t){const{x:r,y:a}=t,u=await Dy(t,n);return{x:r+u.x,y:a+u.y,data:u}}}};function Ay(n){return n==="x"?"y":"x"}const $c=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(t){const{x:r,y:a,placement:u}=t,{mainAxis:f=!0,crossAxis:d=!1,limiter:m={fn:V=>{let{x:O,y:D}=V;return{x:O,y:D}}},...y}=n,E={x:r,y:a},B=await ul(t,y),M=$s(cr(u)),_=Ay(M);let W=E[M],U=E[_];if(f){const V=M==="y"?"top":"left",O=M==="y"?"bottom":"right",D=W+B[V],C=W-B[O];W=zc(D,W,C)}if(d){const V=_==="y"?"top":"left",O=_==="y"?"bottom":"right",D=U+B[V],C=U-B[O];U=zc(D,U,C)}const X=m.fn({...t,[M]:W,[_]:U});return{...X,data:{x:X.x-r,y:X.y-a}}}}};function Yh(n){return n&&n.document&&n.location&&n.alert&&n.setInterval}function Ci(n){if(n==null)return window;if(!Yh(n)){const t=n.ownerDocument;return t&&t.defaultView||window}return n}function ni(n){return Ci(n).getComputedStyle(n)}function bi(n){return Yh(n)?"":n?(n.nodeName||"").toLowerCase():""}function Zh(){const n=navigator.userAgentData;return n!=null&&n.brands?n.brands.map(t=>t.brand+"/"+t.version).join(" "):navigator.userAgent}function si(n){return n instanceof Ci(n).HTMLElement}function ji(n){return n instanceof Ci(n).Element}function Ly(n){return n instanceof Ci(n).Node}function jr(n){if(typeof ShadowRoot>"u")return!1;const t=Ci(n).ShadowRoot;return n instanceof t||n instanceof ShadowRoot}function qs(n){const{overflow:t,overflowX:r,overflowY:a}=ni(n);return/auto|scroll|overlay|hidden/.test(t+a+r)}function Fy(n){return["table","td","th"].includes(bi(n))}function Jh(n){const t=/firefox/i.test(Zh()),r=ni(n);return r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].includes(r.willChange)||t&&r.willChange==="filter"||t&&(r.filter?r.filter!=="none":!1)}function Qh(){return!/^((?!chrome|android).)*safari/i.test(Zh())}const qc=Math.min,Cn=Math.max,Rs=Math.round;function wi(n,t,r){var a,u,f,d;t===void 0&&(t=!1),r===void 0&&(r=!1);const m=n.getBoundingClientRect();let y=1,E=1;t&&si(n)&&(y=n.offsetWidth>0&&Rs(m.width)/n.offsetWidth||1,E=n.offsetHeight>0&&Rs(m.height)/n.offsetHeight||1);const B=ji(n)?Ci(n):window,M=!Qh()&&r,_=(m.left+(M&&(a=(u=B.visualViewport)==null?void 0:u.offsetLeft)!=null?a:0))/y,W=(m.top+(M&&(f=(d=B.visualViewport)==null?void 0:d.offsetTop)!=null?f:0))/E,U=m.width/y,X=m.height/E;return{width:U,height:X,top:W,right:_+U,bottom:W+X,left:_,x:_,y:W}}function Hi(n){return((Ly(n)?n.ownerDocument:n.document)||window.document).documentElement}function Us(n){return ji(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function ed(n){return wi(Hi(n)).left+Us(n).scrollLeft}function Ty(n){const t=wi(n);return Rs(t.width)!==n.offsetWidth||Rs(t.height)!==n.offsetHeight}function My(n,t,r){const a=si(t),u=Hi(t),f=wi(n,a&&Ty(t),r==="fixed");let d={scrollLeft:0,scrollTop:0};const m={x:0,y:0};if(a||!a&&r!=="fixed")if((bi(t)!=="body"||qs(u))&&(d=Us(t)),si(t)){const y=wi(t,!0);m.x=y.x+t.clientLeft,m.y=y.y+t.clientTop}else u&&(m.x=ed(u));return{x:f.left+d.scrollLeft-m.x,y:f.top+d.scrollTop-m.y,width:f.width,height:f.height}}function td(n){return bi(n)==="html"?n:n.assignedSlot||n.parentNode||(jr(n)?n.host:null)||Hi(n)}function Uc(n){return!si(n)||ni(n).position==="fixed"?null:By(n)}function By(n){let{offsetParent:t}=n,r=n,a=!1;for(;r&&r!==t;){const{assignedSlot:u}=r;if(u){let f=u.offsetParent;if(ni(u).display==="contents"){const d=u.hasAttribute("style"),m=u.style.display;u.style.display=ni(r).display,f=u.offsetParent,u.style.display=m,d||u.removeAttribute("style")}r=u,t!==f&&(t=f,a=!0)}else if(jr(r)&&r.host&&a)break;r=jr(r)&&r.host||r.parentNode}return t}function Oy(n){let t=td(n);for(jr(t)&&(t=t.host);si(t)&&!["html","body"].includes(bi(t));){if(Jh(t))return t;{const r=t.parentNode;t=jr(r)?r.host:r}}return null}function Ua(n){const t=Ci(n);let r=Uc(n);for(;r&&Fy(r)&&ni(r).position==="static";)r=Uc(r);return r&&(bi(r)==="html"||bi(r)==="body"&&ni(r).position==="static"&&!Jh(r))?t:r||Oy(n)||t}function Vc(n){if(si(n))return{width:n.offsetWidth,height:n.offsetHeight};const t=wi(n);return{width:t.width,height:t.height}}function _y(n){let{rect:t,offsetParent:r,strategy:a}=n;const u=si(r),f=Hi(r);if(r===f)return t;let d={scrollLeft:0,scrollTop:0};const m={x:0,y:0};if((u||!u&&a!=="fixed")&&((bi(r)!=="body"||qs(f))&&(d=Us(r)),si(r))){const y=wi(r,!0);m.x=y.x+r.clientLeft,m.y=y.y+r.clientTop}return{...t,x:t.x-d.scrollLeft+m.x,y:t.y-d.scrollTop+m.y}}function Py(n,t){const r=Ci(n),a=Hi(n),u=r.visualViewport;let f=a.clientWidth,d=a.clientHeight,m=0,y=0;if(u){f=u.width,d=u.height;const E=Qh();(E||!E&&t==="fixed")&&(m=u.offsetLeft,y=u.offsetTop)}return{width:f,height:d,x:m,y}}function Ry(n){var t;const r=Hi(n),a=Us(n),u=(t=n.ownerDocument)==null?void 0:t.body,f=Cn(r.scrollWidth,r.clientWidth,u?u.scrollWidth:0,u?u.clientWidth:0),d=Cn(r.scrollHeight,r.clientHeight,u?u.scrollHeight:0,u?u.clientHeight:0);let m=-a.scrollLeft+ed(n);const y=-a.scrollTop;return ni(u||r).direction==="rtl"&&(m+=Cn(r.clientWidth,u?u.clientWidth:0)-f),{width:f,height:d,x:m,y}}function id(n){const t=td(n);return["html","body","#document"].includes(bi(t))?n.ownerDocument.body:si(t)&&qs(t)?t:id(t)}function Is(n,t){var r;t===void 0&&(t=[]);const a=id(n),u=a===((r=n.ownerDocument)==null?void 0:r.body),f=Ci(a),d=u?[f].concat(f.visualViewport||[],qs(a)?a:[]):a,m=t.concat(d);return u?m:m.concat(Is(d))}function Iy(n,t){const r=t.getRootNode==null?void 0:t.getRootNode();if(n.contains(t))return!0;if(r&&jr(r)){let a=t;do{if(a&&n===a)return!0;a=a.parentNode||a.host}while(a)}return!1}function Ny(n,t){const r=wi(n,!1,t==="fixed"),a=r.top+n.clientTop,u=r.left+n.clientLeft;return{top:a,left:u,x:u,y:a,right:u+n.clientWidth,bottom:a+n.clientHeight,width:n.clientWidth,height:n.clientHeight}}function Kc(n,t,r){return t==="viewport"?_s(Py(n,r)):ji(t)?Ny(t,r):_s(Ry(Hi(n)))}function jy(n){const t=Is(n),r=["absolute","fixed"].includes(ni(n).position)&&si(n)?Ua(n):n;return ji(r)?t.filter(a=>ji(a)&&Iy(a,r)&&bi(a)!=="body"):[]}function Hy(n){let{element:t,boundary:r,rootBoundary:a,strategy:u}=n;const f=[...r==="clippingAncestors"?jy(t):[].concat(r),a],d=f[0],m=f.reduce((y,E)=>{const B=Kc(t,E,u);return y.top=Cn(B.top,y.top),y.right=qc(B.right,y.right),y.bottom=qc(B.bottom,y.bottom),y.left=Cn(B.left,y.left),y},Kc(t,d,u));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}const zy={getClippingRect:Hy,convertOffsetParentRelativeRectToViewportRelativeRect:_y,isElement:ji,getDimensions:Vc,getOffsetParent:Ua,getDocumentElement:Hi,getElementRects:n=>{let{reference:t,floating:r,strategy:a}=n;return{reference:My(t,Ua(r),a),floating:{...Vc(r),x:0,y:0}}},getClientRects:n=>Array.from(n.getClientRects()),isRTL:n=>ni(n).direction==="rtl"};function Wy(n,t,r,a){a===void 0&&(a={});const{ancestorScroll:u=!0,ancestorResize:f=!0,elementResize:d=!0,animationFrame:m=!1}=a,y=u&&!m,E=f&&!m,B=y||E?[...ji(n)?Is(n):[],...Is(t)]:[];B.forEach(X=>{y&&X.addEventListener("scroll",r,{passive:!0}),E&&X.addEventListener("resize",r)});let M=null;if(d){let X=!0;M=new ResizeObserver(()=>{X||r(),X=!1}),ji(n)&&!m&&M.observe(n),M.observe(t)}let _,W=m?wi(n):null;m&&U();function U(){const X=wi(n);W&&(X.x!==W.x||X.y!==W.y||X.width!==W.width||X.height!==W.height)&&r(),W=X,_=requestAnimationFrame(U)}return r(),()=>{var X;B.forEach(V=>{y&&V.removeEventListener("scroll",r),E&&V.removeEventListener("resize",r)}),(X=M)==null||X.disconnect(),M=null,m&&cancelAnimationFrame(_)}}const $y=(n,t,r)=>fy(n,t,{platform:zy,...r});async function qy(n,t,r,a){if(!a)throw new Error("Must provide a positioning option");return await(typeof a=="string"?Uy(n,t,r,a):Vy(t,a))}async function Uy(n,t,r,a){if(!r)throw new Error("Reference element is required for relative positioning");let u;return a==="auto"?u={middleware:[ky(),$c(),Wc({mainAxis:5,crossAxis:12})]}:u={placement:a,middleware:[Ey(),$c(),Wc(5)]},Wy(r,t,async()=>{if((!r.isConnected||!r.offsetParent)&&Ky(n))return;const{x:f,y:d}=await $y(r,t,u);Object.assign(t.style,{position:"absolute",left:`${f}px`,top:`${d}px`})})}function Vy(n,t){return n.style.position="fixed",Object.entries(t).forEach(([r,a])=>{n.style[r]=a}),()=>{}}function Ky(n){switch(n.options.onPositionLost){case"close":return n.close(),!0;case"destroy":return n.destroy(),!0;case"hold":return!0}}const Gy={hideOnClickOutside:!0,hideOnEmojiSelect:!0,hideOnEscape:!0,position:"auto",showCloseButton:!0,onPositionLost:"none"};function Xy(n={}){return{...Gy,rootElement:document.body,...n}}const Yy='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>',Gc=Ct("popupContainer","closeButton");class Zy{constructor(t,r){this.isOpen=!1,this.externalEvents=new Ws,this.options={...Xy(r),...qh(t)},this.popupEl=document.createElement("div"),this.popupEl.classList.add(Gc.popupContainer),this.popupEl.classList.add(this.options.theme),r.className&&this.popupEl.classList.add(r.className),this.options.showCloseButton&&(this.closeButton=document.createElement("button"),this.closeButton.type="button",this.closeButton.classList.add(Gc.closeButton),this.closeButton.innerHTML=Yy,this.closeButton.addEventListener("click",()=>{this.close()}),this.popupEl.appendChild(this.closeButton));const a=document.createElement("div");this.popupEl.appendChild(a),this.picker=dy({...this.options,rootElement:a}),this.focusTrap=new zh,this.picker.addEventListener("data:ready",()=>{this.focusTrap.activate(this.picker.el),this.picker.setInitialFocus()}),this.options.hideOnEmojiSelect&&this.picker.addEventListener("emoji:select",()=>{var u;this.close(),(u=this.triggerElement)==null||u.focus()}),this.options.hideOnClickOutside&&(this.onDocumentClick=this.onDocumentClick.bind(this),document.addEventListener("click",this.onDocumentClick)),this.options.hideOnEscape&&(this.handleKeydown=this.handleKeydown.bind(this),this.popupEl.addEventListener("keydown",this.handleKeydown)),this.referenceElement=this.options.referenceElement,this.triggerElement=this.options.triggerElement}addEventListener(t,r){this.externalEvents.on(t,r),this.picker.addEventListener(t,r)}removeEventListener(t,r){this.externalEvents.off(t,r),this.picker.removeEventListener(t,r)}handleKeydown(t){var r;t.key==="Escape"&&(this.close(),(r=this.triggerElement)==null||r.focus())}async destroy(){this.isOpen&&await this.close(),document.removeEventListener("click",this.onDocumentClick),this.picker.destroy(),this.externalEvents.removeAll()}toggle(t){return this.isOpen?this.close():this.open(t)}async open({triggerElement:t,referenceElement:r}={}){this.isOpen||(t&&(this.triggerElement=t),r&&(this.referenceElement=r),await this.initiateOpenStateChange(!0),this.popupEl.style.opacity="0",this.options.rootElement.appendChild(this.popupEl),await this.setPosition(),this.picker.reset(!1),await this.animatePopup(!0),await this.animateCloseButton(!0),this.picker.setInitialFocus(),this.externalEvents.emit("picker:open"))}async close(){var t;!this.isOpen||(await this.initiateOpenStateChange(!1),await this.animateCloseButton(!1),await this.animatePopup(!1),this.popupEl.remove(),this.picker.reset(),(t=this.positionCleanup)==null||t.call(this),this.focusTrap.deactivate(),this.externalEvents.emit("picker:close"))}getRunningAnimations(){return this.picker.el.getAnimations().filter(t=>t.playState==="running")}async setPosition(){var t;(t=this.positionCleanup)==null||t.call(this),this.positionCleanup=await qy(this,this.popupEl,this.referenceElement,this.options.position)}awaitPendingAnimations(){return Promise.all(this.getRunningAnimations().map(t=>t.finished))}onDocumentClick(t){var r;const a=t.target,u=(r=this.triggerElement)==null?void 0:r.contains(a);this.isOpen&&!this.picker.isPickerClick(t)&&!u&&this.close()}animatePopup(t){return _r(this.popupEl,{opacity:[0,1],transform:["scale(0.9)","scale(1)"]},{duration:150,id:t?"show-picker":"hide-picker",easing:"ease-in-out",direction:t?"normal":"reverse",fill:"both"},this.options)}animateCloseButton(t){if(this.closeButton)return _r(this.closeButton,{opacity:[0,1]},{duration:25,id:t?"show-close":"hide-close",easing:"ease-in-out",direction:t?"normal":"reverse",fill:"both"},this.options)}async initiateOpenStateChange(t){this.isOpen=t,await this.awaitPendingAnimations()}}const Jy=`.picmo__popupContainer{display:flex;flex-direction:column;position:absolute}.picmo__popupContainer .picmo__closeButton{position:absolute;opacity:0;background:transparent;border:none;z-index:1;right:0;top:0;cursor:pointer;padding:4px;align-self:flex-end;transform:translate(50%,-50%);background:#999999;width:1.5rem;height:1.5rem;display:flex;align-items:center;justify-content:center;border-radius:50%}.picmo__popupContainer .picmo__closeButton:hover{background:var(--accent-color)}.picmo__popupContainer .picmo__closeButton svg{fill:#fff;width:1.25rem;height:1.25rem}
`,Qy=Kh();function eb(n,t){return Qy(Jy),new Zy({autoFocus:"auto",...n},t)}class rd extends ft{connect(){this.element.picker=eb({custom:[{emoji:"wakaru",label:"",url:"https://res.cloudinary.com/dw1xpb7if/image/upload/v1690762010/qlgwiofqrcjcyhobyh65.png",tags:[],data:{custom:!0}},{emoji:"kusa",label:"",url:"https://res.cloudinary.com/dw1xpb7if/image/upload/v1690762010/xlquuzni7mr044c0tbl3.png",tags:[],data:{custom:!0}},{emoji:"hee",label:"",url:"https://res.cloudinary.com/dw1xpb7if/image/upload/v1690762010/i41n7d7sremt10qyks3j.png",tags:[],data:{custom:!0}},{emoji:"sorena",label:"",url:"https://res.cloudinary.com/dw1xpb7if/image/upload/v1690762010/ie07dwbtojr9a76zypmp.png",tags:[],data:{custom:!0}},{emoji:"benri",label:"",url:"https://res.cloudinary.com/dw1xpb7if/image/upload/v1690762010/fqa8rr6ftdszjxsasieb.png",tags:[],data:{custom:!0}},{emoji:"naruhodo",label:"",url:"https://res.cloudinary.com/dw1xpb7if/image/upload/v1690762010/kfkzavws8hkkcgpjzjdn.png",tags:[],data:{custom:!0}},{emoji:"sasuga",label:"",url:"https://res.cloudinary.com/dw1xpb7if/image/upload/v1690763099/odehmqcyunhmg2xze9my.png",tags:[],data:{custom:!0}},{emoji:"kami",label:"",url:"https://res.cloudinary.com/dw1xpb7if/image/upload/v1690764533/faec5fxpwsjjbfqptkwq.png",tags:[],data:{custom:!0}},{emoji:"yosasou",label:"",url:"https://res.cloudinary.com/dw1xpb7if/image/upload/v1690764533/lh0o22z5a2h1u0ey7jch.png",tags:[],data:{custom:!0}},{emoji:"kininaru",label:"",url:"https://res.cloudinary.com/dw1xpb7if/image/upload/v1690764533/emyjnaugrubsqe6370tn.png",tags:[],data:{custom:!0}},{emoji:"arigatougozaimasu",label:"",url:"https://res.cloudinary.com/dw1xpb7if/image/upload/v1690764533/lws6zcz0aquacrusgaa5.png",tags:[],data:{custom:!0}},{emoji:"done",label:"DONE",url:"https://res.cloudinary.com/dw1xpb7if/image/upload/v1690891926/g0ei1zg4pnx8ic7bkpdd.png",tags:[],data:{custom:!0}},{emoji:"tiken",label:"",url:"https://res.cloudinary.com/dw1xpb7if/image/upload/v1690891954/lvttfwv0yiid5sulc06k.png",tags:[],data:{custom:!0}},{emoji:"tashikani",label:"",url:"https://res.cloudinary.com/dw1xpb7if/image/upload/v1690891958/p8ihswpfuxdfdi8exce0.png",tags:[],data:{custom:!0}},{emoji:"iine",label:"",url:"https://res.cloudinary.com/dw1xpb7if/image/upload/v1691588207/mvdlwyuzkllmokncl2y0.png",tags:[],data:{custom:!0}}]},{triggerElement:this.buttonTarget,referenceElement:this.buttonTarget}),this.element.picker.addEventListener("emoji:select",t=>{var r;this.element.picker.close(),this.inputTarget.value=(r=t.data)!=null&&r.custom?`<img src="${t.url}" alt="${t.label}" />`:t.emoji,this.element.requestSubmit()})}open(){this.element.picker.open()}}Rt(rd,"targets",["picker","button","input"]);class Va extends ft{connect(){this.fieldTarget.addEventListener("change",this.preview.bind(this))}click(){this.fieldTarget.click()}preview(){this.element.querySelector(".preview").src=URL.createObjectURL(this.fieldTarget.files[0])}remove(){this.fieldTarget.value="",this.element.querySelector(".preview").src=this.fallbackValue,this.fallbackTarget.value="true"}}Rt(Va,"targets",["field","preview","fallback"]),Rt(Va,"values",{fallback:String});function tb(n,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}}function ms(n){return function(t){if(Array.isArray(t))return Ca(t)}(n)||function(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}(n)||function(t,r){if(t){if(typeof t=="string")return Ca(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);if(a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set")return Array.from(t);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Ca(t,r)}}(n)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ca(n,t){(t==null||t>n.length)&&(t=n.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=n[r];return a}var Xc,ka,ir,Sa,Yc,Ka=(Xc=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],ka=function(){function n(a){var u=a.targetModal,f=a.triggers,d=f===void 0?[]:f,m=a.onShow,y=m===void 0?function(){}:m,E=a.onClose,B=E===void 0?function(){}:E,M=a.openTrigger,_=M===void 0?"data-micromodal-trigger":M,W=a.closeTrigger,U=W===void 0?"data-micromodal-close":W,X=a.openClass,V=X===void 0?"is-open":X,O=a.disableScroll,D=O!==void 0&&O,C=a.disableFocus,x=C!==void 0&&C,S=a.awaitCloseAnimation,L=S!==void 0&&S,G=a.awaitOpenAnimation,te=G!==void 0&&G,oe=a.debugMode,Be=oe!==void 0&&oe;(function(se,ke){if(!(se instanceof ke))throw new TypeError("Cannot call a class as a function")})(this,n),this.modal=document.getElementById(u),this.config={debugMode:Be,disableScroll:D,openTrigger:_,closeTrigger:U,openClass:V,onShow:y,onClose:B,awaitCloseAnimation:L,awaitOpenAnimation:te,disableFocus:x},d.length>0&&this.registerTriggers.apply(this,ms(d)),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}var t,r;return t=n,(r=[{key:"registerTriggers",value:function(){for(var a=this,u=arguments.length,f=new Array(u),d=0;d<u;d++)f[d]=arguments[d];f.filter(Boolean).forEach(function(m){m.addEventListener("click",function(y){return a.showModal(y)})})}},{key:"showModal",value:function(){var a=this,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(this.activeElement=document.activeElement,this.modal.setAttribute("aria-hidden","false"),this.modal.classList.add(this.config.openClass),this.scrollBehaviour("disable"),this.addEventListeners(),this.config.awaitOpenAnimation){var f=function d(){a.modal.removeEventListener("animationend",d,!1),a.setFocusToFirstNode()};this.modal.addEventListener("animationend",f,!1)}else this.setFocusToFirstNode();this.config.onShow(this.modal,this.activeElement,u)}},{key:"closeModal",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,u=this.modal;if(this.modal.setAttribute("aria-hidden","true"),this.removeEventListeners(),this.scrollBehaviour("enable"),this.activeElement&&this.activeElement.focus&&this.activeElement.focus(),this.config.onClose(this.modal,this.activeElement,a),this.config.awaitCloseAnimation){var f=this.config.openClass;this.modal.addEventListener("animationend",function d(){u.classList.remove(f),u.removeEventListener("animationend",d,!1)},!1)}else u.classList.remove(this.config.openClass)}},{key:"closeModalById",value:function(a){this.modal=document.getElementById(a),this.modal&&this.closeModal()}},{key:"scrollBehaviour",value:function(a){if(this.config.disableScroll){var u=document.querySelector("body");switch(a){case"enable":Object.assign(u.style,{overflow:""});break;case"disable":Object.assign(u.style,{overflow:"hidden"})}}}},{key:"addEventListeners",value:function(){this.modal.addEventListener("touchstart",this.onClick),this.modal.addEventListener("click",this.onClick),document.addEventListener("keydown",this.onKeydown)}},{key:"removeEventListeners",value:function(){this.modal.removeEventListener("touchstart",this.onClick),this.modal.removeEventListener("click",this.onClick),document.removeEventListener("keydown",this.onKeydown)}},{key:"onClick",value:function(a){(a.target.hasAttribute(this.config.closeTrigger)||a.target.parentNode.hasAttribute(this.config.closeTrigger))&&(a.preventDefault(),a.stopPropagation(),this.closeModal(a))}},{key:"onKeydown",value:function(a){a.keyCode===27&&this.closeModal(a),a.keyCode===9&&this.retainFocus(a)}},{key:"getFocusableNodes",value:function(){var a=this.modal.querySelectorAll(Xc);return Array.apply(void 0,ms(a))}},{key:"setFocusToFirstNode",value:function(){var a=this;if(!this.config.disableFocus){var u=this.getFocusableNodes();if(u.length!==0){var f=u.filter(function(d){return!d.hasAttribute(a.config.closeTrigger)});f.length>0&&f[0].focus(),f.length===0&&u[0].focus()}}}},{key:"retainFocus",value:function(a){var u=this.getFocusableNodes();if(u.length!==0)if(u=u.filter(function(d){return d.offsetParent!==null}),this.modal.contains(document.activeElement)){var f=u.indexOf(document.activeElement);a.shiftKey&&f===0&&(u[u.length-1].focus(),a.preventDefault()),!a.shiftKey&&u.length>0&&f===u.length-1&&(u[0].focus(),a.preventDefault())}else u[0].focus()}}])&&tb(t.prototype,r),n}(),ir=null,Sa=function(n){if(!document.getElementById(n))return console.warn("MicroModal: Seems like you have missed %c'".concat(n,"'"),"background-color: #f8f9fa;color: #50596c;font-weight: bold;","ID somewhere in your code. Refer example below to resolve it."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<div class="modal" id="'.concat(n,'"></div>')),!1},Yc=function(n,t){if(function(a){a.length<=0&&(console.warn("MicroModal: Please specify at least one %c'micromodal-trigger'","background-color: #f8f9fa;color: #50596c;font-weight: bold;","data attribute."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<a href="#" data-micromodal-trigger="my-modal"></a>'))}(n),!t)return!0;for(var r in t)Sa(r);return!0},{init:function(n){var t=Object.assign({},{openTrigger:"data-micromodal-trigger"},n),r=ms(document.querySelectorAll("[".concat(t.openTrigger,"]"))),a=function(d,m){var y=[];return d.forEach(function(E){var B=E.attributes[m].value;y[B]===void 0&&(y[B]=[]),y[B].push(E)}),y}(r,t.openTrigger);if(t.debugMode!==!0||Yc(r,a)!==!1)for(var u in a){var f=a[u];t.targetModal=u,t.triggers=ms(f),ir=new ka(t)}},show:function(n,t){var r=t||{};r.targetModal=n,r.debugMode===!0&&Sa(n)===!1||(ir&&ir.removeEventListeners(),(ir=new ka(r)).showModal())},close:function(n){n?ir.closeModalById(n):ir.closeModal()}});typeof window<"u"&&(window.MicroModal=Ka);class ib extends ft{connect(){this.setup()}setup(){this.element.querySelectorAll("p > img").forEach(t=>{t.addEventListener("click",r=>{this.openModal(r)})})}openModal(t){Ka.init(),Ka.show("image-modal"),document.querySelector("#image-modal-image").src=t.target.src}}var nd={exports:{}};(function(n,t){(function(r,a){n.exports=a()})(Lh,function(){var r=navigator.userAgent,a=navigator.platform,u=/gecko\/\d/i.test(r),f=/MSIE \d/.test(r),d=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(r),m=/Edge\/(\d+)/.exec(r),y=f||d||m,E=y&&(f?document.documentMode||6:+(m||d)[1]),B=!m&&/WebKit\//.test(r),M=B&&/Qt\/\d+\.\d+/.test(r),_=!m&&/Chrome\/(\d+)/.exec(r),W=_&&+_[1],U=/Opera\//.test(r),X=/Apple Computer/.test(navigator.vendor),V=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(r),O=/PhantomJS/.test(r),D=X&&(/Mobile\/\w+/.test(r)||navigator.maxTouchPoints>2),C=/Android/.test(r),x=D||C||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(r),S=D||/Mac/.test(a),L=/\bCrOS\b/.test(r),G=/win/i.test(a),te=U&&r.match(/Version\/(\d*\.\d*)/);te&&(te=Number(te[1])),te&&te>=15&&(U=!1,B=!0);var oe=S&&(M||U&&(te==null||te<12.11)),Be=u||y&&E>=9;function se(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var ke=function(e,i){var o=e.className,s=se(i).exec(o);if(s){var l=o.slice(s.index+s[0].length);e.className=o.slice(0,s.index)+(l?s[1]+l:"")}};function Se(e){for(var i=e.childNodes.length;i>0;--i)e.removeChild(e.firstChild);return e}function ve(e,i){return Se(e).appendChild(i)}function N(e,i,o,s){var l=document.createElement(e);if(o&&(l.className=o),s&&(l.style.cssText=s),typeof i=="string")l.appendChild(document.createTextNode(i));else if(i)for(var c=0;c<i.length;++c)l.appendChild(i[c]);return l}function ie(e,i,o,s){var l=N(e,i,o,s);return l.setAttribute("role","presentation"),l}var Q;document.createRange?Q=function(e,i,o,s){var l=document.createRange();return l.setEnd(s||e,o),l.setStart(e,i),l}:Q=function(e,i,o){var s=document.body.createTextRange();try{s.moveToElementText(e.parentNode)}catch{return s}return s.collapse(!0),s.moveEnd("character",o),s.moveStart("character",i),s};function me(e,i){if(i.nodeType==3&&(i=i.parentNode),e.contains)return e.contains(i);do if(i.nodeType==11&&(i=i.host),i==e)return!0;while(i=i.parentNode)}function Ie(e){var i;try{i=e.activeElement}catch{i=e.body||null}for(;i&&i.shadowRoot&&i.shadowRoot.activeElement;)i=i.shadowRoot.activeElement;return i}function Qe(e,i){var o=e.className;se(i).test(o)||(e.className+=(o?" ":"")+i)}function Jt(e,i){for(var o=e.split(" "),s=0;s<o.length;s++)o[s]&&!se(o[s]).test(i)&&(i+=" "+o[s]);return i}var P=function(e){e.select()};D?P=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:y&&(P=function(e){try{e.select()}catch{}});function b(e){return e.display.wrapper.ownerDocument}function Y(e){return b(e).defaultView}function He(e){var i=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,i)}}function Ae(e,i,o){i||(i={});for(var s in e)e.hasOwnProperty(s)&&(o!==!1||!i.hasOwnProperty(s))&&(i[s]=e[s]);return i}function je(e,i,o,s,l){i==null&&(i=e.search(/[^\s\u00a0]/),i==-1&&(i=e.length));for(var c=s||0,h=l||0;;){var p=e.indexOf("	",c);if(p<0||p>=i)return h+(i-c);h+=p-c,h+=o-h%o,c=p+1}}var ot=function(){this.id=null,this.f=null,this.time=0,this.handler=He(this.onTimeout,this)};ot.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},ot.prototype.set=function(e,i){this.f=i;var o=+new Date+e;(!this.id||o<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=o)};function $e(e,i){for(var o=0;o<e.length;++o)if(e[o]==i)return o;return-1}var Ft=50,at={toString:function(){return"CodeMirror.Pass"}},Pe={scroll:!1},et={origin:"*mouse"},Ot={origin:"+move"};function we(e,i,o){for(var s=0,l=0;;){var c=e.indexOf("	",s);c==-1&&(c=e.length);var h=c-s;if(c==e.length||l+h>=i)return s+Math.min(h,i-l);if(l+=c-s,l+=o-l%o,s=c+1,l>=i)return s}}var zt=[""];function Nt(e){for(;zt.length<=e;)zt.push(Oe(zt)+" ");return zt[e]}function Oe(e){return e[e.length-1]}function Wt(e,i){for(var o=[],s=0;s<e.length;s++)o[s]=i(e[s],s);return o}function ki(e,i,o){for(var s=0,l=o(i);s<e.length&&o(e[s])<=l;)s++;e.splice(s,0,i)}function $t(){}function qt(e,i){var o;return Object.create?o=Object.create(e):($t.prototype=e,o=new $t),i&&Ae(i,o),o}var zr=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function $(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||zr.test(e))}function q(e,i){return i?i.source.indexOf("\\w")>-1&&$(e)?!0:i.test(e):$(e)}function H(e){for(var i in e)if(e.hasOwnProperty(i)&&e[i])return!1;return!0}var w=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function k(e){return e.charCodeAt(0)>=768&&w.test(e)}function R(e,i,o){for(;(o<0?i>0:i<e.length)&&k(e.charAt(i));)i+=o;return i}function T(e,i,o){for(var s=i>o?-1:1;;){if(i==o)return i;var l=(i+o)/2,c=s<0?Math.ceil(l):Math.floor(l);if(c==i)return e(c)?i:o;e(c)?o=c:i=c+s}}function I(e,i,o,s){if(!e)return s(i,o,"ltr",0);for(var l=!1,c=0;c<e.length;++c){var h=e[c];(h.from<o&&h.to>i||i==o&&h.to==i)&&(s(Math.max(h.from,i),Math.min(h.to,o),h.level==1?"rtl":"ltr",c),l=!0)}l||s(i,o,"ltr")}var ae=null;function he(e,i,o){var s;ae=null;for(var l=0;l<e.length;++l){var c=e[l];if(c.from<i&&c.to>i)return l;c.to==i&&(c.from!=c.to&&o=="before"?s=l:ae=l),c.from==i&&(c.from!=c.to&&o!="before"?s=l:ae=l)}return s??ae}var pe=function(){var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",i="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function o(v){return v<=247?e.charAt(v):1424<=v&&v<=1524?"R":1536<=v&&v<=1785?i.charAt(v-1536):1774<=v&&v<=2220?"r":8192<=v&&v<=8203?"w":v==8204?"b":"L"}var s=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,l=/[stwN]/,c=/[LRr]/,h=/[Lb1n]/,p=/[1n]/;function g(v,A,F){this.level=v,this.from=A,this.to=F}return function(v,A){var F=A=="ltr"?"L":"R";if(v.length==0||A=="ltr"&&!s.test(v))return!1;for(var z=v.length,j=[],K=0;K<z;++K)j.push(o(v.charCodeAt(K)));for(var J=0,ne=F;J<z;++J){var le=j[J];le=="m"?j[J]=ne:ne=le}for(var ce=0,ue=F;ce<z;++ce){var fe=j[ce];fe=="1"&&ue=="r"?j[ce]="n":c.test(fe)&&(ue=fe,fe=="r"&&(j[ce]="R"))}for(var xe=1,be=j[0];xe<z-1;++xe){var Te=j[xe];Te=="+"&&be=="1"&&j[xe+1]=="1"?j[xe]="1":Te==","&&be==j[xe+1]&&(be=="1"||be=="n")&&(j[xe]=be),be=Te}for(var qe=0;qe<z;++qe){var ht=j[qe];if(ht==",")j[qe]="N";else if(ht=="%"){var Xe=void 0;for(Xe=qe+1;Xe<z&&j[Xe]=="%";++Xe);for(var Mt=qe&&j[qe-1]=="!"||Xe<z&&j[Xe]=="1"?"1":"N",Et=qe;Et<Xe;++Et)j[Et]=Mt;qe=Xe-1}}for(var rt=0,Dt=F;rt<z;++rt){var pt=j[rt];Dt=="L"&&pt=="1"?j[rt]="L":c.test(pt)&&(Dt=pt)}for(var st=0;st<z;++st)if(l.test(j[st])){var nt=void 0;for(nt=st+1;nt<z&&l.test(j[nt]);++nt);for(var Ye=(st?j[st-1]:F)=="L",At=(nt<z?j[nt]:F)=="L",Tr=Ye==At?Ye?"L":"R":F,_i=st;_i<nt;++_i)j[_i]=Tr;st=nt-1}for(var vt=[],ri,dt=0;dt<z;)if(h.test(j[dt])){var pa=dt;for(++dt;dt<z&&h.test(j[dt]);++dt);vt.push(new g(0,pa,dt))}else{var fi=dt,er=vt.length,tr=A=="rtl"?1:0;for(++dt;dt<z&&j[dt]!="L";++dt);for(var wt=fi;wt<dt;)if(p.test(j[wt])){fi<wt&&(vt.splice(er,0,new g(1,fi,wt)),er+=tr);var Mr=wt;for(++wt;wt<dt&&p.test(j[wt]);++wt);vt.splice(er,0,new g(2,Mr,wt)),er+=tr,fi=wt}else++wt;fi<dt&&vt.splice(er,0,new g(1,fi,dt))}return A=="ltr"&&(vt[0].level==1&&(ri=v.match(/^\s+/))&&(vt[0].from=ri[0].length,vt.unshift(new g(0,0,ri[0].length))),Oe(vt).level==1&&(ri=v.match(/\s+$/))&&(Oe(vt).to-=ri[0].length,vt.push(new g(0,z-ri[0].length,z)))),A=="rtl"?vt.reverse():vt}}();function ge(e,i){var o=e.order;return o==null&&(o=e.order=pe(e.text,i)),o}var Ee=[],Z=function(e,i,o){if(e.addEventListener)e.addEventListener(i,o,!1);else if(e.attachEvent)e.attachEvent("on"+i,o);else{var s=e._handlers||(e._handlers={});s[i]=(s[i]||Ee).concat(o)}};function Ce(e,i){return e._handlers&&e._handlers[i]||Ee}function re(e,i,o){if(e.removeEventListener)e.removeEventListener(i,o,!1);else if(e.detachEvent)e.detachEvent("on"+i,o);else{var s=e._handlers,l=s&&s[i];if(l){var c=$e(l,o);c>-1&&(s[i]=l.slice(0,c).concat(l.slice(c+1)))}}}function De(e,i){var o=Ce(e,i);if(o.length)for(var s=Array.prototype.slice.call(arguments,2),l=0;l<o.length;++l)o[l].apply(null,s)}function _e(e,i,o){return typeof i=="string"&&(i={type:i,preventDefault:function(){this.defaultPrevented=!0}}),De(e,o||i.type,e,i),jt(i)||i.codemirrorIgnore}function _t(e){var i=e._handlers&&e._handlers.cursorActivity;if(i)for(var o=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),s=0;s<i.length;++s)$e(o,i[s])==-1&&o.push(i[s])}function Re(e,i){return Ce(e,i).length>0}function Ge(e){e.prototype.on=function(i,o){Z(this,i,o)},e.prototype.off=function(i,o){re(this,i,o)}}function tt(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Si(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function jt(e){return e.defaultPrevented!=null?e.defaultPrevented:e.returnValue==!1}function Ht(e){tt(e),Si(e)}function oi(e){return e.target||e.srcElement}function Ei(e){var i=e.which;return i==null&&(e.button&1?i=1:e.button&2?i=3:e.button&4&&(i=2)),S&&e.ctrlKey&&i==1&&(i=3),i}var ho=function(){if(y&&E<9)return!1;var e=N("div");return"draggable"in e||"dragDrop"in e}(),ai;function Dd(e){if(ai==null){var i=N("span","");ve(e,N("span",[i,document.createTextNode("x")])),e.firstChild.offsetHeight!=0&&(ai=i.offsetWidth<=1&&i.offsetHeight>2&&!(y&&E<8))}var o=ai?N("span",""):N("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return o.setAttribute("cm-text",""),o}var fo;function Ad(e){if(fo!=null)return fo;var i=ve(e,document.createTextNode("AA")),o=Q(i,0,1).getBoundingClientRect(),s=Q(i,1,2).getBoundingClientRect();return Se(e),!o||o.left==o.right?!1:fo=s.right-o.right<3}var po=`

b`.split(/\n/).length!=3?function(e){for(var i=0,o=[],s=e.length;i<=s;){var l=e.indexOf(`
`,i);l==-1&&(l=e.length);var c=e.slice(i,e.charAt(l-1)=="\r"?l-1:l),h=c.indexOf("\r");h!=-1?(o.push(c.slice(0,h)),i+=h+1):(o.push(c),i=l+1)}return o}:function(e){return e.split(/\r\n?|\n/)},Ld=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch{return!1}}:function(e){var i;try{i=e.ownerDocument.selection.createRange()}catch{}return!i||i.parentElement()!=e?!1:i.compareEndPoints("StartToEnd",i)!=0},Fd=function(){var e=N("div");return"oncopy"in e?!0:(e.setAttribute("oncopy","return;"),typeof e.oncopy=="function")}(),go=null;function Td(e){if(go!=null)return go;var i=ve(e,N("span","x")),o=i.getBoundingClientRect(),s=Q(i,0,1).getBoundingClientRect();return go=Math.abs(o.left-s.left)>1}var mo={},hr={};function Md(e,i){arguments.length>2&&(i.dependencies=Array.prototype.slice.call(arguments,2)),mo[e]=i}function Bd(e,i){hr[e]=i}function Bn(e){if(typeof e=="string"&&hr.hasOwnProperty(e))e=hr[e];else if(e&&typeof e.name=="string"&&hr.hasOwnProperty(e.name)){var i=hr[e.name];typeof i=="string"&&(i={name:i}),e=qt(i,e),e.name=i.name}else{if(typeof e=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Bn("application/xml");if(typeof e=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Bn("application/json")}return typeof e=="string"?{name:e}:e||{name:"null"}}function vo(e,i){i=Bn(i);var o=mo[i.name];if(!o)return vo(e,"text/plain");var s=o(e,i);if(dr.hasOwnProperty(i.name)){var l=dr[i.name];for(var c in l)l.hasOwnProperty(c)&&(s.hasOwnProperty(c)&&(s["_"+c]=s[c]),s[c]=l[c])}if(s.name=i.name,i.helperType&&(s.helperType=i.helperType),i.modeProps)for(var h in i.modeProps)s[h]=i.modeProps[h];return s}var dr={};function Od(e,i){var o=dr.hasOwnProperty(e)?dr[e]:dr[e]={};Ae(i,o)}function $i(e,i){if(i===!0)return i;if(e.copyState)return e.copyState(i);var o={};for(var s in i){var l=i[s];l instanceof Array&&(l=l.concat([])),o[s]=l}return o}function yo(e,i){for(var o;e.innerMode&&(o=e.innerMode(i),!(!o||o.mode==e));)i=o.state,e=o.mode;return o||{mode:e,state:i}}function vl(e,i,o){return e.startState?e.startState(i,o):!0}var it=function(e,i,o){this.pos=this.start=0,this.string=e,this.tabSize=i||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=o};it.prototype.eol=function(){return this.pos>=this.string.length},it.prototype.sol=function(){return this.pos==this.lineStart},it.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},it.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},it.prototype.eat=function(e){var i=this.string.charAt(this.pos),o;if(typeof e=="string"?o=i==e:o=i&&(e.test?e.test(i):e(i)),o)return++this.pos,i},it.prototype.eatWhile=function(e){for(var i=this.pos;this.eat(e););return this.pos>i},it.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},it.prototype.skipToEnd=function(){this.pos=this.string.length},it.prototype.skipTo=function(e){var i=this.string.indexOf(e,this.pos);if(i>-1)return this.pos=i,!0},it.prototype.backUp=function(e){this.pos-=e},it.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=je(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?je(this.string,this.lineStart,this.tabSize):0)},it.prototype.indentation=function(){return je(this.string,null,this.tabSize)-(this.lineStart?je(this.string,this.lineStart,this.tabSize):0)},it.prototype.match=function(e,i,o){if(typeof e=="string"){var s=function(h){return o?h.toLowerCase():h},l=this.string.substr(this.pos,e.length);if(s(l)==s(e))return i!==!1&&(this.pos+=e.length),!0}else{var c=this.string.slice(this.pos).match(e);return c&&c.index>0?null:(c&&i!==!1&&(this.pos+=c[0].length),c)}},it.prototype.current=function(){return this.string.slice(this.start,this.pos)},it.prototype.hideFirstChars=function(e,i){this.lineStart+=e;try{return i()}finally{this.lineStart-=e}},it.prototype.lookAhead=function(e){var i=this.lineOracle;return i&&i.lookAhead(e)},it.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};function ye(e,i){if(i-=e.first,i<0||i>=e.size)throw new Error("There is no line "+(i+e.first)+" in the document.");for(var o=e;!o.lines;)for(var s=0;;++s){var l=o.children[s],c=l.chunkSize();if(i<c){o=l;break}i-=c}return o.lines[i]}function qi(e,i,o){var s=[],l=i.line;return e.iter(i.line,o.line+1,function(c){var h=c.text;l==o.line&&(h=h.slice(0,o.ch)),l==i.line&&(h=h.slice(i.ch)),s.push(h),++l}),s}function bo(e,i,o){var s=[];return e.iter(i,o,function(l){s.push(l.text)}),s}function Qt(e,i){var o=i-e.height;if(o)for(var s=e;s;s=s.parent)s.height+=o}function ze(e){if(e.parent==null)return null;for(var i=e.parent,o=$e(i.lines,e),s=i.parent;s;i=s,s=s.parent)for(var l=0;s.children[l]!=i;++l)o+=s.children[l].chunkSize();return o+i.first}function Ui(e,i){var o=e.first;e:do{for(var s=0;s<e.children.length;++s){var l=e.children[s],c=l.height;if(i<c){e=l;continue e}i-=c,o+=l.chunkSize()}return o}while(!e.lines);for(var h=0;h<e.lines.length;++h){var p=e.lines[h],g=p.height;if(i<g)break;i-=g}return o+h}function Wr(e,i){return i>=e.first&&i<e.first+e.size}function wo(e,i){return String(e.lineNumberFormatter(i+e.firstLineNumber))}function ee(e,i,o){if(o===void 0&&(o=null),!(this instanceof ee))return new ee(e,i,o);this.line=e,this.ch=i,this.sticky=o}function Le(e,i){return e.line-i.line||e.ch-i.ch}function xo(e,i){return e.sticky==i.sticky&&Le(e,i)==0}function Co(e){return ee(e.line,e.ch)}function On(e,i){return Le(e,i)<0?i:e}function _n(e,i){return Le(e,i)<0?e:i}function yl(e,i){return Math.max(e.first,Math.min(i,e.first+e.size-1))}function Fe(e,i){if(i.line<e.first)return ee(e.first,0);var o=e.first+e.size-1;return i.line>o?ee(o,ye(e,o).text.length):_d(i,ye(e,i.line).text.length)}function _d(e,i){var o=e.ch;return o==null||o>i?ee(e.line,i):o<0?ee(e.line,0):e}function bl(e,i){for(var o=[],s=0;s<i.length;s++)o[s]=Fe(e,i[s]);return o}var Pn=function(e,i){this.state=e,this.lookAhead=i},ei=function(e,i,o,s){this.state=i,this.doc=e,this.line=o,this.maxLookAhead=s||0,this.baseTokens=null,this.baseTokenPos=1};ei.prototype.lookAhead=function(e){var i=this.doc.getLine(this.line+e);return i!=null&&e>this.maxLookAhead&&(this.maxLookAhead=e),i},ei.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var i=this.baseTokens[this.baseTokenPos+1];return{type:i&&i.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},ei.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},ei.fromSaved=function(e,i,o){return i instanceof Pn?new ei(e,$i(e.mode,i.state),o,i.lookAhead):new ei(e,$i(e.mode,i),o)},ei.prototype.save=function(e){var i=e!==!1?$i(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Pn(i,this.maxLookAhead):i};function wl(e,i,o,s){var l=[e.state.modeGen],c={};Dl(e,i.text,e.doc.mode,o,function(v,A){return l.push(v,A)},c,s);for(var h=o.state,p=function(v){o.baseTokens=l;var A=e.state.overlays[v],F=1,z=0;o.state=!0,Dl(e,i.text,A.mode,o,function(j,K){for(var J=F;z<j;){var ne=l[F];ne>j&&l.splice(F,1,j,l[F+1],ne),F+=2,z=Math.min(j,ne)}if(K)if(A.opaque)l.splice(J,F-J,j,"overlay "+K),F=J+2;else for(;J<F;J+=2){var le=l[J+1];l[J+1]=(le?le+" ":"")+"overlay "+K}},c),o.state=h,o.baseTokens=null,o.baseTokenPos=1},g=0;g<e.state.overlays.length;++g)p(g);return{styles:l,classes:c.bgClass||c.textClass?c:null}}function xl(e,i,o){if(!i.styles||i.styles[0]!=e.state.modeGen){var s=$r(e,ze(i)),l=i.text.length>e.options.maxHighlightLength&&$i(e.doc.mode,s.state),c=wl(e,i,s);l&&(s.state=l),i.stateAfter=s.save(!l),i.styles=c.styles,c.classes?i.styleClasses=c.classes:i.styleClasses&&(i.styleClasses=null),o===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return i.styles}function $r(e,i,o){var s=e.doc,l=e.display;if(!s.mode.startState)return new ei(s,!0,i);var c=Pd(e,i,o),h=c>s.first&&ye(s,c-1).stateAfter,p=h?ei.fromSaved(s,h,c):new ei(s,vl(s.mode),c);return s.iter(c,i,function(g){ko(e,g.text,p);var v=p.line;g.stateAfter=v==i-1||v%5==0||v>=l.viewFrom&&v<l.viewTo?p.save():null,p.nextLine()}),o&&(s.modeFrontier=p.line),p}function ko(e,i,o,s){var l=e.doc.mode,c=new it(i,e.options.tabSize,o);for(c.start=c.pos=s||0,i==""&&Cl(l,o.state);!c.eol();)So(l,c,o.state),c.start=c.pos}function Cl(e,i){if(e.blankLine)return e.blankLine(i);if(e.innerMode){var o=yo(e,i);if(o.mode.blankLine)return o.mode.blankLine(o.state)}}function So(e,i,o,s){for(var l=0;l<10;l++){s&&(s[0]=yo(e,o).mode);var c=e.token(i,o);if(i.pos>i.start)return c}throw new Error("Mode "+e.name+" failed to advance stream.")}var kl=function(e,i,o){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=i||null,this.state=o};function Sl(e,i,o,s){var l=e.doc,c=l.mode,h;i=Fe(l,i);var p=ye(l,i.line),g=$r(e,i.line,o),v=new it(p.text,e.options.tabSize,g),A;for(s&&(A=[]);(s||v.pos<i.ch)&&!v.eol();)v.start=v.pos,h=So(c,v,g.state),s&&A.push(new kl(v,h,$i(l.mode,g.state)));return s?A:new kl(v,h,g.state)}function El(e,i){if(e)for(;;){var o=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!o)break;e=e.slice(0,o.index)+e.slice(o.index+o[0].length);var s=o[1]?"bgClass":"textClass";i[s]==null?i[s]=o[2]:new RegExp("(?:^|\\s)"+o[2]+"(?:$|\\s)").test(i[s])||(i[s]+=" "+o[2])}return e}function Dl(e,i,o,s,l,c,h){var p=o.flattenSpans;p==null&&(p=e.options.flattenSpans);var g=0,v=null,A=new it(i,e.options.tabSize,s),F,z=e.options.addModeClass&&[null];for(i==""&&El(Cl(o,s.state),c);!A.eol();){if(A.pos>e.options.maxHighlightLength?(p=!1,h&&ko(e,i,s,A.pos),A.pos=i.length,F=null):F=El(So(o,A,s.state,z),c),z){var j=z[0].name;j&&(F="m-"+(F?j+" "+F:j))}if(!p||v!=F){for(;g<A.start;)g=Math.min(A.start,g+5e3),l(g,v);v=F}A.start=A.pos}for(;g<A.pos;){var K=Math.min(A.pos,g+5e3);l(K,v),g=K}}function Pd(e,i,o){for(var s,l,c=e.doc,h=o?-1:i-(e.doc.mode.innerMode?1e3:100),p=i;p>h;--p){if(p<=c.first)return c.first;var g=ye(c,p-1),v=g.stateAfter;if(v&&(!o||p+(v instanceof Pn?v.lookAhead:0)<=c.modeFrontier))return p;var A=je(g.text,null,e.options.tabSize);(l==null||s>A)&&(l=p-1,s=A)}return l}function Rd(e,i){if(e.modeFrontier=Math.min(e.modeFrontier,i),!(e.highlightFrontier<i-10)){for(var o=e.first,s=i-1;s>o;s--){var l=ye(e,s).stateAfter;if(l&&(!(l instanceof Pn)||s+l.lookAhead<i)){o=s+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,o)}}var Al=!1,li=!1;function Id(){Al=!0}function Nd(){li=!0}function Rn(e,i,o){this.marker=e,this.from=i,this.to=o}function qr(e,i){if(e)for(var o=0;o<e.length;++o){var s=e[o];if(s.marker==i)return s}}function jd(e,i){for(var o,s=0;s<e.length;++s)e[s]!=i&&(o||(o=[])).push(e[s]);return o}function Hd(e,i,o){var s=o&&window.WeakSet&&(o.markedSpans||(o.markedSpans=new WeakSet));s&&e.markedSpans&&s.has(e.markedSpans)?e.markedSpans.push(i):(e.markedSpans=e.markedSpans?e.markedSpans.concat([i]):[i],s&&s.add(e.markedSpans)),i.marker.attachLine(e)}function zd(e,i,o){var s;if(e)for(var l=0;l<e.length;++l){var c=e[l],h=c.marker,p=c.from==null||(h.inclusiveLeft?c.from<=i:c.from<i);if(p||c.from==i&&h.type=="bookmark"&&(!o||!c.marker.insertLeft)){var g=c.to==null||(h.inclusiveRight?c.to>=i:c.to>i);(s||(s=[])).push(new Rn(h,c.from,g?null:c.to))}}return s}function Wd(e,i,o){var s;if(e)for(var l=0;l<e.length;++l){var c=e[l],h=c.marker,p=c.to==null||(h.inclusiveRight?c.to>=i:c.to>i);if(p||c.from==i&&h.type=="bookmark"&&(!o||c.marker.insertLeft)){var g=c.from==null||(h.inclusiveLeft?c.from<=i:c.from<i);(s||(s=[])).push(new Rn(h,g?null:c.from-i,c.to==null?null:c.to-i))}}return s}function Eo(e,i){if(i.full)return null;var o=Wr(e,i.from.line)&&ye(e,i.from.line).markedSpans,s=Wr(e,i.to.line)&&ye(e,i.to.line).markedSpans;if(!o&&!s)return null;var l=i.from.ch,c=i.to.ch,h=Le(i.from,i.to)==0,p=zd(o,l,h),g=Wd(s,c,h),v=i.text.length==1,A=Oe(i.text).length+(v?l:0);if(p)for(var F=0;F<p.length;++F){var z=p[F];if(z.to==null){var j=qr(g,z.marker);j?v&&(z.to=j.to==null?null:j.to+A):z.to=l}}if(g)for(var K=0;K<g.length;++K){var J=g[K];if(J.to!=null&&(J.to+=A),J.from==null){var ne=qr(p,J.marker);ne||(J.from=A,v&&(p||(p=[])).push(J))}else J.from+=A,v&&(p||(p=[])).push(J)}p&&(p=Ll(p)),g&&g!=p&&(g=Ll(g));var le=[p];if(!v){var ce=i.text.length-2,ue;if(ce>0&&p)for(var fe=0;fe<p.length;++fe)p[fe].to==null&&(ue||(ue=[])).push(new Rn(p[fe].marker,null,null));for(var xe=0;xe<ce;++xe)le.push(ue);le.push(g)}return le}function Ll(e){for(var i=0;i<e.length;++i){var o=e[i];o.from!=null&&o.from==o.to&&o.marker.clearWhenEmpty!==!1&&e.splice(i--,1)}return e.length?e:null}function $d(e,i,o){var s=null;if(e.iter(i.line,o.line+1,function(j){if(j.markedSpans)for(var K=0;K<j.markedSpans.length;++K){var J=j.markedSpans[K].marker;J.readOnly&&(!s||$e(s,J)==-1)&&(s||(s=[])).push(J)}}),!s)return null;for(var l=[{from:i,to:o}],c=0;c<s.length;++c)for(var h=s[c],p=h.find(0),g=0;g<l.length;++g){var v=l[g];if(!(Le(v.to,p.from)<0||Le(v.from,p.to)>0)){var A=[g,1],F=Le(v.from,p.from),z=Le(v.to,p.to);(F<0||!h.inclusiveLeft&&!F)&&A.push({from:v.from,to:p.from}),(z>0||!h.inclusiveRight&&!z)&&A.push({from:p.to,to:v.to}),l.splice.apply(l,A),g+=A.length-3}}return l}function Fl(e){var i=e.markedSpans;if(i){for(var o=0;o<i.length;++o)i[o].marker.detachLine(e);e.markedSpans=null}}function Tl(e,i){if(i){for(var o=0;o<i.length;++o)i[o].marker.attachLine(e);e.markedSpans=i}}function In(e){return e.inclusiveLeft?-1:0}function Nn(e){return e.inclusiveRight?1:0}function Do(e,i){var o=e.lines.length-i.lines.length;if(o!=0)return o;var s=e.find(),l=i.find(),c=Le(s.from,l.from)||In(e)-In(i);if(c)return-c;var h=Le(s.to,l.to)||Nn(e)-Nn(i);return h||i.id-e.id}function Ml(e,i){var o=li&&e.markedSpans,s;if(o)for(var l=void 0,c=0;c<o.length;++c)l=o[c],l.marker.collapsed&&(i?l.from:l.to)==null&&(!s||Do(s,l.marker)<0)&&(s=l.marker);return s}function Bl(e){return Ml(e,!0)}function jn(e){return Ml(e,!1)}function qd(e,i){var o=li&&e.markedSpans,s;if(o)for(var l=0;l<o.length;++l){var c=o[l];c.marker.collapsed&&(c.from==null||c.from<i)&&(c.to==null||c.to>i)&&(!s||Do(s,c.marker)<0)&&(s=c.marker)}return s}function Ol(e,i,o,s,l){var c=ye(e,i),h=li&&c.markedSpans;if(h)for(var p=0;p<h.length;++p){var g=h[p];if(g.marker.collapsed){var v=g.marker.find(0),A=Le(v.from,o)||In(g.marker)-In(l),F=Le(v.to,s)||Nn(g.marker)-Nn(l);if(!(A>=0&&F<=0||A<=0&&F>=0)&&(A<=0&&(g.marker.inclusiveRight&&l.inclusiveLeft?Le(v.to,o)>=0:Le(v.to,o)>0)||A>=0&&(g.marker.inclusiveRight&&l.inclusiveLeft?Le(v.from,s)<=0:Le(v.from,s)<0)))return!0}}}function Ut(e){for(var i;i=Bl(e);)e=i.find(-1,!0).line;return e}function Ud(e){for(var i;i=jn(e);)e=i.find(1,!0).line;return e}function Vd(e){for(var i,o;i=jn(e);)e=i.find(1,!0).line,(o||(o=[])).push(e);return o}function Ao(e,i){var o=ye(e,i),s=Ut(o);return o==s?i:ze(s)}function _l(e,i){if(i>e.lastLine())return i;var o=ye(e,i),s;if(!Di(e,o))return i;for(;s=jn(o);)o=s.find(1,!0).line;return ze(o)+1}function Di(e,i){var o=li&&i.markedSpans;if(o){for(var s=void 0,l=0;l<o.length;++l)if(s=o[l],!!s.marker.collapsed){if(s.from==null)return!0;if(!s.marker.widgetNode&&s.from==0&&s.marker.inclusiveLeft&&Lo(e,i,s))return!0}}}function Lo(e,i,o){if(o.to==null){var s=o.marker.find(1,!0);return Lo(e,s.line,qr(s.line.markedSpans,o.marker))}if(o.marker.inclusiveRight&&o.to==i.text.length)return!0;for(var l=void 0,c=0;c<i.markedSpans.length;++c)if(l=i.markedSpans[c],l.marker.collapsed&&!l.marker.widgetNode&&l.from==o.to&&(l.to==null||l.to!=o.from)&&(l.marker.inclusiveLeft||o.marker.inclusiveRight)&&Lo(e,i,l))return!0}function ui(e){e=Ut(e);for(var i=0,o=e.parent,s=0;s<o.lines.length;++s){var l=o.lines[s];if(l==e)break;i+=l.height}for(var c=o.parent;c;o=c,c=o.parent)for(var h=0;h<c.children.length;++h){var p=c.children[h];if(p==o)break;i+=p.height}return i}function Hn(e){if(e.height==0)return 0;for(var i=e.text.length,o,s=e;o=Bl(s);){var l=o.find(0,!0);s=l.from.line,i+=l.from.ch-l.to.ch}for(s=e;o=jn(s);){var c=o.find(0,!0);i-=s.text.length-c.from.ch,s=c.to.line,i+=s.text.length-c.to.ch}return i}function Fo(e){var i=e.display,o=e.doc;i.maxLine=ye(o,o.first),i.maxLineLength=Hn(i.maxLine),i.maxLineChanged=!0,o.iter(function(s){var l=Hn(s);l>i.maxLineLength&&(i.maxLineLength=l,i.maxLine=s)})}var fr=function(e,i,o){this.text=e,Tl(this,i),this.height=o?o(this):1};fr.prototype.lineNo=function(){return ze(this)},Ge(fr);function Kd(e,i,o,s){e.text=i,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),e.order!=null&&(e.order=null),Fl(e),Tl(e,o);var l=s?s(e):1;l!=e.height&&Qt(e,l)}function Gd(e){e.parent=null,Fl(e)}var Xd={},Yd={};function Pl(e,i){if(!e||/^\s*$/.test(e))return null;var o=i.addModeClass?Yd:Xd;return o[e]||(o[e]=e.replace(/\S+/g,"cm-$&"))}function Rl(e,i){var o=ie("span",null,null,B?"padding-right: .1px":null),s={pre:ie("pre",[o],"CodeMirror-line"),content:o,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};i.measure={};for(var l=0;l<=(i.rest?i.rest.length:0);l++){var c=l?i.rest[l-1]:i.line,h=void 0;s.pos=0,s.addToken=Jd,Ad(e.display.measure)&&(h=ge(c,e.doc.direction))&&(s.addToken=ef(s.addToken,h)),s.map=[];var p=i!=e.display.externalMeasured&&ze(c);tf(c,s,xl(e,c,p)),c.styleClasses&&(c.styleClasses.bgClass&&(s.bgClass=Jt(c.styleClasses.bgClass,s.bgClass||"")),c.styleClasses.textClass&&(s.textClass=Jt(c.styleClasses.textClass,s.textClass||""))),s.map.length==0&&s.map.push(0,0,s.content.appendChild(Dd(e.display.measure))),l==0?(i.measure.map=s.map,i.measure.cache={}):((i.measure.maps||(i.measure.maps=[])).push(s.map),(i.measure.caches||(i.measure.caches=[])).push({}))}if(B){var g=s.content.lastChild;(/\bcm-tab\b/.test(g.className)||g.querySelector&&g.querySelector(".cm-tab"))&&(s.content.className="cm-tab-wrap-hack")}return De(e,"renderLine",e,i.line,s.pre),s.pre.className&&(s.textClass=Jt(s.pre.className,s.textClass||"")),s}function Zd(e){var i=N("span","","cm-invalidchar");return i.title="\\u"+e.charCodeAt(0).toString(16),i.setAttribute("aria-label",i.title),i}function Jd(e,i,o,s,l,c,h){if(i){var p=e.splitSpaces?Qd(i,e.trailingSpace):i,g=e.cm.state.specialChars,v=!1,A;if(!g.test(i))e.col+=i.length,A=document.createTextNode(p),e.map.push(e.pos,e.pos+i.length,A),y&&E<9&&(v=!0),e.pos+=i.length;else{A=document.createDocumentFragment();for(var F=0;;){g.lastIndex=F;var z=g.exec(i),j=z?z.index-F:i.length-F;if(j){var K=document.createTextNode(p.slice(F,F+j));y&&E<9?A.appendChild(N("span",[K])):A.appendChild(K),e.map.push(e.pos,e.pos+j,K),e.col+=j,e.pos+=j}if(!z)break;F+=j+1;var J=void 0;if(z[0]=="	"){var ne=e.cm.options.tabSize,le=ne-e.col%ne;J=A.appendChild(N("span",Nt(le),"cm-tab")),J.setAttribute("role","presentation"),J.setAttribute("cm-text","	"),e.col+=le}else z[0]=="\r"||z[0]==`
`?(J=A.appendChild(N("span",z[0]=="\r"?"":"","cm-invalidchar")),J.setAttribute("cm-text",z[0]),e.col+=1):(J=e.cm.options.specialCharPlaceholder(z[0]),J.setAttribute("cm-text",z[0]),y&&E<9?A.appendChild(N("span",[J])):A.appendChild(J),e.col+=1);e.map.push(e.pos,e.pos+1,J),e.pos++}}if(e.trailingSpace=p.charCodeAt(i.length-1)==32,o||s||l||v||c||h){var ce=o||"";s&&(ce+=s),l&&(ce+=l);var ue=N("span",[A],ce,c);if(h)for(var fe in h)h.hasOwnProperty(fe)&&fe!="style"&&fe!="class"&&ue.setAttribute(fe,h[fe]);return e.content.appendChild(ue)}e.content.appendChild(A)}}function Qd(e,i){if(e.length>1&&!/  /.test(e))return e;for(var o=i,s="",l=0;l<e.length;l++){var c=e.charAt(l);c==" "&&o&&(l==e.length-1||e.charCodeAt(l+1)==32)&&(c=""),s+=c,o=c==" "}return s}function ef(e,i){return function(o,s,l,c,h,p,g){l=l?l+" cm-force-border":"cm-force-border";for(var v=o.pos,A=v+s.length;;){for(var F=void 0,z=0;z<i.length&&(F=i[z],!(F.to>v&&F.from<=v));z++);if(F.to>=A)return e(o,s,l,c,h,p,g);e(o,s.slice(0,F.to-v),l,c,null,p,g),c=null,s=s.slice(F.to-v),v=F.to}}}function Il(e,i,o,s){var l=!s&&o.widgetNode;l&&e.map.push(e.pos,e.pos+i,l),!s&&e.cm.display.input.needsContentAttribute&&(l||(l=e.content.appendChild(document.createElement("span"))),l.setAttribute("cm-marker",o.id)),l&&(e.cm.display.input.setUneditable(l),e.content.appendChild(l)),e.pos+=i,e.trailingSpace=!1}function tf(e,i,o){var s=e.markedSpans,l=e.text,c=0;if(!s){for(var h=1;h<o.length;h+=2)i.addToken(i,l.slice(c,c=o[h]),Pl(o[h+1],i.cm.options));return}for(var p=l.length,g=0,v=1,A="",F,z,j=0,K,J,ne,le,ce;;){if(j==g){K=J=ne=z="",ce=null,le=null,j=1/0;for(var ue=[],fe=void 0,xe=0;xe<s.length;++xe){var be=s[xe],Te=be.marker;if(Te.type=="bookmark"&&be.from==g&&Te.widgetNode)ue.push(Te);else if(be.from<=g&&(be.to==null||be.to>g||Te.collapsed&&be.to==g&&be.from==g)){if(be.to!=null&&be.to!=g&&j>be.to&&(j=be.to,J=""),Te.className&&(K+=" "+Te.className),Te.css&&(z=(z?z+";":"")+Te.css),Te.startStyle&&be.from==g&&(ne+=" "+Te.startStyle),Te.endStyle&&be.to==j&&(fe||(fe=[])).push(Te.endStyle,be.to),Te.title&&((ce||(ce={})).title=Te.title),Te.attributes)for(var qe in Te.attributes)(ce||(ce={}))[qe]=Te.attributes[qe];Te.collapsed&&(!le||Do(le.marker,Te)<0)&&(le=be)}else be.from>g&&j>be.from&&(j=be.from)}if(fe)for(var ht=0;ht<fe.length;ht+=2)fe[ht+1]==j&&(J+=" "+fe[ht]);if(!le||le.from==g)for(var Xe=0;Xe<ue.length;++Xe)Il(i,0,ue[Xe]);if(le&&(le.from||0)==g){if(Il(i,(le.to==null?p+1:le.to)-g,le.marker,le.from==null),le.to==null)return;le.to==g&&(le=!1)}}if(g>=p)break;for(var Mt=Math.min(p,j);;){if(A){var Et=g+A.length;if(!le){var rt=Et>Mt?A.slice(0,Mt-g):A;i.addToken(i,rt,F?F+K:K,ne,g+rt.length==j?J:"",z,ce)}if(Et>=Mt){A=A.slice(Mt-g),g=Mt;break}g=Et,ne=""}A=l.slice(c,c=o[v++]),F=Pl(o[v++],i.cm.options)}}}function Nl(e,i,o){this.line=i,this.rest=Vd(i),this.size=this.rest?ze(Oe(this.rest))-o+1:1,this.node=this.text=null,this.hidden=Di(e,i)}function zn(e,i,o){for(var s=[],l,c=i;c<o;c=l){var h=new Nl(e.doc,ye(e.doc,c),c);l=c+h.size,s.push(h)}return s}var pr=null;function rf(e){pr?pr.ops.push(e):e.ownsGroup=pr={ops:[e],delayedCallbacks:[]}}function nf(e){var i=e.delayedCallbacks,o=0;do{for(;o<i.length;o++)i[o].call(null);for(var s=0;s<e.ops.length;s++){var l=e.ops[s];if(l.cursorActivityHandlers)for(;l.cursorActivityCalled<l.cursorActivityHandlers.length;)l.cursorActivityHandlers[l.cursorActivityCalled++].call(null,l.cm)}}while(o<i.length)}function sf(e,i){var o=e.ownsGroup;if(o)try{nf(o)}finally{pr=null,i(o)}}var Ur=null;function lt(e,i){var o=Ce(e,i);if(o.length){var s=Array.prototype.slice.call(arguments,2),l;pr?l=pr.delayedCallbacks:Ur?l=Ur:(l=Ur=[],setTimeout(of,0));for(var c=function(p){l.push(function(){return o[p].apply(null,s)})},h=0;h<o.length;++h)c(h)}}function of(){var e=Ur;Ur=null;for(var i=0;i<e.length;++i)e[i]()}function jl(e,i,o,s){for(var l=0;l<i.changes.length;l++){var c=i.changes[l];c=="text"?lf(e,i):c=="gutter"?zl(e,i,o,s):c=="class"?To(e,i):c=="widget"&&uf(e,i,s)}i.changes=null}function Vr(e){return e.node==e.text&&(e.node=N("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),y&&E<8&&(e.node.style.zIndex=2)),e.node}function af(e,i){var o=i.bgClass?i.bgClass+" "+(i.line.bgClass||""):i.line.bgClass;if(o&&(o+=" CodeMirror-linebackground"),i.background)o?i.background.className=o:(i.background.parentNode.removeChild(i.background),i.background=null);else if(o){var s=Vr(i);i.background=s.insertBefore(N("div",null,o),s.firstChild),e.display.input.setUneditable(i.background)}}function Hl(e,i){var o=e.display.externalMeasured;return o&&o.line==i.line?(e.display.externalMeasured=null,i.measure=o.measure,o.built):Rl(e,i)}function lf(e,i){var o=i.text.className,s=Hl(e,i);i.text==i.node&&(i.node=s.pre),i.text.parentNode.replaceChild(s.pre,i.text),i.text=s.pre,s.bgClass!=i.bgClass||s.textClass!=i.textClass?(i.bgClass=s.bgClass,i.textClass=s.textClass,To(e,i)):o&&(i.text.className=o)}function To(e,i){af(e,i),i.line.wrapClass?Vr(i).className=i.line.wrapClass:i.node!=i.text&&(i.node.className="");var o=i.textClass?i.textClass+" "+(i.line.textClass||""):i.line.textClass;i.text.className=o||""}function zl(e,i,o,s){if(i.gutter&&(i.node.removeChild(i.gutter),i.gutter=null),i.gutterBackground&&(i.node.removeChild(i.gutterBackground),i.gutterBackground=null),i.line.gutterClass){var l=Vr(i);i.gutterBackground=N("div",null,"CodeMirror-gutter-background "+i.line.gutterClass,"left: "+(e.options.fixedGutter?s.fixedPos:-s.gutterTotalWidth)+"px; width: "+s.gutterTotalWidth+"px"),e.display.input.setUneditable(i.gutterBackground),l.insertBefore(i.gutterBackground,i.text)}var c=i.line.gutterMarkers;if(e.options.lineNumbers||c){var h=Vr(i),p=i.gutter=N("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?s.fixedPos:-s.gutterTotalWidth)+"px");if(p.setAttribute("aria-hidden","true"),e.display.input.setUneditable(p),h.insertBefore(p,i.text),i.line.gutterClass&&(p.className+=" "+i.line.gutterClass),e.options.lineNumbers&&(!c||!c["CodeMirror-linenumbers"])&&(i.lineNumber=p.appendChild(N("div",wo(e.options,o),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+s.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),c)for(var g=0;g<e.display.gutterSpecs.length;++g){var v=e.display.gutterSpecs[g].className,A=c.hasOwnProperty(v)&&c[v];A&&p.appendChild(N("div",[A],"CodeMirror-gutter-elt","left: "+s.gutterLeft[v]+"px; width: "+s.gutterWidth[v]+"px"))}}}function uf(e,i,o){i.alignable&&(i.alignable=null);for(var s=se("CodeMirror-linewidget"),l=i.node.firstChild,c=void 0;l;l=c)c=l.nextSibling,s.test(l.className)&&i.node.removeChild(l);Wl(e,i,o)}function cf(e,i,o,s){var l=Hl(e,i);return i.text=i.node=l.pre,l.bgClass&&(i.bgClass=l.bgClass),l.textClass&&(i.textClass=l.textClass),To(e,i),zl(e,i,o,s),Wl(e,i,s),i.node}function Wl(e,i,o){if($l(e,i.line,i,o,!0),i.rest)for(var s=0;s<i.rest.length;s++)$l(e,i.rest[s],i,o,!1)}function $l(e,i,o,s,l){if(i.widgets)for(var c=Vr(o),h=0,p=i.widgets;h<p.length;++h){var g=p[h],v=N("div",[g.node],"CodeMirror-linewidget"+(g.className?" "+g.className:""));g.handleMouseEvents||v.setAttribute("cm-ignore-events","true"),hf(g,v,o,s),e.display.input.setUneditable(v),l&&g.above?c.insertBefore(v,o.gutter||o.text):c.appendChild(v),lt(g,"redraw")}}function hf(e,i,o,s){if(e.noHScroll){(o.alignable||(o.alignable=[])).push(i);var l=s.wrapperWidth;i.style.left=s.fixedPos+"px",e.coverGutter||(l-=s.gutterTotalWidth,i.style.paddingLeft=s.gutterTotalWidth+"px"),i.style.width=l+"px"}e.coverGutter&&(i.style.zIndex=5,i.style.position="relative",e.noHScroll||(i.style.marginLeft=-s.gutterTotalWidth+"px"))}function Kr(e){if(e.height!=null)return e.height;var i=e.doc.cm;if(!i)return 0;if(!me(document.body,e.node)){var o="position: relative;";e.coverGutter&&(o+="margin-left: -"+i.display.gutters.offsetWidth+"px;"),e.noHScroll&&(o+="width: "+i.display.wrapper.clientWidth+"px;"),ve(i.display.measure,N("div",[e.node],null,o))}return e.height=e.node.parentNode.offsetHeight}function ci(e,i){for(var o=oi(i);o!=e.wrapper;o=o.parentNode)if(!o||o.nodeType==1&&o.getAttribute("cm-ignore-events")=="true"||o.parentNode==e.sizer&&o!=e.mover)return!0}function Wn(e){return e.lineSpace.offsetTop}function Mo(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function ql(e){if(e.cachedPaddingH)return e.cachedPaddingH;var i=ve(e.measure,N("pre","x","CodeMirror-line-like")),o=window.getComputedStyle?window.getComputedStyle(i):i.currentStyle,s={left:parseInt(o.paddingLeft),right:parseInt(o.paddingRight)};return!isNaN(s.left)&&!isNaN(s.right)&&(e.cachedPaddingH=s),s}function ti(e){return Ft-e.display.nativeBarWidth}function Vi(e){return e.display.scroller.clientWidth-ti(e)-e.display.barWidth}function Bo(e){return e.display.scroller.clientHeight-ti(e)-e.display.barHeight}function df(e,i,o){var s=e.options.lineWrapping,l=s&&Vi(e);if(!i.measure.heights||s&&i.measure.width!=l){var c=i.measure.heights=[];if(s){i.measure.width=l;for(var h=i.text.firstChild.getClientRects(),p=0;p<h.length-1;p++){var g=h[p],v=h[p+1];Math.abs(g.bottom-v.bottom)>2&&c.push((g.bottom+v.top)/2-o.top)}}c.push(o.bottom-o.top)}}function Ul(e,i,o){if(e.line==i)return{map:e.measure.map,cache:e.measure.cache};if(e.rest){for(var s=0;s<e.rest.length;s++)if(e.rest[s]==i)return{map:e.measure.maps[s],cache:e.measure.caches[s]};for(var l=0;l<e.rest.length;l++)if(ze(e.rest[l])>o)return{map:e.measure.maps[l],cache:e.measure.caches[l],before:!0}}}function ff(e,i){i=Ut(i);var o=ze(i),s=e.display.externalMeasured=new Nl(e.doc,i,o);s.lineN=o;var l=s.built=Rl(e,s);return s.text=l.pre,ve(e.display.lineMeasure,l.pre),s}function Vl(e,i,o,s){return ii(e,gr(e,i),o,s)}function Oo(e,i){if(i>=e.display.viewFrom&&i<e.display.viewTo)return e.display.view[Xi(e,i)];var o=e.display.externalMeasured;if(o&&i>=o.lineN&&i<o.lineN+o.size)return o}function gr(e,i){var o=ze(i),s=Oo(e,o);s&&!s.text?s=null:s&&s.changes&&(jl(e,s,o,No(e)),e.curOp.forceUpdate=!0),s||(s=ff(e,i));var l=Ul(s,i,o);return{line:i,view:s,rect:null,map:l.map,cache:l.cache,before:l.before,hasHeights:!1}}function ii(e,i,o,s,l){i.before&&(o=-1);var c=o+(s||""),h;return i.cache.hasOwnProperty(c)?h=i.cache[c]:(i.rect||(i.rect=i.view.text.getBoundingClientRect()),i.hasHeights||(df(e,i.view,i.rect),i.hasHeights=!0),h=gf(e,i,o,s),h.bogus||(i.cache[c]=h)),{left:h.left,right:h.right,top:l?h.rtop:h.top,bottom:l?h.rbottom:h.bottom}}var Kl={left:0,right:0,top:0,bottom:0};function Gl(e,i,o){for(var s,l,c,h,p,g,v=0;v<e.length;v+=3)if(p=e[v],g=e[v+1],i<p?(l=0,c=1,h="left"):i<g?(l=i-p,c=l+1):(v==e.length-3||i==g&&e[v+3]>i)&&(c=g-p,l=c-1,i>=g&&(h="right")),l!=null){if(s=e[v+2],p==g&&o==(s.insertLeft?"left":"right")&&(h=o),o=="left"&&l==0)for(;v&&e[v-2]==e[v-3]&&e[v-1].insertLeft;)s=e[(v-=3)+2],h="left";if(o=="right"&&l==g-p)for(;v<e.length-3&&e[v+3]==e[v+4]&&!e[v+5].insertLeft;)s=e[(v+=3)+2],h="right";break}return{node:s,start:l,end:c,collapse:h,coverStart:p,coverEnd:g}}function pf(e,i){var o=Kl;if(i=="left")for(var s=0;s<e.length&&(o=e[s]).left==o.right;s++);else for(var l=e.length-1;l>=0&&(o=e[l]).left==o.right;l--);return o}function gf(e,i,o,s){var l=Gl(i.map,o,s),c=l.node,h=l.start,p=l.end,g=l.collapse,v;if(c.nodeType==3){for(var A=0;A<4;A++){for(;h&&k(i.line.text.charAt(l.coverStart+h));)--h;for(;l.coverStart+p<l.coverEnd&&k(i.line.text.charAt(l.coverStart+p));)++p;if(y&&E<9&&h==0&&p==l.coverEnd-l.coverStart?v=c.parentNode.getBoundingClientRect():v=pf(Q(c,h,p).getClientRects(),s),v.left||v.right||h==0)break;p=h,h=h-1,g="right"}y&&E<11&&(v=mf(e.display.measure,v))}else{h>0&&(g=s="right");var F;e.options.lineWrapping&&(F=c.getClientRects()).length>1?v=F[s=="right"?F.length-1:0]:v=c.getBoundingClientRect()}if(y&&E<9&&!h&&(!v||!v.left&&!v.right)){var z=c.parentNode.getClientRects()[0];z?v={left:z.left,right:z.left+vr(e.display),top:z.top,bottom:z.bottom}:v=Kl}for(var j=v.top-i.rect.top,K=v.bottom-i.rect.top,J=(j+K)/2,ne=i.view.measure.heights,le=0;le<ne.length-1&&!(J<ne[le]);le++);var ce=le?ne[le-1]:0,ue=ne[le],fe={left:(g=="right"?v.right:v.left)-i.rect.left,right:(g=="left"?v.left:v.right)-i.rect.left,top:ce,bottom:ue};return!v.left&&!v.right&&(fe.bogus=!0),e.options.singleCursorHeightPerLine||(fe.rtop=j,fe.rbottom=K),fe}function mf(e,i){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Td(e))return i;var o=screen.logicalXDPI/screen.deviceXDPI,s=screen.logicalYDPI/screen.deviceYDPI;return{left:i.left*o,right:i.right*o,top:i.top*s,bottom:i.bottom*s}}function Xl(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var i=0;i<e.rest.length;i++)e.measure.caches[i]={}}function Yl(e){e.display.externalMeasure=null,Se(e.display.lineMeasure);for(var i=0;i<e.display.view.length;i++)Xl(e.display.view[i])}function Gr(e){Yl(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function Zl(e){return _&&C?-(e.body.getBoundingClientRect().left-parseInt(getComputedStyle(e.body).marginLeft)):e.defaultView.pageXOffset||(e.documentElement||e.body).scrollLeft}function Jl(e){return _&&C?-(e.body.getBoundingClientRect().top-parseInt(getComputedStyle(e.body).marginTop)):e.defaultView.pageYOffset||(e.documentElement||e.body).scrollTop}function _o(e){var i=Ut(e),o=i.widgets,s=0;if(o)for(var l=0;l<o.length;++l)o[l].above&&(s+=Kr(o[l]));return s}function $n(e,i,o,s,l){if(!l){var c=_o(i);o.top+=c,o.bottom+=c}if(s=="line")return o;s||(s="local");var h=ui(i);if(s=="local"?h+=Wn(e.display):h-=e.display.viewOffset,s=="page"||s=="window"){var p=e.display.lineSpace.getBoundingClientRect();h+=p.top+(s=="window"?0:Jl(b(e)));var g=p.left+(s=="window"?0:Zl(b(e)));o.left+=g,o.right+=g}return o.top+=h,o.bottom+=h,o}function Ql(e,i,o){if(o=="div")return i;var s=i.left,l=i.top;if(o=="page")s-=Zl(b(e)),l-=Jl(b(e));else if(o=="local"||!o){var c=e.display.sizer.getBoundingClientRect();s+=c.left,l+=c.top}var h=e.display.lineSpace.getBoundingClientRect();return{left:s-h.left,top:l-h.top}}function qn(e,i,o,s,l){return s||(s=ye(e.doc,i.line)),$n(e,s,Vl(e,s,i.ch,l),o)}function Vt(e,i,o,s,l,c){s=s||ye(e.doc,i.line),l||(l=gr(e,s));function h(K,J){var ne=ii(e,l,K,J?"right":"left",c);return J?ne.left=ne.right:ne.right=ne.left,$n(e,s,ne,o)}var p=ge(s,e.doc.direction),g=i.ch,v=i.sticky;if(g>=s.text.length?(g=s.text.length,v="before"):g<=0&&(g=0,v="after"),!p)return h(v=="before"?g-1:g,v=="before");function A(K,J,ne){var le=p[J],ce=le.level==1;return h(ne?K-1:K,ce!=ne)}var F=he(p,g,v),z=ae,j=A(g,F,v=="before");return z!=null&&(j.other=A(g,z,v!="before")),j}function eu(e,i){var o=0;i=Fe(e.doc,i),e.options.lineWrapping||(o=vr(e.display)*i.ch);var s=ye(e.doc,i.line),l=ui(s)+Wn(e.display);return{left:o,right:o,top:l,bottom:l+s.height}}function Po(e,i,o,s,l){var c=ee(e,i,o);return c.xRel=l,s&&(c.outside=s),c}function Ro(e,i,o){var s=e.doc;if(o+=e.display.viewOffset,o<0)return Po(s.first,0,null,-1,-1);var l=Ui(s,o),c=s.first+s.size-1;if(l>c)return Po(s.first+s.size-1,ye(s,c).text.length,null,1,1);i<0&&(i=0);for(var h=ye(s,l);;){var p=vf(e,h,l,i,o),g=qd(h,p.ch+(p.xRel>0||p.outside>0?1:0));if(!g)return p;var v=g.find(1);if(v.line==l)return v;h=ye(s,l=v.line)}}function tu(e,i,o,s){s-=_o(i);var l=i.text.length,c=T(function(h){return ii(e,o,h-1).bottom<=s},l,0);return l=T(function(h){return ii(e,o,h).top>s},c,l),{begin:c,end:l}}function iu(e,i,o,s){o||(o=gr(e,i));var l=$n(e,i,ii(e,o,s),"line").top;return tu(e,i,o,l)}function Io(e,i,o,s){return e.bottom<=o?!1:e.top>o?!0:(s?e.left:e.right)>i}function vf(e,i,o,s,l){l-=ui(i);var c=gr(e,i),h=_o(i),p=0,g=i.text.length,v=!0,A=ge(i,e.doc.direction);if(A){var F=(e.options.lineWrapping?bf:yf)(e,i,o,c,A,s,l);v=F.level!=1,p=v?F.from:F.to-1,g=v?F.to:F.from-1}var z=null,j=null,K=T(function(xe){var be=ii(e,c,xe);return be.top+=h,be.bottom+=h,Io(be,s,l,!1)?(be.top<=l&&be.left<=s&&(z=xe,j=be),!0):!1},p,g),J,ne,le=!1;if(j){var ce=s-j.left<j.right-s,ue=ce==v;K=z+(ue?0:1),ne=ue?"after":"before",J=ce?j.left:j.right}else{!v&&(K==g||K==p)&&K++,ne=K==0?"after":K==i.text.length?"before":ii(e,c,K-(v?1:0)).bottom+h<=l==v?"after":"before";var fe=Vt(e,ee(o,K,ne),"line",i,c);J=fe.left,le=l<fe.top?-1:l>=fe.bottom?1:0}return K=R(i.text,K,1),Po(o,K,ne,le,s-J)}function yf(e,i,o,s,l,c,h){var p=T(function(F){var z=l[F],j=z.level!=1;return Io(Vt(e,ee(o,j?z.to:z.from,j?"before":"after"),"line",i,s),c,h,!0)},0,l.length-1),g=l[p];if(p>0){var v=g.level!=1,A=Vt(e,ee(o,v?g.from:g.to,v?"after":"before"),"line",i,s);Io(A,c,h,!0)&&A.top>h&&(g=l[p-1])}return g}function bf(e,i,o,s,l,c,h){var p=tu(e,i,s,h),g=p.begin,v=p.end;/\s/.test(i.text.charAt(v-1))&&v--;for(var A=null,F=null,z=0;z<l.length;z++){var j=l[z];if(!(j.from>=v||j.to<=g)){var K=j.level!=1,J=ii(e,s,K?Math.min(v,j.to)-1:Math.max(g,j.from)).right,ne=J<c?c-J+1e9:J-c;(!A||F>ne)&&(A=j,F=ne)}}return A||(A=l[l.length-1]),A.from<g&&(A={from:g,to:A.to,level:A.level}),A.to>v&&(A={from:A.from,to:v,level:A.level}),A}var Ki;function mr(e){if(e.cachedTextHeight!=null)return e.cachedTextHeight;if(Ki==null){Ki=N("pre",null,"CodeMirror-line-like");for(var i=0;i<49;++i)Ki.appendChild(document.createTextNode("x")),Ki.appendChild(N("br"));Ki.appendChild(document.createTextNode("x"))}ve(e.measure,Ki);var o=Ki.offsetHeight/50;return o>3&&(e.cachedTextHeight=o),Se(e.measure),o||1}function vr(e){if(e.cachedCharWidth!=null)return e.cachedCharWidth;var i=N("span","xxxxxxxxxx"),o=N("pre",[i],"CodeMirror-line-like");ve(e.measure,o);var s=i.getBoundingClientRect(),l=(s.right-s.left)/10;return l>2&&(e.cachedCharWidth=l),l||10}function No(e){for(var i=e.display,o={},s={},l=i.gutters.clientLeft,c=i.gutters.firstChild,h=0;c;c=c.nextSibling,++h){var p=e.display.gutterSpecs[h].className;o[p]=c.offsetLeft+c.clientLeft+l,s[p]=c.clientWidth}return{fixedPos:jo(i),gutterTotalWidth:i.gutters.offsetWidth,gutterLeft:o,gutterWidth:s,wrapperWidth:i.wrapper.clientWidth}}function jo(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function ru(e){var i=mr(e.display),o=e.options.lineWrapping,s=o&&Math.max(5,e.display.scroller.clientWidth/vr(e.display)-3);return function(l){if(Di(e.doc,l))return 0;var c=0;if(l.widgets)for(var h=0;h<l.widgets.length;h++)l.widgets[h].height&&(c+=l.widgets[h].height);return o?c+(Math.ceil(l.text.length/s)||1)*i:c+i}}function Ho(e){var i=e.doc,o=ru(e);i.iter(function(s){var l=o(s);l!=s.height&&Qt(s,l)})}function Gi(e,i,o,s){var l=e.display;if(!o&&oi(i).getAttribute("cm-not-content")=="true")return null;var c,h,p=l.lineSpace.getBoundingClientRect();try{c=i.clientX-p.left,h=i.clientY-p.top}catch{return null}var g=Ro(e,c,h),v;if(s&&g.xRel>0&&(v=ye(e.doc,g.line).text).length==g.ch){var A=je(v,v.length,e.options.tabSize)-v.length;g=ee(g.line,Math.max(0,Math.round((c-ql(e.display).left)/vr(e.display))-A))}return g}function Xi(e,i){if(i>=e.display.viewTo||(i-=e.display.viewFrom,i<0))return null;for(var o=e.display.view,s=0;s<o.length;s++)if(i-=o[s].size,i<0)return s}function kt(e,i,o,s){i==null&&(i=e.doc.first),o==null&&(o=e.doc.first+e.doc.size),s||(s=0);var l=e.display;if(s&&o<l.viewTo&&(l.updateLineNumbers==null||l.updateLineNumbers>i)&&(l.updateLineNumbers=i),e.curOp.viewChanged=!0,i>=l.viewTo)li&&Ao(e.doc,i)<l.viewTo&&Li(e);else if(o<=l.viewFrom)li&&_l(e.doc,o+s)>l.viewFrom?Li(e):(l.viewFrom+=s,l.viewTo+=s);else if(i<=l.viewFrom&&o>=l.viewTo)Li(e);else if(i<=l.viewFrom){var c=Un(e,o,o+s,1);c?(l.view=l.view.slice(c.index),l.viewFrom=c.lineN,l.viewTo+=s):Li(e)}else if(o>=l.viewTo){var h=Un(e,i,i,-1);h?(l.view=l.view.slice(0,h.index),l.viewTo=h.lineN):Li(e)}else{var p=Un(e,i,i,-1),g=Un(e,o,o+s,1);p&&g?(l.view=l.view.slice(0,p.index).concat(zn(e,p.lineN,g.lineN)).concat(l.view.slice(g.index)),l.viewTo+=s):Li(e)}var v=l.externalMeasured;v&&(o<v.lineN?v.lineN+=s:i<v.lineN+v.size&&(l.externalMeasured=null))}function Ai(e,i,o){e.curOp.viewChanged=!0;var s=e.display,l=e.display.externalMeasured;if(l&&i>=l.lineN&&i<l.lineN+l.size&&(s.externalMeasured=null),!(i<s.viewFrom||i>=s.viewTo)){var c=s.view[Xi(e,i)];if(c.node!=null){var h=c.changes||(c.changes=[]);$e(h,o)==-1&&h.push(o)}}}function Li(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Un(e,i,o,s){var l=Xi(e,i),c,h=e.display.view;if(!li||o==e.doc.first+e.doc.size)return{index:l,lineN:o};for(var p=e.display.viewFrom,g=0;g<l;g++)p+=h[g].size;if(p!=i){if(s>0){if(l==h.length-1)return null;c=p+h[l].size-i,l++}else c=p-i;i+=c,o+=c}for(;Ao(e.doc,o)!=o;){if(l==(s<0?0:h.length-1))return null;o+=s*h[l-(s<0?1:0)].size,l+=s}return{index:l,lineN:o}}function wf(e,i,o){var s=e.display,l=s.view;l.length==0||i>=s.viewTo||o<=s.viewFrom?(s.view=zn(e,i,o),s.viewFrom=i):(s.viewFrom>i?s.view=zn(e,i,s.viewFrom).concat(s.view):s.viewFrom<i&&(s.view=s.view.slice(Xi(e,i))),s.viewFrom=i,s.viewTo<o?s.view=s.view.concat(zn(e,s.viewTo,o)):s.viewTo>o&&(s.view=s.view.slice(0,Xi(e,o)))),s.viewTo=o}function nu(e){for(var i=e.display.view,o=0,s=0;s<i.length;s++){var l=i[s];!l.hidden&&(!l.node||l.changes)&&++o}return o}function Xr(e){e.display.input.showSelection(e.display.input.prepareSelection())}function su(e,i){i===void 0&&(i=!0);var o=e.doc,s={},l=s.cursors=document.createDocumentFragment(),c=s.selection=document.createDocumentFragment(),h=e.options.$customCursor;h&&(i=!0);for(var p=0;p<o.sel.ranges.length;p++)if(!(!i&&p==o.sel.primIndex)){var g=o.sel.ranges[p];if(!(g.from().line>=e.display.viewTo||g.to().line<e.display.viewFrom)){var v=g.empty();if(h){var A=h(e,g);A&&zo(e,A,l)}else(v||e.options.showCursorWhenSelecting)&&zo(e,g.head,l);v||xf(e,g,c)}}return s}function zo(e,i,o){var s=Vt(e,i,"div",null,null,!e.options.singleCursorHeightPerLine),l=o.appendChild(N("div","","CodeMirror-cursor"));if(l.style.left=s.left+"px",l.style.top=s.top+"px",l.style.height=Math.max(0,s.bottom-s.top)*e.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(e.getWrapperElement().className)){var c=qn(e,i,"div",null,null),h=c.right-c.left;l.style.width=(h>0?h:e.defaultCharWidth())+"px"}if(s.other){var p=o.appendChild(N("div","","CodeMirror-cursor CodeMirror-secondarycursor"));p.style.display="",p.style.left=s.other.left+"px",p.style.top=s.other.top+"px",p.style.height=(s.other.bottom-s.other.top)*.85+"px"}}function Vn(e,i){return e.top-i.top||e.left-i.left}function xf(e,i,o){var s=e.display,l=e.doc,c=document.createDocumentFragment(),h=ql(e.display),p=h.left,g=Math.max(s.sizerWidth,Vi(e)-s.sizer.offsetLeft)-h.right,v=l.direction=="ltr";function A(ue,fe,xe,be){fe<0&&(fe=0),fe=Math.round(fe),be=Math.round(be),c.appendChild(N("div",null,"CodeMirror-selected","position: absolute; left: "+ue+`px;
                             top: `+fe+"px; width: "+(xe??g-ue)+`px;
                             height: `+(be-fe)+"px"))}function F(ue,fe,xe){var be=ye(l,ue),Te=be.text.length,qe,ht;function Xe(rt,Dt){return qn(e,ee(ue,rt),"div",be,Dt)}function Mt(rt,Dt,pt){var st=iu(e,be,null,rt),nt=Dt=="ltr"==(pt=="after")?"left":"right",Ye=pt=="after"?st.begin:st.end-(/\s/.test(be.text.charAt(st.end-1))?2:1);return Xe(Ye,nt)[nt]}var Et=ge(be,l.direction);return I(Et,fe||0,xe??Te,function(rt,Dt,pt,st){var nt=pt=="ltr",Ye=Xe(rt,nt?"left":"right"),At=Xe(Dt-1,nt?"right":"left"),Tr=fe==null&&rt==0,_i=xe==null&&Dt==Te,vt=st==0,ri=!Et||st==Et.length-1;if(At.top-Ye.top<=3){var dt=(v?Tr:_i)&&vt,pa=(v?_i:Tr)&&ri,fi=dt?p:(nt?Ye:At).left,er=pa?g:(nt?At:Ye).right;A(fi,Ye.top,er-fi,Ye.bottom)}else{var tr,wt,Mr,ga;nt?(tr=v&&Tr&&vt?p:Ye.left,wt=v?g:Mt(rt,pt,"before"),Mr=v?p:Mt(Dt,pt,"after"),ga=v&&_i&&ri?g:At.right):(tr=v?Mt(rt,pt,"before"):p,wt=!v&&Tr&&vt?g:Ye.right,Mr=!v&&_i&&ri?p:At.left,ga=v?Mt(Dt,pt,"after"):g),A(tr,Ye.top,wt-tr,Ye.bottom),Ye.bottom<At.top&&A(p,Ye.bottom,null,At.top),A(Mr,At.top,ga-Mr,At.bottom)}(!qe||Vn(Ye,qe)<0)&&(qe=Ye),Vn(At,qe)<0&&(qe=At),(!ht||Vn(Ye,ht)<0)&&(ht=Ye),Vn(At,ht)<0&&(ht=At)}),{start:qe,end:ht}}var z=i.from(),j=i.to();if(z.line==j.line)F(z.line,z.ch,j.ch);else{var K=ye(l,z.line),J=ye(l,j.line),ne=Ut(K)==Ut(J),le=F(z.line,z.ch,ne?K.text.length+1:null).end,ce=F(j.line,ne?0:null,j.ch).start;ne&&(le.top<ce.top-2?(A(le.right,le.top,null,le.bottom),A(p,ce.top,ce.left,ce.bottom)):A(le.right,le.top,ce.left-le.right,le.bottom)),le.bottom<ce.top&&A(p,le.bottom,null,ce.top)}o.appendChild(c)}function Wo(e){if(e.state.focused){var i=e.display;clearInterval(i.blinker);var o=!0;i.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?i.blinker=setInterval(function(){e.hasFocus()||yr(e),i.cursorDiv.style.visibility=(o=!o)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(i.cursorDiv.style.visibility="hidden")}}function ou(e){e.hasFocus()||(e.display.input.focus(),e.state.focused||qo(e))}function $o(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,e.state.focused&&yr(e))},100)}function qo(e,i){e.state.delayingBlurEvent&&!e.state.draggingText&&(e.state.delayingBlurEvent=!1),e.options.readOnly!="nocursor"&&(e.state.focused||(De(e,"focus",e,i),e.state.focused=!0,Qe(e.display.wrapper,"CodeMirror-focused"),!e.curOp&&e.display.selForContextMenu!=e.doc.sel&&(e.display.input.reset(),B&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),Wo(e))}function yr(e,i){e.state.delayingBlurEvent||(e.state.focused&&(De(e,"blur",e,i),e.state.focused=!1,ke(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function Kn(e){for(var i=e.display,o=i.lineDiv.offsetTop,s=Math.max(0,i.scroller.getBoundingClientRect().top),l=i.lineDiv.getBoundingClientRect().top,c=0,h=0;h<i.view.length;h++){var p=i.view[h],g=e.options.lineWrapping,v=void 0,A=0;if(!p.hidden){if(l+=p.line.height,y&&E<8){var F=p.node.offsetTop+p.node.offsetHeight;v=F-o,o=F}else{var z=p.node.getBoundingClientRect();v=z.bottom-z.top,!g&&p.text.firstChild&&(A=p.text.firstChild.getBoundingClientRect().right-z.left-1)}var j=p.line.height-v;if((j>.005||j<-.005)&&(l<s&&(c-=j),Qt(p.line,v),au(p.line),p.rest))for(var K=0;K<p.rest.length;K++)au(p.rest[K]);if(A>e.display.sizerWidth){var J=Math.ceil(A/vr(e.display));J>e.display.maxLineLength&&(e.display.maxLineLength=J,e.display.maxLine=p.line,e.display.maxLineChanged=!0)}}}Math.abs(c)>2&&(i.scroller.scrollTop+=c)}function au(e){if(e.widgets)for(var i=0;i<e.widgets.length;++i){var o=e.widgets[i],s=o.node.parentNode;s&&(o.height=s.offsetHeight)}}function Gn(e,i,o){var s=o&&o.top!=null?Math.max(0,o.top):e.scroller.scrollTop;s=Math.floor(s-Wn(e));var l=o&&o.bottom!=null?o.bottom:s+e.wrapper.clientHeight,c=Ui(i,s),h=Ui(i,l);if(o&&o.ensure){var p=o.ensure.from.line,g=o.ensure.to.line;p<c?(c=p,h=Ui(i,ui(ye(i,p))+e.wrapper.clientHeight)):Math.min(g,i.lastLine())>=h&&(c=Ui(i,ui(ye(i,g))-e.wrapper.clientHeight),h=g)}return{from:c,to:Math.max(h,c+1)}}function Cf(e,i){if(!_e(e,"scrollCursorIntoView")){var o=e.display,s=o.sizer.getBoundingClientRect(),l=null,c=o.wrapper.ownerDocument;if(i.top+s.top<0?l=!0:i.bottom+s.top>(c.defaultView.innerHeight||c.documentElement.clientHeight)&&(l=!1),l!=null&&!O){var h=N("div","",null,`position: absolute;
                         top: `+(i.top-o.viewOffset-Wn(e.display))+`px;
                         height: `+(i.bottom-i.top+ti(e)+o.barHeight)+`px;
                         left: `+i.left+"px; width: "+Math.max(2,i.right-i.left)+"px;");e.display.lineSpace.appendChild(h),h.scrollIntoView(l),e.display.lineSpace.removeChild(h)}}}function kf(e,i,o,s){s==null&&(s=0);var l;!e.options.lineWrapping&&i==o&&(o=i.sticky=="before"?ee(i.line,i.ch+1,"before"):i,i=i.ch?ee(i.line,i.sticky=="before"?i.ch-1:i.ch,"after"):i);for(var c=0;c<5;c++){var h=!1,p=Vt(e,i),g=!o||o==i?p:Vt(e,o);l={left:Math.min(p.left,g.left),top:Math.min(p.top,g.top)-s,right:Math.max(p.left,g.left),bottom:Math.max(p.bottom,g.bottom)+s};var v=Uo(e,l),A=e.doc.scrollTop,F=e.doc.scrollLeft;if(v.scrollTop!=null&&(Zr(e,v.scrollTop),Math.abs(e.doc.scrollTop-A)>1&&(h=!0)),v.scrollLeft!=null&&(Yi(e,v.scrollLeft),Math.abs(e.doc.scrollLeft-F)>1&&(h=!0)),!h)break}return l}function Sf(e,i){var o=Uo(e,i);o.scrollTop!=null&&Zr(e,o.scrollTop),o.scrollLeft!=null&&Yi(e,o.scrollLeft)}function Uo(e,i){var o=e.display,s=mr(e.display);i.top<0&&(i.top=0);var l=e.curOp&&e.curOp.scrollTop!=null?e.curOp.scrollTop:o.scroller.scrollTop,c=Bo(e),h={};i.bottom-i.top>c&&(i.bottom=i.top+c);var p=e.doc.height+Mo(o),g=i.top<s,v=i.bottom>p-s;if(i.top<l)h.scrollTop=g?0:i.top;else if(i.bottom>l+c){var A=Math.min(i.top,(v?p:i.bottom)-c);A!=l&&(h.scrollTop=A)}var F=e.options.fixedGutter?0:o.gutters.offsetWidth,z=e.curOp&&e.curOp.scrollLeft!=null?e.curOp.scrollLeft:o.scroller.scrollLeft-F,j=Vi(e)-o.gutters.offsetWidth,K=i.right-i.left>j;return K&&(i.right=i.left+j),i.left<10?h.scrollLeft=0:i.left<z?h.scrollLeft=Math.max(0,i.left+F-(K?0:10)):i.right>j+z-3&&(h.scrollLeft=i.right+(K?0:10)-j),h}function Vo(e,i){i!=null&&(Xn(e),e.curOp.scrollTop=(e.curOp.scrollTop==null?e.doc.scrollTop:e.curOp.scrollTop)+i)}function br(e){Xn(e);var i=e.getCursor();e.curOp.scrollToPos={from:i,to:i,margin:e.options.cursorScrollMargin}}function Yr(e,i,o){(i!=null||o!=null)&&Xn(e),i!=null&&(e.curOp.scrollLeft=i),o!=null&&(e.curOp.scrollTop=o)}function Ef(e,i){Xn(e),e.curOp.scrollToPos=i}function Xn(e){var i=e.curOp.scrollToPos;if(i){e.curOp.scrollToPos=null;var o=eu(e,i.from),s=eu(e,i.to);lu(e,o,s,i.margin)}}function lu(e,i,o,s){var l=Uo(e,{left:Math.min(i.left,o.left),top:Math.min(i.top,o.top)-s,right:Math.max(i.right,o.right),bottom:Math.max(i.bottom,o.bottom)+s});Yr(e,l.scrollLeft,l.scrollTop)}function Zr(e,i){Math.abs(e.doc.scrollTop-i)<2||(u||Go(e,{top:i}),uu(e,i,!0),u&&Go(e),en(e,100))}function uu(e,i,o){i=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,i)),!(e.display.scroller.scrollTop==i&&!o)&&(e.doc.scrollTop=i,e.display.scrollbars.setScrollTop(i),e.display.scroller.scrollTop!=i&&(e.display.scroller.scrollTop=i))}function Yi(e,i,o,s){i=Math.max(0,Math.min(i,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),!((o?i==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-i)<2)&&!s)&&(e.doc.scrollLeft=i,pu(e),e.display.scroller.scrollLeft!=i&&(e.display.scroller.scrollLeft=i),e.display.scrollbars.setScrollLeft(i))}function Jr(e){var i=e.display,o=i.gutters.offsetWidth,s=Math.round(e.doc.height+Mo(e.display));return{clientHeight:i.scroller.clientHeight,viewHeight:i.wrapper.clientHeight,scrollWidth:i.scroller.scrollWidth,clientWidth:i.scroller.clientWidth,viewWidth:i.wrapper.clientWidth,barLeft:e.options.fixedGutter?o:0,docHeight:s,scrollHeight:s+ti(e)+i.barHeight,nativeBarWidth:i.nativeBarWidth,gutterWidth:o}}var Zi=function(e,i,o){this.cm=o;var s=this.vert=N("div",[N("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),l=this.horiz=N("div",[N("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");s.tabIndex=l.tabIndex=-1,e(s),e(l),Z(s,"scroll",function(){s.clientHeight&&i(s.scrollTop,"vertical")}),Z(l,"scroll",function(){l.clientWidth&&i(l.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,y&&E<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Zi.prototype.update=function(e){var i=e.scrollWidth>e.clientWidth+1,o=e.scrollHeight>e.clientHeight+1,s=e.nativeBarWidth;if(o){this.vert.style.display="block",this.vert.style.bottom=i?s+"px":"0";var l=e.viewHeight-(i?s:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+l)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(i){this.horiz.style.display="block",this.horiz.style.right=o?s+"px":"0",this.horiz.style.left=e.barLeft+"px";var c=e.viewWidth-e.barLeft-(o?s:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+c)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(s==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:o?s:0,bottom:i?s:0}},Zi.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Zi.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Zi.prototype.zeroWidthHack=function(){var e=S&&!V?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new ot,this.disableVert=new ot},Zi.prototype.enableZeroWidthBar=function(e,i,o){e.style.visibility="";function s(){var l=e.getBoundingClientRect(),c=o=="vert"?document.elementFromPoint(l.right-1,(l.top+l.bottom)/2):document.elementFromPoint((l.right+l.left)/2,l.bottom-1);c!=e?e.style.visibility="hidden":i.set(1e3,s)}i.set(1e3,s)},Zi.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var Qr=function(){};Qr.prototype.update=function(){return{bottom:0,right:0}},Qr.prototype.setScrollLeft=function(){},Qr.prototype.setScrollTop=function(){},Qr.prototype.clear=function(){};function wr(e,i){i||(i=Jr(e));var o=e.display.barWidth,s=e.display.barHeight;cu(e,i);for(var l=0;l<4&&o!=e.display.barWidth||s!=e.display.barHeight;l++)o!=e.display.barWidth&&e.options.lineWrapping&&Kn(e),cu(e,Jr(e)),o=e.display.barWidth,s=e.display.barHeight}function cu(e,i){var o=e.display,s=o.scrollbars.update(i);o.sizer.style.paddingRight=(o.barWidth=s.right)+"px",o.sizer.style.paddingBottom=(o.barHeight=s.bottom)+"px",o.heightForcer.style.borderBottom=s.bottom+"px solid transparent",s.right&&s.bottom?(o.scrollbarFiller.style.display="block",o.scrollbarFiller.style.height=s.bottom+"px",o.scrollbarFiller.style.width=s.right+"px"):o.scrollbarFiller.style.display="",s.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(o.gutterFiller.style.display="block",o.gutterFiller.style.height=s.bottom+"px",o.gutterFiller.style.width=i.gutterWidth+"px"):o.gutterFiller.style.display=""}var hu={native:Zi,null:Qr};function du(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&ke(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new hu[e.options.scrollbarStyle](function(i){e.display.wrapper.insertBefore(i,e.display.scrollbarFiller),Z(i,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),i.setAttribute("cm-not-content","true")},function(i,o){o=="horizontal"?Yi(e,i):Zr(e,i)},e),e.display.scrollbars.addClass&&Qe(e.display.wrapper,e.display.scrollbars.addClass)}var Df=0;function Ji(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Df,markArrays:null},rf(e.curOp)}function Qi(e){var i=e.curOp;i&&sf(i,function(o){for(var s=0;s<o.ops.length;s++)o.ops[s].cm.curOp=null;Af(o)})}function Af(e){for(var i=e.ops,o=0;o<i.length;o++)Lf(i[o]);for(var s=0;s<i.length;s++)Ff(i[s]);for(var l=0;l<i.length;l++)Tf(i[l]);for(var c=0;c<i.length;c++)Mf(i[c]);for(var h=0;h<i.length;h++)Bf(i[h])}function Lf(e){var i=e.cm,o=i.display;_f(i),e.updateMaxLine&&Fo(i),e.mustUpdate=e.viewChanged||e.forceUpdate||e.scrollTop!=null||e.scrollToPos&&(e.scrollToPos.from.line<o.viewFrom||e.scrollToPos.to.line>=o.viewTo)||o.maxLineChanged&&i.options.lineWrapping,e.update=e.mustUpdate&&new Yn(i,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Ff(e){e.updatedDisplay=e.mustUpdate&&Ko(e.cm,e.update)}function Tf(e){var i=e.cm,o=i.display;e.updatedDisplay&&Kn(i),e.barMeasure=Jr(i),o.maxLineChanged&&!i.options.lineWrapping&&(e.adjustWidthTo=Vl(i,o.maxLine,o.maxLine.text.length).left+3,i.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(o.scroller.clientWidth,o.sizer.offsetLeft+e.adjustWidthTo+ti(i)+i.display.barWidth),e.maxScrollLeft=Math.max(0,o.sizer.offsetLeft+e.adjustWidthTo-Vi(i))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=o.input.prepareSelection())}function Mf(e){var i=e.cm;e.adjustWidthTo!=null&&(i.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<i.doc.scrollLeft&&Yi(i,Math.min(i.display.scroller.scrollLeft,e.maxScrollLeft),!0),i.display.maxLineChanged=!1);var o=e.focus&&e.focus==Ie(b(i));e.preparedSelection&&i.display.input.showSelection(e.preparedSelection,o),(e.updatedDisplay||e.startHeight!=i.doc.height)&&wr(i,e.barMeasure),e.updatedDisplay&&Yo(i,e.barMeasure),e.selectionChanged&&Wo(i),i.state.focused&&e.updateInput&&i.display.input.reset(e.typing),o&&ou(e.cm)}function Bf(e){var i=e.cm,o=i.display,s=i.doc;if(e.updatedDisplay&&fu(i,e.update),o.wheelStartX!=null&&(e.scrollTop!=null||e.scrollLeft!=null||e.scrollToPos)&&(o.wheelStartX=o.wheelStartY=null),e.scrollTop!=null&&uu(i,e.scrollTop,e.forceScroll),e.scrollLeft!=null&&Yi(i,e.scrollLeft,!0,!0),e.scrollToPos){var l=kf(i,Fe(s,e.scrollToPos.from),Fe(s,e.scrollToPos.to),e.scrollToPos.margin);Cf(i,l)}var c=e.maybeHiddenMarkers,h=e.maybeUnhiddenMarkers;if(c)for(var p=0;p<c.length;++p)c[p].lines.length||De(c[p],"hide");if(h)for(var g=0;g<h.length;++g)h[g].lines.length&&De(h[g],"unhide");o.wrapper.offsetHeight&&(s.scrollTop=i.display.scroller.scrollTop),e.changeObjs&&De(i,"changes",i,e.changeObjs),e.update&&e.update.finish()}function Tt(e,i){if(e.curOp)return i();Ji(e);try{return i()}finally{Qi(e)}}function ut(e,i){return function(){if(e.curOp)return i.apply(e,arguments);Ji(e);try{return i.apply(e,arguments)}finally{Qi(e)}}}function bt(e){return function(){if(this.curOp)return e.apply(this,arguments);Ji(this);try{return e.apply(this,arguments)}finally{Qi(this)}}}function ct(e){return function(){var i=this.cm;if(!i||i.curOp)return e.apply(this,arguments);Ji(i);try{return e.apply(this,arguments)}finally{Qi(i)}}}function en(e,i){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(i,He(Of,e))}function Of(e){var i=e.doc;if(!(i.highlightFrontier>=e.display.viewTo)){var o=+new Date+e.options.workTime,s=$r(e,i.highlightFrontier),l=[];i.iter(s.line,Math.min(i.first+i.size,e.display.viewTo+500),function(c){if(s.line>=e.display.viewFrom){var h=c.styles,p=c.text.length>e.options.maxHighlightLength?$i(i.mode,s.state):null,g=wl(e,c,s,!0);p&&(s.state=p),c.styles=g.styles;var v=c.styleClasses,A=g.classes;A?c.styleClasses=A:v&&(c.styleClasses=null);for(var F=!h||h.length!=c.styles.length||v!=A&&(!v||!A||v.bgClass!=A.bgClass||v.textClass!=A.textClass),z=0;!F&&z<h.length;++z)F=h[z]!=c.styles[z];F&&l.push(s.line),c.stateAfter=s.save(),s.nextLine()}else c.text.length<=e.options.maxHighlightLength&&ko(e,c.text,s),c.stateAfter=s.line%5==0?s.save():null,s.nextLine();if(+new Date>o)return en(e,e.options.workDelay),!0}),i.highlightFrontier=s.line,i.modeFrontier=Math.max(i.modeFrontier,s.line),l.length&&Tt(e,function(){for(var c=0;c<l.length;c++)Ai(e,l[c],"text")})}}var Yn=function(e,i,o){var s=e.display;this.viewport=i,this.visible=Gn(s,e.doc,i),this.editorIsHidden=!s.wrapper.offsetWidth,this.wrapperHeight=s.wrapper.clientHeight,this.wrapperWidth=s.wrapper.clientWidth,this.oldDisplayWidth=Vi(e),this.force=o,this.dims=No(e),this.events=[]};Yn.prototype.signal=function(e,i){Re(e,i)&&this.events.push(arguments)},Yn.prototype.finish=function(){for(var e=0;e<this.events.length;e++)De.apply(null,this.events[e])};function _f(e){var i=e.display;!i.scrollbarsClipped&&i.scroller.offsetWidth&&(i.nativeBarWidth=i.scroller.offsetWidth-i.scroller.clientWidth,i.heightForcer.style.height=ti(e)+"px",i.sizer.style.marginBottom=-i.nativeBarWidth+"px",i.sizer.style.borderRightWidth=ti(e)+"px",i.scrollbarsClipped=!0)}function Pf(e){if(e.hasFocus())return null;var i=Ie(b(e));if(!i||!me(e.display.lineDiv,i))return null;var o={activeElt:i};if(window.getSelection){var s=Y(e).getSelection();s.anchorNode&&s.extend&&me(e.display.lineDiv,s.anchorNode)&&(o.anchorNode=s.anchorNode,o.anchorOffset=s.anchorOffset,o.focusNode=s.focusNode,o.focusOffset=s.focusOffset)}return o}function Rf(e){if(!(!e||!e.activeElt||e.activeElt==Ie(e.activeElt.ownerDocument))&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&me(document.body,e.anchorNode)&&me(document.body,e.focusNode))){var i=e.activeElt.ownerDocument,o=i.defaultView.getSelection(),s=i.createRange();s.setEnd(e.anchorNode,e.anchorOffset),s.collapse(!1),o.removeAllRanges(),o.addRange(s),o.extend(e.focusNode,e.focusOffset)}}function Ko(e,i){var o=e.display,s=e.doc;if(i.editorIsHidden)return Li(e),!1;if(!i.force&&i.visible.from>=o.viewFrom&&i.visible.to<=o.viewTo&&(o.updateLineNumbers==null||o.updateLineNumbers>=o.viewTo)&&o.renderedView==o.view&&nu(e)==0)return!1;gu(e)&&(Li(e),i.dims=No(e));var l=s.first+s.size,c=Math.max(i.visible.from-e.options.viewportMargin,s.first),h=Math.min(l,i.visible.to+e.options.viewportMargin);o.viewFrom<c&&c-o.viewFrom<20&&(c=Math.max(s.first,o.viewFrom)),o.viewTo>h&&o.viewTo-h<20&&(h=Math.min(l,o.viewTo)),li&&(c=Ao(e.doc,c),h=_l(e.doc,h));var p=c!=o.viewFrom||h!=o.viewTo||o.lastWrapHeight!=i.wrapperHeight||o.lastWrapWidth!=i.wrapperWidth;wf(e,c,h),o.viewOffset=ui(ye(e.doc,o.viewFrom)),e.display.mover.style.top=o.viewOffset+"px";var g=nu(e);if(!p&&g==0&&!i.force&&o.renderedView==o.view&&(o.updateLineNumbers==null||o.updateLineNumbers>=o.viewTo))return!1;var v=Pf(e);return g>4&&(o.lineDiv.style.display="none"),If(e,o.updateLineNumbers,i.dims),g>4&&(o.lineDiv.style.display=""),o.renderedView=o.view,Rf(v),Se(o.cursorDiv),Se(o.selectionDiv),o.gutters.style.height=o.sizer.style.minHeight=0,p&&(o.lastWrapHeight=i.wrapperHeight,o.lastWrapWidth=i.wrapperWidth,en(e,400)),o.updateLineNumbers=null,!0}function fu(e,i){for(var o=i.viewport,s=!0;;s=!1){if(!s||!e.options.lineWrapping||i.oldDisplayWidth==Vi(e)){if(o&&o.top!=null&&(o={top:Math.min(e.doc.height+Mo(e.display)-Bo(e),o.top)}),i.visible=Gn(e.display,e.doc,o),i.visible.from>=e.display.viewFrom&&i.visible.to<=e.display.viewTo)break}else s&&(i.visible=Gn(e.display,e.doc,o));if(!Ko(e,i))break;Kn(e);var l=Jr(e);Xr(e),wr(e,l),Yo(e,l),i.force=!1}i.signal(e,"update",e),(e.display.viewFrom!=e.display.reportedViewFrom||e.display.viewTo!=e.display.reportedViewTo)&&(i.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function Go(e,i){var o=new Yn(e,i);if(Ko(e,o)){Kn(e),fu(e,o);var s=Jr(e);Xr(e),wr(e,s),Yo(e,s),o.finish()}}function If(e,i,o){var s=e.display,l=e.options.lineNumbers,c=s.lineDiv,h=c.firstChild;function p(K){var J=K.nextSibling;return B&&S&&e.display.currentWheelTarget==K?K.style.display="none":K.parentNode.removeChild(K),J}for(var g=s.view,v=s.viewFrom,A=0;A<g.length;A++){var F=g[A];if(!F.hidden)if(!F.node||F.node.parentNode!=c){var z=cf(e,F,v,o);c.insertBefore(z,h)}else{for(;h!=F.node;)h=p(h);var j=l&&i!=null&&i<=v&&F.lineNumber;F.changes&&($e(F.changes,"gutter")>-1&&(j=!1),jl(e,F,v,o)),j&&(Se(F.lineNumber),F.lineNumber.appendChild(document.createTextNode(wo(e.options,v)))),h=F.node.nextSibling}v+=F.size}for(;h;)h=p(h)}function Xo(e){var i=e.gutters.offsetWidth;e.sizer.style.marginLeft=i+"px",lt(e,"gutterChanged",e)}function Yo(e,i){e.display.sizer.style.minHeight=i.docHeight+"px",e.display.heightForcer.style.top=i.docHeight+"px",e.display.gutters.style.height=i.docHeight+e.display.barHeight+ti(e)+"px"}function pu(e){var i=e.display,o=i.view;if(!(!i.alignWidgets&&(!i.gutters.firstChild||!e.options.fixedGutter))){for(var s=jo(i)-i.scroller.scrollLeft+e.doc.scrollLeft,l=i.gutters.offsetWidth,c=s+"px",h=0;h<o.length;h++)if(!o[h].hidden){e.options.fixedGutter&&(o[h].gutter&&(o[h].gutter.style.left=c),o[h].gutterBackground&&(o[h].gutterBackground.style.left=c));var p=o[h].alignable;if(p)for(var g=0;g<p.length;g++)p[g].style.left=c}e.options.fixedGutter&&(i.gutters.style.left=s+l+"px")}}function gu(e){if(!e.options.lineNumbers)return!1;var i=e.doc,o=wo(e.options,i.first+i.size-1),s=e.display;if(o.length!=s.lineNumChars){var l=s.measure.appendChild(N("div",[N("div",o)],"CodeMirror-linenumber CodeMirror-gutter-elt")),c=l.firstChild.offsetWidth,h=l.offsetWidth-c;return s.lineGutter.style.width="",s.lineNumInnerWidth=Math.max(c,s.lineGutter.offsetWidth-h)+1,s.lineNumWidth=s.lineNumInnerWidth+h,s.lineNumChars=s.lineNumInnerWidth?o.length:-1,s.lineGutter.style.width=s.lineNumWidth+"px",Xo(e.display),!0}return!1}function Zo(e,i){for(var o=[],s=!1,l=0;l<e.length;l++){var c=e[l],h=null;if(typeof c!="string"&&(h=c.style,c=c.className),c=="CodeMirror-linenumbers")if(i)s=!0;else continue;o.push({className:c,style:h})}return i&&!s&&o.push({className:"CodeMirror-linenumbers",style:null}),o}function mu(e){var i=e.gutters,o=e.gutterSpecs;Se(i),e.lineGutter=null;for(var s=0;s<o.length;++s){var l=o[s],c=l.className,h=l.style,p=i.appendChild(N("div",null,"CodeMirror-gutter "+c));h&&(p.style.cssText=h),c=="CodeMirror-linenumbers"&&(e.lineGutter=p,p.style.width=(e.lineNumWidth||1)+"px")}i.style.display=o.length?"":"none",Xo(e)}function tn(e){mu(e.display),kt(e),pu(e)}function Nf(e,i,o,s){var l=this;this.input=o,l.scrollbarFiller=N("div",null,"CodeMirror-scrollbar-filler"),l.scrollbarFiller.setAttribute("cm-not-content","true"),l.gutterFiller=N("div",null,"CodeMirror-gutter-filler"),l.gutterFiller.setAttribute("cm-not-content","true"),l.lineDiv=ie("div",null,"CodeMirror-code"),l.selectionDiv=N("div",null,null,"position: relative; z-index: 1"),l.cursorDiv=N("div",null,"CodeMirror-cursors"),l.measure=N("div",null,"CodeMirror-measure"),l.lineMeasure=N("div",null,"CodeMirror-measure"),l.lineSpace=ie("div",[l.measure,l.lineMeasure,l.selectionDiv,l.cursorDiv,l.lineDiv],null,"position: relative; outline: none");var c=ie("div",[l.lineSpace],"CodeMirror-lines");l.mover=N("div",[c],null,"position: relative"),l.sizer=N("div",[l.mover],"CodeMirror-sizer"),l.sizerWidth=null,l.heightForcer=N("div",null,null,"position: absolute; height: "+Ft+"px; width: 1px;"),l.gutters=N("div",null,"CodeMirror-gutters"),l.lineGutter=null,l.scroller=N("div",[l.sizer,l.heightForcer,l.gutters],"CodeMirror-scroll"),l.scroller.setAttribute("tabIndex","-1"),l.wrapper=N("div",[l.scrollbarFiller,l.gutterFiller,l.scroller],"CodeMirror"),_&&W>=105&&(l.wrapper.style.clipPath="inset(0px)"),l.wrapper.setAttribute("translate","no"),y&&E<8&&(l.gutters.style.zIndex=-1,l.scroller.style.paddingRight=0),!B&&!(u&&x)&&(l.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(l.wrapper):e(l.wrapper)),l.viewFrom=l.viewTo=i.first,l.reportedViewFrom=l.reportedViewTo=i.first,l.view=[],l.renderedView=null,l.externalMeasured=null,l.viewOffset=0,l.lastWrapHeight=l.lastWrapWidth=0,l.updateLineNumbers=null,l.nativeBarWidth=l.barHeight=l.barWidth=0,l.scrollbarsClipped=!1,l.lineNumWidth=l.lineNumInnerWidth=l.lineNumChars=null,l.alignWidgets=!1,l.cachedCharWidth=l.cachedTextHeight=l.cachedPaddingH=null,l.maxLine=null,l.maxLineLength=0,l.maxLineChanged=!1,l.wheelDX=l.wheelDY=l.wheelStartX=l.wheelStartY=null,l.shift=!1,l.selForContextMenu=null,l.activeTouch=null,l.gutterSpecs=Zo(s.gutters,s.lineNumbers),mu(l),o.init(l)}var Zn=0,hi=null;y?hi=-.53:u?hi=15:_?hi=-.7:X&&(hi=-1/3);function vu(e){var i=e.wheelDeltaX,o=e.wheelDeltaY;return i==null&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(i=e.detail),o==null&&e.detail&&e.axis==e.VERTICAL_AXIS?o=e.detail:o==null&&(o=e.wheelDelta),{x:i,y:o}}function jf(e){var i=vu(e);return i.x*=hi,i.y*=hi,i}function yu(e,i){_&&W==102&&(e.display.chromeScrollHack==null?e.display.sizer.style.pointerEvents="none":clearTimeout(e.display.chromeScrollHack),e.display.chromeScrollHack=setTimeout(function(){e.display.chromeScrollHack=null,e.display.sizer.style.pointerEvents=""},100));var o=vu(i),s=o.x,l=o.y,c=hi;i.deltaMode===0&&(s=i.deltaX,l=i.deltaY,c=1);var h=e.display,p=h.scroller,g=p.scrollWidth>p.clientWidth,v=p.scrollHeight>p.clientHeight;if(s&&g||l&&v){if(l&&S&&B){e:for(var A=i.target,F=h.view;A!=p;A=A.parentNode)for(var z=0;z<F.length;z++)if(F[z].node==A){e.display.currentWheelTarget=A;break e}}if(s&&!u&&!U&&c!=null){l&&v&&Zr(e,Math.max(0,p.scrollTop+l*c)),Yi(e,Math.max(0,p.scrollLeft+s*c)),(!l||l&&v)&&tt(i),h.wheelStartX=null;return}if(l&&c!=null){var j=l*c,K=e.doc.scrollTop,J=K+h.wrapper.clientHeight;j<0?K=Math.max(0,K+j-50):J=Math.min(e.doc.height,J+j+50),Go(e,{top:K,bottom:J})}Zn<20&&i.deltaMode!==0&&(h.wheelStartX==null?(h.wheelStartX=p.scrollLeft,h.wheelStartY=p.scrollTop,h.wheelDX=s,h.wheelDY=l,setTimeout(function(){if(h.wheelStartX!=null){var ne=p.scrollLeft-h.wheelStartX,le=p.scrollTop-h.wheelStartY,ce=le&&h.wheelDY&&le/h.wheelDY||ne&&h.wheelDX&&ne/h.wheelDX;h.wheelStartX=h.wheelStartY=null,ce&&(hi=(hi*Zn+ce)/(Zn+1),++Zn)}},200)):(h.wheelDX+=s,h.wheelDY+=l))}}var Pt=function(e,i){this.ranges=e,this.primIndex=i};Pt.prototype.primary=function(){return this.ranges[this.primIndex]},Pt.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var i=0;i<this.ranges.length;i++){var o=this.ranges[i],s=e.ranges[i];if(!xo(o.anchor,s.anchor)||!xo(o.head,s.head))return!1}return!0},Pt.prototype.deepCopy=function(){for(var e=[],i=0;i<this.ranges.length;i++)e[i]=new Ne(Co(this.ranges[i].anchor),Co(this.ranges[i].head));return new Pt(e,this.primIndex)},Pt.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},Pt.prototype.contains=function(e,i){i||(i=e);for(var o=0;o<this.ranges.length;o++){var s=this.ranges[o];if(Le(i,s.from())>=0&&Le(e,s.to())<=0)return o}return-1};var Ne=function(e,i){this.anchor=e,this.head=i};Ne.prototype.from=function(){return _n(this.anchor,this.head)},Ne.prototype.to=function(){return On(this.anchor,this.head)},Ne.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function Kt(e,i,o){var s=e&&e.options.selectionsMayTouch,l=i[o];i.sort(function(z,j){return Le(z.from(),j.from())}),o=$e(i,l);for(var c=1;c<i.length;c++){var h=i[c],p=i[c-1],g=Le(p.to(),h.from());if(s&&!h.empty()?g>0:g>=0){var v=_n(p.from(),h.from()),A=On(p.to(),h.to()),F=p.empty()?h.from()==h.head:p.from()==p.head;c<=o&&--o,i.splice(--c,2,new Ne(F?A:v,F?v:A))}}return new Pt(i,o)}function Fi(e,i){return new Pt([new Ne(e,i||e)],0)}function Ti(e){return e.text?ee(e.from.line+e.text.length-1,Oe(e.text).length+(e.text.length==1?e.from.ch:0)):e.to}function bu(e,i){if(Le(e,i.from)<0)return e;if(Le(e,i.to)<=0)return Ti(i);var o=e.line+i.text.length-(i.to.line-i.from.line)-1,s=e.ch;return e.line==i.to.line&&(s+=Ti(i).ch-i.to.ch),ee(o,s)}function Jo(e,i){for(var o=[],s=0;s<e.sel.ranges.length;s++){var l=e.sel.ranges[s];o.push(new Ne(bu(l.anchor,i),bu(l.head,i)))}return Kt(e.cm,o,e.sel.primIndex)}function wu(e,i,o){return e.line==i.line?ee(o.line,e.ch-i.ch+o.ch):ee(o.line+(e.line-i.line),e.ch)}function Hf(e,i,o){for(var s=[],l=ee(e.first,0),c=l,h=0;h<i.length;h++){var p=i[h],g=wu(p.from,l,c),v=wu(Ti(p),l,c);if(l=p.to,c=v,o=="around"){var A=e.sel.ranges[h],F=Le(A.head,A.anchor)<0;s[h]=new Ne(F?v:g,F?g:v)}else s[h]=new Ne(g,g)}return new Pt(s,e.sel.primIndex)}function Qo(e){e.doc.mode=vo(e.options,e.doc.modeOption),rn(e)}function rn(e){e.doc.iter(function(i){i.stateAfter&&(i.stateAfter=null),i.styles&&(i.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,en(e,100),e.state.modeGen++,e.curOp&&kt(e)}function xu(e,i){return i.from.ch==0&&i.to.ch==0&&Oe(i.text)==""&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function ea(e,i,o,s){function l(ce){return o?o[ce]:null}function c(ce,ue,fe){Kd(ce,ue,fe,s),lt(ce,"change",ce,i)}function h(ce,ue){for(var fe=[],xe=ce;xe<ue;++xe)fe.push(new fr(v[xe],l(xe),s));return fe}var p=i.from,g=i.to,v=i.text,A=ye(e,p.line),F=ye(e,g.line),z=Oe(v),j=l(v.length-1),K=g.line-p.line;if(i.full)e.insert(0,h(0,v.length)),e.remove(v.length,e.size-v.length);else if(xu(e,i)){var J=h(0,v.length-1);c(F,F.text,j),K&&e.remove(p.line,K),J.length&&e.insert(p.line,J)}else if(A==F)if(v.length==1)c(A,A.text.slice(0,p.ch)+z+A.text.slice(g.ch),j);else{var ne=h(1,v.length-1);ne.push(new fr(z+A.text.slice(g.ch),j,s)),c(A,A.text.slice(0,p.ch)+v[0],l(0)),e.insert(p.line+1,ne)}else if(v.length==1)c(A,A.text.slice(0,p.ch)+v[0]+F.text.slice(g.ch),l(0)),e.remove(p.line+1,K);else{c(A,A.text.slice(0,p.ch)+v[0],l(0)),c(F,z+F.text.slice(g.ch),j);var le=h(1,v.length-1);K>1&&e.remove(p.line+1,K-1),e.insert(p.line+1,le)}lt(e,"change",e,i)}function Mi(e,i,o){function s(l,c,h){if(l.linked)for(var p=0;p<l.linked.length;++p){var g=l.linked[p];if(g.doc!=c){var v=h&&g.sharedHist;o&&!v||(i(g.doc,v),s(g.doc,l,v))}}}s(e,null,!0)}function Cu(e,i){if(i.cm)throw new Error("This document is already in use.");e.doc=i,i.cm=e,Ho(e),Qo(e),ku(e),e.options.direction=i.direction,e.options.lineWrapping||Fo(e),e.options.mode=i.modeOption,kt(e)}function ku(e){(e.doc.direction=="rtl"?Qe:ke)(e.display.lineDiv,"CodeMirror-rtl")}function zf(e){Tt(e,function(){ku(e),kt(e)})}function Jn(e){this.done=[],this.undone=[],this.undoDepth=e?e.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e?e.maxGeneration:1}function ta(e,i){var o={from:Co(i.from),to:Ti(i),text:qi(e,i.from,i.to)};return Du(e,o,i.from.line,i.to.line+1),Mi(e,function(s){return Du(s,o,i.from.line,i.to.line+1)},!0),o}function Su(e){for(;e.length;){var i=Oe(e);if(i.ranges)e.pop();else break}}function Wf(e,i){if(i)return Su(e.done),Oe(e.done);if(e.done.length&&!Oe(e.done).ranges)return Oe(e.done);if(e.done.length>1&&!e.done[e.done.length-2].ranges)return e.done.pop(),Oe(e.done)}function Eu(e,i,o,s){var l=e.history;l.undone.length=0;var c=+new Date,h,p;if((l.lastOp==s||l.lastOrigin==i.origin&&i.origin&&(i.origin.charAt(0)=="+"&&l.lastModTime>c-(e.cm?e.cm.options.historyEventDelay:500)||i.origin.charAt(0)=="*"))&&(h=Wf(l,l.lastOp==s)))p=Oe(h.changes),Le(i.from,i.to)==0&&Le(i.from,p.to)==0?p.to=Ti(i):h.changes.push(ta(e,i));else{var g=Oe(l.done);for((!g||!g.ranges)&&Qn(e.sel,l.done),h={changes:[ta(e,i)],generation:l.generation},l.done.push(h);l.done.length>l.undoDepth;)l.done.shift(),l.done[0].ranges||l.done.shift()}l.done.push(o),l.generation=++l.maxGeneration,l.lastModTime=l.lastSelTime=c,l.lastOp=l.lastSelOp=s,l.lastOrigin=l.lastSelOrigin=i.origin,p||De(e,"historyAdded")}function $f(e,i,o,s){var l=i.charAt(0);return l=="*"||l=="+"&&o.ranges.length==s.ranges.length&&o.somethingSelected()==s.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function qf(e,i,o,s){var l=e.history,c=s&&s.origin;o==l.lastSelOp||c&&l.lastSelOrigin==c&&(l.lastModTime==l.lastSelTime&&l.lastOrigin==c||$f(e,c,Oe(l.done),i))?l.done[l.done.length-1]=i:Qn(i,l.done),l.lastSelTime=+new Date,l.lastSelOrigin=c,l.lastSelOp=o,s&&s.clearRedo!==!1&&Su(l.undone)}function Qn(e,i){var o=Oe(i);o&&o.ranges&&o.equals(e)||i.push(e)}function Du(e,i,o,s){var l=i["spans_"+e.id],c=0;e.iter(Math.max(e.first,o),Math.min(e.first+e.size,s),function(h){h.markedSpans&&((l||(l=i["spans_"+e.id]={}))[c]=h.markedSpans),++c})}function Uf(e){if(!e)return null;for(var i,o=0;o<e.length;++o)e[o].marker.explicitlyCleared?i||(i=e.slice(0,o)):i&&i.push(e[o]);return i?i.length?i:null:e}function Vf(e,i){var o=i["spans_"+e.id];if(!o)return null;for(var s=[],l=0;l<i.text.length;++l)s.push(Uf(o[l]));return s}function Au(e,i){var o=Vf(e,i),s=Eo(e,i);if(!o)return s;if(!s)return o;for(var l=0;l<o.length;++l){var c=o[l],h=s[l];if(c&&h)e:for(var p=0;p<h.length;++p){for(var g=h[p],v=0;v<c.length;++v)if(c[v].marker==g.marker)continue e;c.push(g)}else h&&(o[l]=h)}return o}function xr(e,i,o){for(var s=[],l=0;l<e.length;++l){var c=e[l];if(c.ranges){s.push(o?Pt.prototype.deepCopy.call(c):c);continue}var h=c.changes,p=[];s.push({changes:p});for(var g=0;g<h.length;++g){var v=h[g],A=void 0;if(p.push({from:v.from,to:v.to,text:v.text}),i)for(var F in v)(A=F.match(/^spans_(\d+)$/))&&$e(i,Number(A[1]))>-1&&(Oe(p)[F]=v[F],delete v[F])}}return s}function ia(e,i,o,s){if(s){var l=e.anchor;if(o){var c=Le(i,l)<0;c!=Le(o,l)<0?(l=i,i=o):c!=Le(i,o)<0&&(i=o)}return new Ne(l,i)}else return new Ne(o||i,i)}function es(e,i,o,s,l){l==null&&(l=e.cm&&(e.cm.display.shift||e.extend)),mt(e,new Pt([ia(e.sel.primary(),i,o,l)],0),s)}function Lu(e,i,o){for(var s=[],l=e.cm&&(e.cm.display.shift||e.extend),c=0;c<e.sel.ranges.length;c++)s[c]=ia(e.sel.ranges[c],i[c],null,l);var h=Kt(e.cm,s,e.sel.primIndex);mt(e,h,o)}function ra(e,i,o,s){var l=e.sel.ranges.slice(0);l[i]=o,mt(e,Kt(e.cm,l,e.sel.primIndex),s)}function Fu(e,i,o,s){mt(e,Fi(i,o),s)}function Kf(e,i,o){var s={ranges:i.ranges,update:function(l){this.ranges=[];for(var c=0;c<l.length;c++)this.ranges[c]=new Ne(Fe(e,l[c].anchor),Fe(e,l[c].head))},origin:o&&o.origin};return De(e,"beforeSelectionChange",e,s),e.cm&&De(e.cm,"beforeSelectionChange",e.cm,s),s.ranges!=i.ranges?Kt(e.cm,s.ranges,s.ranges.length-1):i}function Tu(e,i,o){var s=e.history.done,l=Oe(s);l&&l.ranges?(s[s.length-1]=i,ts(e,i,o)):mt(e,i,o)}function mt(e,i,o){ts(e,i,o),qf(e,e.sel,e.cm?e.cm.curOp.id:NaN,o)}function ts(e,i,o){(Re(e,"beforeSelectionChange")||e.cm&&Re(e.cm,"beforeSelectionChange"))&&(i=Kf(e,i,o));var s=o&&o.bias||(Le(i.primary().head,e.sel.primary().head)<0?-1:1);Mu(e,Ou(e,i,s,!0)),!(o&&o.scroll===!1)&&e.cm&&e.cm.getOption("readOnly")!="nocursor"&&br(e.cm)}function Mu(e,i){i.equals(e.sel)||(e.sel=i,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,_t(e.cm)),lt(e,"cursorActivity",e))}function Bu(e){Mu(e,Ou(e,e.sel,null,!1))}function Ou(e,i,o,s){for(var l,c=0;c<i.ranges.length;c++){var h=i.ranges[c],p=i.ranges.length==e.sel.ranges.length&&e.sel.ranges[c],g=is(e,h.anchor,p&&p.anchor,o,s),v=h.head==h.anchor?g:is(e,h.head,p&&p.head,o,s);(l||g!=h.anchor||v!=h.head)&&(l||(l=i.ranges.slice(0,c)),l[c]=new Ne(g,v))}return l?Kt(e.cm,l,i.primIndex):i}function Cr(e,i,o,s,l){var c=ye(e,i.line);if(c.markedSpans)for(var h=0;h<c.markedSpans.length;++h){var p=c.markedSpans[h],g=p.marker,v="selectLeft"in g?!g.selectLeft:g.inclusiveLeft,A="selectRight"in g?!g.selectRight:g.inclusiveRight;if((p.from==null||(v?p.from<=i.ch:p.from<i.ch))&&(p.to==null||(A?p.to>=i.ch:p.to>i.ch))){if(l&&(De(g,"beforeCursorEnter"),g.explicitlyCleared))if(c.markedSpans){--h;continue}else break;if(!g.atomic)continue;if(o){var F=g.find(s<0?1:-1),z=void 0;if((s<0?A:v)&&(F=_u(e,F,-s,F&&F.line==i.line?c:null)),F&&F.line==i.line&&(z=Le(F,o))&&(s<0?z<0:z>0))return Cr(e,F,i,s,l)}var j=g.find(s<0?-1:1);return(s<0?v:A)&&(j=_u(e,j,s,j.line==i.line?c:null)),j?Cr(e,j,i,s,l):null}}return i}function is(e,i,o,s,l){var c=s||1,h=Cr(e,i,o,c,l)||!l&&Cr(e,i,o,c,!0)||Cr(e,i,o,-c,l)||!l&&Cr(e,i,o,-c,!0);return h||(e.cantEdit=!0,ee(e.first,0))}function _u(e,i,o,s){return o<0&&i.ch==0?i.line>e.first?Fe(e,ee(i.line-1)):null:o>0&&i.ch==(s||ye(e,i.line)).text.length?i.line<e.first+e.size-1?ee(i.line+1,0):null:new ee(i.line,i.ch+o)}function Pu(e){e.setSelection(ee(e.firstLine(),0),ee(e.lastLine()),Pe)}function Ru(e,i,o){var s={canceled:!1,from:i.from,to:i.to,text:i.text,origin:i.origin,cancel:function(){return s.canceled=!0}};return o&&(s.update=function(l,c,h,p){l&&(s.from=Fe(e,l)),c&&(s.to=Fe(e,c)),h&&(s.text=h),p!==void 0&&(s.origin=p)}),De(e,"beforeChange",e,s),e.cm&&De(e.cm,"beforeChange",e.cm,s),s.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:s.from,to:s.to,text:s.text,origin:s.origin}}function kr(e,i,o){if(e.cm){if(!e.cm.curOp)return ut(e.cm,kr)(e,i,o);if(e.cm.state.suppressEdits)return}if(!((Re(e,"beforeChange")||e.cm&&Re(e.cm,"beforeChange"))&&(i=Ru(e,i,!0),!i))){var s=Al&&!o&&$d(e,i.from,i.to);if(s)for(var l=s.length-1;l>=0;--l)Iu(e,{from:s[l].from,to:s[l].to,text:l?[""]:i.text,origin:i.origin});else Iu(e,i)}}function Iu(e,i){if(!(i.text.length==1&&i.text[0]==""&&Le(i.from,i.to)==0)){var o=Jo(e,i);Eu(e,i,o,e.cm?e.cm.curOp.id:NaN),nn(e,i,o,Eo(e,i));var s=[];Mi(e,function(l,c){!c&&$e(s,l.history)==-1&&(zu(l.history,i),s.push(l.history)),nn(l,i,null,Eo(l,i))})}}function rs(e,i,o){var s=e.cm&&e.cm.state.suppressEdits;if(!(s&&!o)){for(var l=e.history,c,h=e.sel,p=i=="undo"?l.done:l.undone,g=i=="undo"?l.undone:l.done,v=0;v<p.length&&(c=p[v],!(o?c.ranges&&!c.equals(e.sel):!c.ranges));v++);if(v!=p.length){for(l.lastOrigin=l.lastSelOrigin=null;;)if(c=p.pop(),c.ranges){if(Qn(c,g),o&&!c.equals(e.sel)){mt(e,c,{clearRedo:!1});return}h=c}else if(s){p.push(c);return}else break;var A=[];Qn(h,g),g.push({changes:A,generation:l.generation}),l.generation=c.generation||++l.maxGeneration;for(var F=Re(e,"beforeChange")||e.cm&&Re(e.cm,"beforeChange"),z=function(J){var ne=c.changes[J];if(ne.origin=i,F&&!Ru(e,ne,!1))return p.length=0,{};A.push(ta(e,ne));var le=J?Jo(e,ne):Oe(p);nn(e,ne,le,Au(e,ne)),!J&&e.cm&&e.cm.scrollIntoView({from:ne.from,to:Ti(ne)});var ce=[];Mi(e,function(ue,fe){!fe&&$e(ce,ue.history)==-1&&(zu(ue.history,ne),ce.push(ue.history)),nn(ue,ne,null,Au(ue,ne))})},j=c.changes.length-1;j>=0;--j){var K=z(j);if(K)return K.v}}}}function Nu(e,i){if(i!=0&&(e.first+=i,e.sel=new Pt(Wt(e.sel.ranges,function(l){return new Ne(ee(l.anchor.line+i,l.anchor.ch),ee(l.head.line+i,l.head.ch))}),e.sel.primIndex),e.cm)){kt(e.cm,e.first,e.first-i,i);for(var o=e.cm.display,s=o.viewFrom;s<o.viewTo;s++)Ai(e.cm,s,"gutter")}}function nn(e,i,o,s){if(e.cm&&!e.cm.curOp)return ut(e.cm,nn)(e,i,o,s);if(i.to.line<e.first){Nu(e,i.text.length-1-(i.to.line-i.from.line));return}if(!(i.from.line>e.lastLine())){if(i.from.line<e.first){var l=i.text.length-1-(e.first-i.from.line);Nu(e,l),i={from:ee(e.first,0),to:ee(i.to.line+l,i.to.ch),text:[Oe(i.text)],origin:i.origin}}var c=e.lastLine();i.to.line>c&&(i={from:i.from,to:ee(c,ye(e,c).text.length),text:[i.text[0]],origin:i.origin}),i.removed=qi(e,i.from,i.to),o||(o=Jo(e,i)),e.cm?Gf(e.cm,i,s):ea(e,i,s),ts(e,o,Pe),e.cantEdit&&is(e,ee(e.firstLine(),0))&&(e.cantEdit=!1)}}function Gf(e,i,o){var s=e.doc,l=e.display,c=i.from,h=i.to,p=!1,g=c.line;e.options.lineWrapping||(g=ze(Ut(ye(s,c.line))),s.iter(g,h.line+1,function(j){if(j==l.maxLine)return p=!0,!0})),s.sel.contains(i.from,i.to)>-1&&_t(e),ea(s,i,o,ru(e)),e.options.lineWrapping||(s.iter(g,c.line+i.text.length,function(j){var K=Hn(j);K>l.maxLineLength&&(l.maxLine=j,l.maxLineLength=K,l.maxLineChanged=!0,p=!1)}),p&&(e.curOp.updateMaxLine=!0)),Rd(s,c.line),en(e,400);var v=i.text.length-(h.line-c.line)-1;i.full?kt(e):c.line==h.line&&i.text.length==1&&!xu(e.doc,i)?Ai(e,c.line,"text"):kt(e,c.line,h.line+1,v);var A=Re(e,"changes"),F=Re(e,"change");if(F||A){var z={from:c,to:h,text:i.text,removed:i.removed,origin:i.origin};F&&lt(e,"change",e,z),A&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(z)}e.display.selForContextMenu=null}function Sr(e,i,o,s,l){var c;s||(s=o),Le(s,o)<0&&(c=[s,o],o=c[0],s=c[1]),typeof i=="string"&&(i=e.splitLines(i)),kr(e,{from:o,to:s,text:i,origin:l})}function ju(e,i,o,s){o<e.line?e.line+=s:i<e.line&&(e.line=i,e.ch=0)}function Hu(e,i,o,s){for(var l=0;l<e.length;++l){var c=e[l],h=!0;if(c.ranges){c.copied||(c=e[l]=c.deepCopy(),c.copied=!0);for(var p=0;p<c.ranges.length;p++)ju(c.ranges[p].anchor,i,o,s),ju(c.ranges[p].head,i,o,s);continue}for(var g=0;g<c.changes.length;++g){var v=c.changes[g];if(o<v.from.line)v.from=ee(v.from.line+s,v.from.ch),v.to=ee(v.to.line+s,v.to.ch);else if(i<=v.to.line){h=!1;break}}h||(e.splice(0,l+1),l=0)}}function zu(e,i){var o=i.from.line,s=i.to.line,l=i.text.length-(s-o)-1;Hu(e.done,o,s,l),Hu(e.undone,o,s,l)}function sn(e,i,o,s){var l=i,c=i;return typeof i=="number"?c=ye(e,yl(e,i)):l=ze(i),l==null?null:(s(c,l)&&e.cm&&Ai(e.cm,l,o),c)}function on(e){this.lines=e,this.parent=null;for(var i=0,o=0;o<e.length;++o)e[o].parent=this,i+=e[o].height;this.height=i}on.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,i){for(var o=e,s=e+i;o<s;++o){var l=this.lines[o];this.height-=l.height,Gd(l),lt(l,"delete")}this.lines.splice(e,i)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,i,o){this.height+=o,this.lines=this.lines.slice(0,e).concat(i).concat(this.lines.slice(e));for(var s=0;s<i.length;++s)i[s].parent=this},iterN:function(e,i,o){for(var s=e+i;e<s;++e)if(o(this.lines[e]))return!0}};function an(e){this.children=e;for(var i=0,o=0,s=0;s<e.length;++s){var l=e[s];i+=l.chunkSize(),o+=l.height,l.parent=this}this.size=i,this.height=o,this.parent=null}an.prototype={chunkSize:function(){return this.size},removeInner:function(e,i){this.size-=i;for(var o=0;o<this.children.length;++o){var s=this.children[o],l=s.chunkSize();if(e<l){var c=Math.min(i,l-e),h=s.height;if(s.removeInner(e,c),this.height-=h-s.height,l==c&&(this.children.splice(o--,1),s.parent=null),(i-=c)==0)break;e=0}else e-=l}if(this.size-i<25&&(this.children.length>1||!(this.children[0]instanceof on))){var p=[];this.collapse(p),this.children=[new on(p)],this.children[0].parent=this}},collapse:function(e){for(var i=0;i<this.children.length;++i)this.children[i].collapse(e)},insertInner:function(e,i,o){this.size+=i.length,this.height+=o;for(var s=0;s<this.children.length;++s){var l=this.children[s],c=l.chunkSize();if(e<=c){if(l.insertInner(e,i,o),l.lines&&l.lines.length>50){for(var h=l.lines.length%25+25,p=h;p<l.lines.length;){var g=new on(l.lines.slice(p,p+=25));l.height-=g.height,this.children.splice(++s,0,g),g.parent=this}l.lines=l.lines.slice(0,h),this.maybeSpill()}break}e-=c}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var i=e.children.splice(e.children.length-5,5),o=new an(i);if(e.parent){e.size-=o.size,e.height-=o.height;var l=$e(e.parent.children,e);e.parent.children.splice(l+1,0,o)}else{var s=new an(e.children);s.parent=e,e.children=[s,o],e=s}o.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,i,o){for(var s=0;s<this.children.length;++s){var l=this.children[s],c=l.chunkSize();if(e<c){var h=Math.min(i,c-e);if(l.iterN(e,h,o))return!0;if((i-=h)==0)break;e=0}else e-=c}}};var ln=function(e,i,o){if(o)for(var s in o)o.hasOwnProperty(s)&&(this[s]=o[s]);this.doc=e,this.node=i};ln.prototype.clear=function(){var e=this.doc.cm,i=this.line.widgets,o=this.line,s=ze(o);if(!(s==null||!i)){for(var l=0;l<i.length;++l)i[l]==this&&i.splice(l--,1);i.length||(o.widgets=null);var c=Kr(this);Qt(o,Math.max(0,o.height-c)),e&&(Tt(e,function(){Wu(e,o,-c),Ai(e,s,"widget")}),lt(e,"lineWidgetCleared",e,this,s))}},ln.prototype.changed=function(){var e=this,i=this.height,o=this.doc.cm,s=this.line;this.height=null;var l=Kr(this)-i;l&&(Di(this.doc,s)||Qt(s,s.height+l),o&&Tt(o,function(){o.curOp.forceUpdate=!0,Wu(o,s,l),lt(o,"lineWidgetChanged",o,e,ze(s))}))},Ge(ln);function Wu(e,i,o){ui(i)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Vo(e,o)}function Xf(e,i,o,s){var l=new ln(e,o,s),c=e.cm;return c&&l.noHScroll&&(c.display.alignWidgets=!0),sn(e,i,"widget",function(h){var p=h.widgets||(h.widgets=[]);if(l.insertAt==null?p.push(l):p.splice(Math.min(p.length,Math.max(0,l.insertAt)),0,l),l.line=h,c&&!Di(e,h)){var g=ui(h)<e.scrollTop;Qt(h,h.height+Kr(l)),g&&Vo(c,l.height),c.curOp.forceUpdate=!0}return!0}),c&&lt(c,"lineWidgetAdded",c,l,typeof i=="number"?i:ze(i)),l}var $u=0,Bi=function(e,i){this.lines=[],this.type=i,this.doc=e,this.id=++$u};Bi.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,i=e&&!e.curOp;if(i&&Ji(e),Re(this,"clear")){var o=this.find();o&&lt(this,"clear",o.from,o.to)}for(var s=null,l=null,c=0;c<this.lines.length;++c){var h=this.lines[c],p=qr(h.markedSpans,this);e&&!this.collapsed?Ai(e,ze(h),"text"):e&&(p.to!=null&&(l=ze(h)),p.from!=null&&(s=ze(h))),h.markedSpans=jd(h.markedSpans,p),p.from==null&&this.collapsed&&!Di(this.doc,h)&&e&&Qt(h,mr(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var g=0;g<this.lines.length;++g){var v=Ut(this.lines[g]),A=Hn(v);A>e.display.maxLineLength&&(e.display.maxLine=v,e.display.maxLineLength=A,e.display.maxLineChanged=!0)}s!=null&&e&&this.collapsed&&kt(e,s,l+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Bu(e.doc)),e&&lt(e,"markerCleared",e,this,s,l),i&&Qi(e),this.parent&&this.parent.clear()}},Bi.prototype.find=function(e,i){e==null&&this.type=="bookmark"&&(e=1);for(var o,s,l=0;l<this.lines.length;++l){var c=this.lines[l],h=qr(c.markedSpans,this);if(h.from!=null&&(o=ee(i?c:ze(c),h.from),e==-1))return o;if(h.to!=null&&(s=ee(i?c:ze(c),h.to),e==1))return s}return o&&{from:o,to:s}},Bi.prototype.changed=function(){var e=this,i=this.find(-1,!0),o=this,s=this.doc.cm;!i||!s||Tt(s,function(){var l=i.line,c=ze(i.line),h=Oo(s,c);if(h&&(Xl(h),s.curOp.selectionChanged=s.curOp.forceUpdate=!0),s.curOp.updateMaxLine=!0,!Di(o.doc,l)&&o.height!=null){var p=o.height;o.height=null;var g=Kr(o)-p;g&&Qt(l,l.height+g)}lt(s,"markerChanged",s,e)})},Bi.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var i=this.doc.cm.curOp;(!i.maybeHiddenMarkers||$e(i.maybeHiddenMarkers,this)==-1)&&(i.maybeUnhiddenMarkers||(i.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},Bi.prototype.detachLine=function(e){if(this.lines.splice($e(this.lines,e),1),!this.lines.length&&this.doc.cm){var i=this.doc.cm.curOp;(i.maybeHiddenMarkers||(i.maybeHiddenMarkers=[])).push(this)}},Ge(Bi);function Er(e,i,o,s,l){if(s&&s.shared)return Yf(e,i,o,s,l);if(e.cm&&!e.cm.curOp)return ut(e.cm,Er)(e,i,o,s,l);var c=new Bi(e,l),h=Le(i,o);if(s&&Ae(s,c,!1),h>0||h==0&&c.clearWhenEmpty!==!1)return c;if(c.replacedWith&&(c.collapsed=!0,c.widgetNode=ie("span",[c.replacedWith],"CodeMirror-widget"),s.handleMouseEvents||c.widgetNode.setAttribute("cm-ignore-events","true"),s.insertLeft&&(c.widgetNode.insertLeft=!0)),c.collapsed){if(Ol(e,i.line,i,o,c)||i.line!=o.line&&Ol(e,o.line,i,o,c))throw new Error("Inserting collapsed marker partially overlapping an existing one");Nd()}c.addToHistory&&Eu(e,{from:i,to:o,origin:"markText"},e.sel,NaN);var p=i.line,g=e.cm,v;if(e.iter(p,o.line+1,function(F){g&&c.collapsed&&!g.options.lineWrapping&&Ut(F)==g.display.maxLine&&(v=!0),c.collapsed&&p!=i.line&&Qt(F,0),Hd(F,new Rn(c,p==i.line?i.ch:null,p==o.line?o.ch:null),e.cm&&e.cm.curOp),++p}),c.collapsed&&e.iter(i.line,o.line+1,function(F){Di(e,F)&&Qt(F,0)}),c.clearOnEnter&&Z(c,"beforeCursorEnter",function(){return c.clear()}),c.readOnly&&(Id(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),c.collapsed&&(c.id=++$u,c.atomic=!0),g){if(v&&(g.curOp.updateMaxLine=!0),c.collapsed)kt(g,i.line,o.line+1);else if(c.className||c.startStyle||c.endStyle||c.css||c.attributes||c.title)for(var A=i.line;A<=o.line;A++)Ai(g,A,"text");c.atomic&&Bu(g.doc),lt(g,"markerAdded",g,c)}return c}var un=function(e,i){this.markers=e,this.primary=i;for(var o=0;o<e.length;++o)e[o].parent=this};un.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();lt(this,"clear")}},un.prototype.find=function(e,i){return this.primary.find(e,i)},Ge(un);function Yf(e,i,o,s,l){s=Ae(s),s.shared=!1;var c=[Er(e,i,o,s,l)],h=c[0],p=s.widgetNode;return Mi(e,function(g){p&&(s.widgetNode=p.cloneNode(!0)),c.push(Er(g,Fe(g,i),Fe(g,o),s,l));for(var v=0;v<g.linked.length;++v)if(g.linked[v].isParent)return;h=Oe(c)}),new un(c,h)}function qu(e){return e.findMarks(ee(e.first,0),e.clipPos(ee(e.lastLine())),function(i){return i.parent})}function Zf(e,i){for(var o=0;o<i.length;o++){var s=i[o],l=s.find(),c=e.clipPos(l.from),h=e.clipPos(l.to);if(Le(c,h)){var p=Er(e,c,h,s.primary,s.primary.type);s.markers.push(p),p.parent=s}}}function Jf(e){for(var i=function(s){var l=e[s],c=[l.primary.doc];Mi(l.primary.doc,function(g){return c.push(g)});for(var h=0;h<l.markers.length;h++){var p=l.markers[h];$e(c,p.doc)==-1&&(p.parent=null,l.markers.splice(h--,1))}},o=0;o<e.length;o++)i(o)}var Qf=0,St=function(e,i,o,s,l){if(!(this instanceof St))return new St(e,i,o,s,l);o==null&&(o=0),an.call(this,[new on([new fr("",null)])]),this.first=o,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=o;var c=ee(o,0);this.sel=Fi(c),this.history=new Jn(null),this.id=++Qf,this.modeOption=i,this.lineSep=s,this.direction=l=="rtl"?"rtl":"ltr",this.extend=!1,typeof e=="string"&&(e=this.splitLines(e)),ea(this,{from:c,to:c,text:e}),mt(this,Fi(c),Pe)};St.prototype=qt(an.prototype,{constructor:St,iter:function(e,i,o){o?this.iterN(e-this.first,i-e,o):this.iterN(this.first,this.first+this.size,e)},insert:function(e,i){for(var o=0,s=0;s<i.length;++s)o+=i[s].height;this.insertInner(e-this.first,i,o)},remove:function(e,i){this.removeInner(e-this.first,i)},getValue:function(e){var i=bo(this,this.first,this.first+this.size);return e===!1?i:i.join(e||this.lineSeparator())},setValue:ct(function(e){var i=ee(this.first,0),o=this.first+this.size-1;kr(this,{from:i,to:ee(o,ye(this,o).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&Yr(this.cm,0,0),mt(this,Fi(i),Pe)}),replaceRange:function(e,i,o,s){i=Fe(this,i),o=o?Fe(this,o):i,Sr(this,e,i,o,s)},getRange:function(e,i,o){var s=qi(this,Fe(this,e),Fe(this,i));return o===!1?s:o===""?s.join(""):s.join(o||this.lineSeparator())},getLine:function(e){var i=this.getLineHandle(e);return i&&i.text},getLineHandle:function(e){if(Wr(this,e))return ye(this,e)},getLineNumber:function(e){return ze(e)},getLineHandleVisualStart:function(e){return typeof e=="number"&&(e=ye(this,e)),Ut(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return Fe(this,e)},getCursor:function(e){var i=this.sel.primary(),o;return e==null||e=="head"?o=i.head:e=="anchor"?o=i.anchor:e=="end"||e=="to"||e===!1?o=i.to():o=i.from(),o},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:ct(function(e,i,o){Fu(this,Fe(this,typeof e=="number"?ee(e,i||0):e),null,o)}),setSelection:ct(function(e,i,o){Fu(this,Fe(this,e),Fe(this,i||e),o)}),extendSelection:ct(function(e,i,o){es(this,Fe(this,e),i&&Fe(this,i),o)}),extendSelections:ct(function(e,i){Lu(this,bl(this,e),i)}),extendSelectionsBy:ct(function(e,i){var o=Wt(this.sel.ranges,e);Lu(this,bl(this,o),i)}),setSelections:ct(function(e,i,o){if(e.length){for(var s=[],l=0;l<e.length;l++)s[l]=new Ne(Fe(this,e[l].anchor),Fe(this,e[l].head||e[l].anchor));i==null&&(i=Math.min(e.length-1,this.sel.primIndex)),mt(this,Kt(this.cm,s,i),o)}}),addSelection:ct(function(e,i,o){var s=this.sel.ranges.slice(0);s.push(new Ne(Fe(this,e),Fe(this,i||e))),mt(this,Kt(this.cm,s,s.length-1),o)}),getSelection:function(e){for(var i=this.sel.ranges,o,s=0;s<i.length;s++){var l=qi(this,i[s].from(),i[s].to());o=o?o.concat(l):l}return e===!1?o:o.join(e||this.lineSeparator())},getSelections:function(e){for(var i=[],o=this.sel.ranges,s=0;s<o.length;s++){var l=qi(this,o[s].from(),o[s].to());e!==!1&&(l=l.join(e||this.lineSeparator())),i[s]=l}return i},replaceSelection:function(e,i,o){for(var s=[],l=0;l<this.sel.ranges.length;l++)s[l]=e;this.replaceSelections(s,i,o||"+input")},replaceSelections:ct(function(e,i,o){for(var s=[],l=this.sel,c=0;c<l.ranges.length;c++){var h=l.ranges[c];s[c]={from:h.from(),to:h.to(),text:this.splitLines(e[c]),origin:o}}for(var p=i&&i!="end"&&Hf(this,s,i),g=s.length-1;g>=0;g--)kr(this,s[g]);p?Tu(this,p):this.cm&&br(this.cm)}),undo:ct(function(){rs(this,"undo")}),redo:ct(function(){rs(this,"redo")}),undoSelection:ct(function(){rs(this,"undo",!0)}),redoSelection:ct(function(){rs(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,i=0,o=0,s=0;s<e.done.length;s++)e.done[s].ranges||++i;for(var l=0;l<e.undone.length;l++)e.undone[l].ranges||++o;return{undo:i,redo:o}},clearHistory:function(){var e=this;this.history=new Jn(this.history),Mi(this,function(i){return i.history=e.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:xr(this.history.done),undone:xr(this.history.undone)}},setHistory:function(e){var i=this.history=new Jn(this.history);i.done=xr(e.done.slice(0),null,!0),i.undone=xr(e.undone.slice(0),null,!0)},setGutterMarker:ct(function(e,i,o){return sn(this,e,"gutter",function(s){var l=s.gutterMarkers||(s.gutterMarkers={});return l[i]=o,!o&&H(l)&&(s.gutterMarkers=null),!0})}),clearGutter:ct(function(e){var i=this;this.iter(function(o){o.gutterMarkers&&o.gutterMarkers[e]&&sn(i,o,"gutter",function(){return o.gutterMarkers[e]=null,H(o.gutterMarkers)&&(o.gutterMarkers=null),!0})})}),lineInfo:function(e){var i;if(typeof e=="number"){if(!Wr(this,e)||(i=e,e=ye(this,e),!e))return null}else if(i=ze(e),i==null)return null;return{line:i,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:ct(function(e,i,o){return sn(this,e,i=="gutter"?"gutter":"class",function(s){var l=i=="text"?"textClass":i=="background"?"bgClass":i=="gutter"?"gutterClass":"wrapClass";if(!s[l])s[l]=o;else{if(se(o).test(s[l]))return!1;s[l]+=" "+o}return!0})}),removeLineClass:ct(function(e,i,o){return sn(this,e,i=="gutter"?"gutter":"class",function(s){var l=i=="text"?"textClass":i=="background"?"bgClass":i=="gutter"?"gutterClass":"wrapClass",c=s[l];if(c)if(o==null)s[l]=null;else{var h=c.match(se(o));if(!h)return!1;var p=h.index+h[0].length;s[l]=c.slice(0,h.index)+(!h.index||p==c.length?"":" ")+c.slice(p)||null}else return!1;return!0})}),addLineWidget:ct(function(e,i,o){return Xf(this,e,i,o)}),removeLineWidget:function(e){e.clear()},markText:function(e,i,o){return Er(this,Fe(this,e),Fe(this,i),o,o&&o.type||"range")},setBookmark:function(e,i){var o={replacedWith:i&&(i.nodeType==null?i.widget:i),insertLeft:i&&i.insertLeft,clearWhenEmpty:!1,shared:i&&i.shared,handleMouseEvents:i&&i.handleMouseEvents};return e=Fe(this,e),Er(this,e,e,o,"bookmark")},findMarksAt:function(e){e=Fe(this,e);var i=[],o=ye(this,e.line).markedSpans;if(o)for(var s=0;s<o.length;++s){var l=o[s];(l.from==null||l.from<=e.ch)&&(l.to==null||l.to>=e.ch)&&i.push(l.marker.parent||l.marker)}return i},findMarks:function(e,i,o){e=Fe(this,e),i=Fe(this,i);var s=[],l=e.line;return this.iter(e.line,i.line+1,function(c){var h=c.markedSpans;if(h)for(var p=0;p<h.length;p++){var g=h[p];!(g.to!=null&&l==e.line&&e.ch>=g.to||g.from==null&&l!=e.line||g.from!=null&&l==i.line&&g.from>=i.ch)&&(!o||o(g.marker))&&s.push(g.marker.parent||g.marker)}++l}),s},getAllMarks:function(){var e=[];return this.iter(function(i){var o=i.markedSpans;if(o)for(var s=0;s<o.length;++s)o[s].from!=null&&e.push(o[s].marker)}),e},posFromIndex:function(e){var i,o=this.first,s=this.lineSeparator().length;return this.iter(function(l){var c=l.text.length+s;if(c>e)return i=e,!0;e-=c,++o}),Fe(this,ee(o,i))},indexFromPos:function(e){e=Fe(this,e);var i=e.ch;if(e.line<this.first||e.ch<0)return 0;var o=this.lineSeparator().length;return this.iter(this.first,e.line,function(s){i+=s.text.length+o}),i},copy:function(e){var i=new St(bo(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return i.scrollTop=this.scrollTop,i.scrollLeft=this.scrollLeft,i.sel=this.sel,i.extend=!1,e&&(i.history.undoDepth=this.history.undoDepth,i.setHistory(this.getHistory())),i},linkedDoc:function(e){e||(e={});var i=this.first,o=this.first+this.size;e.from!=null&&e.from>i&&(i=e.from),e.to!=null&&e.to<o&&(o=e.to);var s=new St(bo(this,i,o),e.mode||this.modeOption,i,this.lineSep,this.direction);return e.sharedHist&&(s.history=this.history),(this.linked||(this.linked=[])).push({doc:s,sharedHist:e.sharedHist}),s.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Zf(s,qu(this)),s},unlinkDoc:function(e){if(e instanceof Ve&&(e=e.doc),this.linked)for(var i=0;i<this.linked.length;++i){var o=this.linked[i];if(o.doc==e){this.linked.splice(i,1),e.unlinkDoc(this),Jf(qu(this));break}}if(e.history==this.history){var s=[e.id];Mi(e,function(l){return s.push(l.id)},!0),e.history=new Jn(null),e.history.done=xr(this.history.done,s),e.history.undone=xr(this.history.undone,s)}},iterLinkedDocs:function(e){Mi(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):po(e)},lineSeparator:function(){return this.lineSep||`
`},setDirection:ct(function(e){e!="rtl"&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(i){return i.order=null}),this.cm&&zf(this.cm))})}),St.prototype.eachLine=St.prototype.iter;var Uu=0;function ep(e){var i=this;if(Vu(i),!(_e(i,e)||ci(i.display,e))){tt(e),y&&(Uu=+new Date);var o=Gi(i,e,!0),s=e.dataTransfer.files;if(!(!o||i.isReadOnly()))if(s&&s.length&&window.FileReader&&window.File)for(var l=s.length,c=Array(l),h=0,p=function(){++h==l&&ut(i,function(){o=Fe(i.doc,o);var j={from:o,to:o,text:i.doc.splitLines(c.filter(function(K){return K!=null}).join(i.doc.lineSeparator())),origin:"paste"};kr(i.doc,j),Tu(i.doc,Fi(Fe(i.doc,o),Fe(i.doc,Ti(j))))})()},g=function(j,K){if(i.options.allowDropFileTypes&&$e(i.options.allowDropFileTypes,j.type)==-1){p();return}var J=new FileReader;J.onerror=function(){return p()},J.onload=function(){var ne=J.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(ne)){p();return}c[K]=ne,p()},J.readAsText(j)},v=0;v<s.length;v++)g(s[v],v);else{if(i.state.draggingText&&i.doc.sel.contains(o)>-1){i.state.draggingText(e),setTimeout(function(){return i.display.input.focus()},20);return}try{var A=e.dataTransfer.getData("Text");if(A){var F;if(i.state.draggingText&&!i.state.draggingText.copy&&(F=i.listSelections()),ts(i.doc,Fi(o,o)),F)for(var z=0;z<F.length;++z)Sr(i.doc,"",F[z].anchor,F[z].head,"drag");i.replaceSelection(A,"around","paste"),i.display.input.focus()}}catch{}}}}function tp(e,i){if(y&&(!e.state.draggingText||+new Date-Uu<100)){Ht(i);return}if(!(_e(e,i)||ci(e.display,i))&&(i.dataTransfer.setData("Text",e.getSelection()),i.dataTransfer.effectAllowed="copyMove",i.dataTransfer.setDragImage&&!X)){var o=N("img",null,null,"position: fixed; left: 0; top: 0;");o.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",U&&(o.width=o.height=1,e.display.wrapper.appendChild(o),o._top=o.offsetTop),i.dataTransfer.setDragImage(o,0,0),U&&o.parentNode.removeChild(o)}}function ip(e,i){var o=Gi(e,i);if(o){var s=document.createDocumentFragment();zo(e,o,s),e.display.dragCursor||(e.display.dragCursor=N("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),ve(e.display.dragCursor,s)}}function Vu(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Ku(e){if(document.getElementsByClassName){for(var i=document.getElementsByClassName("CodeMirror"),o=[],s=0;s<i.length;s++){var l=i[s].CodeMirror;l&&o.push(l)}o.length&&o[0].operation(function(){for(var c=0;c<o.length;c++)e(o[c])})}}var Gu=!1;function rp(){Gu||(np(),Gu=!0)}function np(){var e;Z(window,"resize",function(){e==null&&(e=setTimeout(function(){e=null,Ku(sp)},100))}),Z(window,"blur",function(){return Ku(yr)})}function sp(e){var i=e.display;i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.scrollbarsClipped=!1,e.setSize()}for(var Oi={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},cn=0;cn<10;cn++)Oi[cn+48]=Oi[cn+96]=String(cn);for(var ns=65;ns<=90;ns++)Oi[ns]=String.fromCharCode(ns);for(var hn=1;hn<=12;hn++)Oi[hn+111]=Oi[hn+63235]="F"+hn;var di={};di.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},di.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},di.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},di.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},di.default=S?di.macDefault:di.pcDefault;function op(e){var i=e.split(/-(?!$)/);e=i[i.length-1];for(var o,s,l,c,h=0;h<i.length-1;h++){var p=i[h];if(/^(cmd|meta|m)$/i.test(p))c=!0;else if(/^a(lt)?$/i.test(p))o=!0;else if(/^(c|ctrl|control)$/i.test(p))s=!0;else if(/^s(hift)?$/i.test(p))l=!0;else throw new Error("Unrecognized modifier name: "+p)}return o&&(e="Alt-"+e),s&&(e="Ctrl-"+e),c&&(e="Cmd-"+e),l&&(e="Shift-"+e),e}function ap(e){var i={};for(var o in e)if(e.hasOwnProperty(o)){var s=e[o];if(/^(name|fallthrough|(de|at)tach)$/.test(o))continue;if(s=="..."){delete e[o];continue}for(var l=Wt(o.split(" "),op),c=0;c<l.length;c++){var h=void 0,p=void 0;c==l.length-1?(p=l.join(" "),h=s):(p=l.slice(0,c+1).join(" "),h="...");var g=i[p];if(!g)i[p]=h;else if(g!=h)throw new Error("Inconsistent bindings for "+p)}delete e[o]}for(var v in i)e[v]=i[v];return e}function Dr(e,i,o,s){i=ss(i);var l=i.call?i.call(e,s):i[e];if(l===!1)return"nothing";if(l==="...")return"multi";if(l!=null&&o(l))return"handled";if(i.fallthrough){if(Object.prototype.toString.call(i.fallthrough)!="[object Array]")return Dr(e,i.fallthrough,o,s);for(var c=0;c<i.fallthrough.length;c++){var h=Dr(e,i.fallthrough[c],o,s);if(h)return h}}}function Xu(e){var i=typeof e=="string"?e:Oi[e.keyCode];return i=="Ctrl"||i=="Alt"||i=="Shift"||i=="Mod"}function Yu(e,i,o){var s=e;return i.altKey&&s!="Alt"&&(e="Alt-"+e),(oe?i.metaKey:i.ctrlKey)&&s!="Ctrl"&&(e="Ctrl-"+e),(oe?i.ctrlKey:i.metaKey)&&s!="Mod"&&(e="Cmd-"+e),!o&&i.shiftKey&&s!="Shift"&&(e="Shift-"+e),e}function Zu(e,i){if(U&&e.keyCode==34&&e.char)return!1;var o=Oi[e.keyCode];return o==null||e.altGraphKey?!1:(e.keyCode==3&&e.code&&(o=e.code),Yu(o,e,i))}function ss(e){return typeof e=="string"?di[e]:e}function Ar(e,i){for(var o=e.doc.sel.ranges,s=[],l=0;l<o.length;l++){for(var c=i(o[l]);s.length&&Le(c.from,Oe(s).to)<=0;){var h=s.pop();if(Le(h.from,c.from)<0){c.from=h.from;break}}s.push(c)}Tt(e,function(){for(var p=s.length-1;p>=0;p--)Sr(e.doc,"",s[p].from,s[p].to,"+delete");br(e)})}function na(e,i,o){var s=R(e.text,i+o,o);return s<0||s>e.text.length?null:s}function sa(e,i,o){var s=na(e,i.ch,o);return s==null?null:new ee(i.line,s,o<0?"after":"before")}function oa(e,i,o,s,l){if(e){i.doc.direction=="rtl"&&(l=-l);var c=ge(o,i.doc.direction);if(c){var h=l<0?Oe(c):c[0],p=l<0==(h.level==1),g=p?"after":"before",v;if(h.level>0||i.doc.direction=="rtl"){var A=gr(i,o);v=l<0?o.text.length-1:0;var F=ii(i,A,v).top;v=T(function(z){return ii(i,A,z).top==F},l<0==(h.level==1)?h.from:h.to-1,v),g=="before"&&(v=na(o,v,1))}else v=l<0?h.to:h.from;return new ee(s,v,g)}}return new ee(s,l<0?o.text.length:0,l<0?"before":"after")}function lp(e,i,o,s){var l=ge(i,e.doc.direction);if(!l)return sa(i,o,s);o.ch>=i.text.length?(o.ch=i.text.length,o.sticky="before"):o.ch<=0&&(o.ch=0,o.sticky="after");var c=he(l,o.ch,o.sticky),h=l[c];if(e.doc.direction=="ltr"&&h.level%2==0&&(s>0?h.to>o.ch:h.from<o.ch))return sa(i,o,s);var p=function(le,ce){return na(i,le instanceof ee?le.ch:le,ce)},g,v=function(le){return e.options.lineWrapping?(g=g||gr(e,i),iu(e,i,g,le)):{begin:0,end:i.text.length}},A=v(o.sticky=="before"?p(o,-1):o.ch);if(e.doc.direction=="rtl"||h.level==1){var F=h.level==1==s<0,z=p(o,F?1:-1);if(z!=null&&(F?z<=h.to&&z<=A.end:z>=h.from&&z>=A.begin)){var j=F?"before":"after";return new ee(o.line,z,j)}}var K=function(le,ce,ue){for(var fe=function(qe,ht){return ht?new ee(o.line,p(qe,1),"before"):new ee(o.line,qe,"after")};le>=0&&le<l.length;le+=ce){var xe=l[le],be=ce>0==(xe.level!=1),Te=be?ue.begin:p(ue.end,-1);if(xe.from<=Te&&Te<xe.to||(Te=be?xe.from:p(xe.to,-1),ue.begin<=Te&&Te<ue.end))return fe(Te,be)}},J=K(c+s,s,A);if(J)return J;var ne=s>0?A.end:p(A.begin,-1);return ne!=null&&!(s>0&&ne==i.text.length)&&(J=K(s>0?0:l.length-1,s,v(ne)),J)?J:null}var dn={selectAll:Pu,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Pe)},killLine:function(e){return Ar(e,function(i){if(i.empty()){var o=ye(e.doc,i.head.line).text.length;return i.head.ch==o&&i.head.line<e.lastLine()?{from:i.head,to:ee(i.head.line+1,0)}:{from:i.head,to:ee(i.head.line,o)}}else return{from:i.from(),to:i.to()}})},deleteLine:function(e){return Ar(e,function(i){return{from:ee(i.from().line,0),to:Fe(e.doc,ee(i.to().line+1,0))}})},delLineLeft:function(e){return Ar(e,function(i){return{from:ee(i.from().line,0),to:i.from()}})},delWrappedLineLeft:function(e){return Ar(e,function(i){var o=e.charCoords(i.head,"div").top+5,s=e.coordsChar({left:0,top:o},"div");return{from:s,to:i.from()}})},delWrappedLineRight:function(e){return Ar(e,function(i){var o=e.charCoords(i.head,"div").top+5,s=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:o},"div");return{from:i.from(),to:s}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(ee(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(ee(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(i){return Ju(e,i.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(i){return Qu(e,i.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(i){return up(e,i.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(i){var o=e.cursorCoords(i.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:o},"div")},Ot)},goLineLeft:function(e){return e.extendSelectionsBy(function(i){var o=e.cursorCoords(i.head,"div").top+5;return e.coordsChar({left:0,top:o},"div")},Ot)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(i){var o=e.cursorCoords(i.head,"div").top+5,s=e.coordsChar({left:0,top:o},"div");return s.ch<e.getLine(s.line).search(/\S/)?Qu(e,i.head):s},Ot)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"codepoint")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("	")},insertSoftTab:function(e){for(var i=[],o=e.listSelections(),s=e.options.tabSize,l=0;l<o.length;l++){var c=o[l].from(),h=je(e.getLine(c.line),c.ch,s);i.push(Nt(s-h%s))}e.replaceSelections(i)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return Tt(e,function(){for(var i=e.listSelections(),o=[],s=0;s<i.length;s++)if(i[s].empty()){var l=i[s].head,c=ye(e.doc,l.line).text;if(c){if(l.ch==c.length&&(l=new ee(l.line,l.ch-1)),l.ch>0)l=new ee(l.line,l.ch+1),e.replaceRange(c.charAt(l.ch-1)+c.charAt(l.ch-2),ee(l.line,l.ch-2),l,"+transpose");else if(l.line>e.doc.first){var h=ye(e.doc,l.line-1).text;h&&(l=new ee(l.line,1),e.replaceRange(c.charAt(0)+e.doc.lineSeparator()+h.charAt(h.length-1),ee(l.line-1,h.length-1),l,"+transpose"))}}o.push(new Ne(l,l))}e.setSelections(o)})},newlineAndIndent:function(e){return Tt(e,function(){for(var i=e.listSelections(),o=i.length-1;o>=0;o--)e.replaceRange(e.doc.lineSeparator(),i[o].anchor,i[o].head,"+input");i=e.listSelections();for(var s=0;s<i.length;s++)e.indentLine(i[s].from().line,null,!0);br(e)})},openLine:function(e){return e.replaceSelection(`
`,"start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function Ju(e,i){var o=ye(e.doc,i),s=Ut(o);return s!=o&&(i=ze(s)),oa(!0,e,s,i,1)}function up(e,i){var o=ye(e.doc,i),s=Ud(o);return s!=o&&(i=ze(s)),oa(!0,e,o,i,-1)}function Qu(e,i){var o=Ju(e,i.line),s=ye(e.doc,o.line),l=ge(s,e.doc.direction);if(!l||l[0].level==0){var c=Math.max(o.ch,s.text.search(/\S/)),h=i.line==o.line&&i.ch<=c&&i.ch;return ee(o.line,h?0:c,o.sticky)}return o}function os(e,i,o){if(typeof i=="string"&&(i=dn[i],!i))return!1;e.display.input.ensurePolled();var s=e.display.shift,l=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),o&&(e.display.shift=!1),l=i(e)!=at}finally{e.display.shift=s,e.state.suppressEdits=!1}return l}function cp(e,i,o){for(var s=0;s<e.state.keyMaps.length;s++){var l=Dr(i,e.state.keyMaps[s],o,e);if(l)return l}return e.options.extraKeys&&Dr(i,e.options.extraKeys,o,e)||Dr(i,e.options.keyMap,o,e)}var hp=new ot;function fn(e,i,o,s){var l=e.state.keySeq;if(l){if(Xu(i))return"handled";if(/\'$/.test(i)?e.state.keySeq=null:hp.set(50,function(){e.state.keySeq==l&&(e.state.keySeq=null,e.display.input.reset())}),ec(e,l+" "+i,o,s))return!0}return ec(e,i,o,s)}function ec(e,i,o,s){var l=cp(e,i,s);return l=="multi"&&(e.state.keySeq=i),l=="handled"&&lt(e,"keyHandled",e,i,o),(l=="handled"||l=="multi")&&(tt(o),Wo(e)),!!l}function tc(e,i){var o=Zu(i,!0);return o?i.shiftKey&&!e.state.keySeq?fn(e,"Shift-"+o,i,function(s){return os(e,s,!0)})||fn(e,o,i,function(s){if(typeof s=="string"?/^go[A-Z]/.test(s):s.motion)return os(e,s)}):fn(e,o,i,function(s){return os(e,s)}):!1}function dp(e,i,o){return fn(e,"'"+o+"'",i,function(s){return os(e,s,!0)})}var aa=null;function ic(e){var i=this;if(!(e.target&&e.target!=i.display.input.getField())&&(i.curOp.focus=Ie(b(i)),!_e(i,e))){y&&E<11&&e.keyCode==27&&(e.returnValue=!1);var o=e.keyCode;i.display.shift=o==16||e.shiftKey;var s=tc(i,e);U&&(aa=s?o:null,!s&&o==88&&!Fd&&(S?e.metaKey:e.ctrlKey)&&i.replaceSelection("",null,"cut")),u&&!S&&!s&&o==46&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),o==18&&!/\bCodeMirror-crosshair\b/.test(i.display.lineDiv.className)&&fp(i)}}function fp(e){var i=e.display.lineDiv;Qe(i,"CodeMirror-crosshair");function o(s){(s.keyCode==18||!s.altKey)&&(ke(i,"CodeMirror-crosshair"),re(document,"keyup",o),re(document,"mouseover",o))}Z(document,"keyup",o),Z(document,"mouseover",o)}function rc(e){e.keyCode==16&&(this.doc.sel.shift=!1),_e(this,e)}function nc(e){var i=this;if(!(e.target&&e.target!=i.display.input.getField())&&!(ci(i.display,e)||_e(i,e)||e.ctrlKey&&!e.altKey||S&&e.metaKey)){var o=e.keyCode,s=e.charCode;if(U&&o==aa){aa=null,tt(e);return}if(!(U&&(!e.which||e.which<10)&&tc(i,e))){var l=String.fromCharCode(s??o);l!="\b"&&(dp(i,e,l)||i.display.input.onKeyPress(e))}}}var pp=400,la=function(e,i,o){this.time=e,this.pos=i,this.button=o};la.prototype.compare=function(e,i,o){return this.time+pp>e&&Le(i,this.pos)==0&&o==this.button};var pn,gn;function gp(e,i){var o=+new Date;return gn&&gn.compare(o,e,i)?(pn=gn=null,"triple"):pn&&pn.compare(o,e,i)?(gn=new la(o,e,i),pn=null,"double"):(pn=new la(o,e,i),gn=null,"single")}function sc(e){var i=this,o=i.display;if(!(_e(i,e)||o.activeTouch&&o.input.supportsTouch())){if(o.input.ensurePolled(),o.shift=e.shiftKey,ci(o,e)){B||(o.scroller.draggable=!1,setTimeout(function(){return o.scroller.draggable=!0},100));return}if(!ua(i,e)){var s=Gi(i,e),l=Ei(e),c=s?gp(s,l):"single";Y(i).focus(),l==1&&i.state.selectingText&&i.state.selectingText(e),!(s&&mp(i,l,s,c,e))&&(l==1?s?yp(i,s,c,e):oi(e)==o.scroller&&tt(e):l==2?(s&&es(i.doc,s),setTimeout(function(){return o.input.focus()},20)):l==3&&(Be?i.display.input.onContextMenu(e):$o(i)))}}}function mp(e,i,o,s,l){var c="Click";return s=="double"?c="Double"+c:s=="triple"&&(c="Triple"+c),c=(i==1?"Left":i==2?"Middle":"Right")+c,fn(e,Yu(c,l),l,function(h){if(typeof h=="string"&&(h=dn[h]),!h)return!1;var p=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),p=h(e,o)!=at}finally{e.state.suppressEdits=!1}return p})}function vp(e,i,o){var s=e.getOption("configureMouse"),l=s?s(e,i,o):{};if(l.unit==null){var c=L?o.shiftKey&&o.metaKey:o.altKey;l.unit=c?"rectangle":i=="single"?"char":i=="double"?"word":"line"}return(l.extend==null||e.doc.extend)&&(l.extend=e.doc.extend||o.shiftKey),l.addNew==null&&(l.addNew=S?o.metaKey:o.ctrlKey),l.moveOnDrag==null&&(l.moveOnDrag=!(S?o.altKey:o.ctrlKey)),l}function yp(e,i,o,s){y?setTimeout(He(ou,e),0):e.curOp.focus=Ie(b(e));var l=vp(e,o,s),c=e.doc.sel,h;e.options.dragDrop&&ho&&!e.isReadOnly()&&o=="single"&&(h=c.contains(i))>-1&&(Le((h=c.ranges[h]).from(),i)<0||i.xRel>0)&&(Le(h.to(),i)>0||i.xRel<0)?bp(e,s,i,l):wp(e,s,i,l)}function bp(e,i,o,s){var l=e.display,c=!1,h=ut(e,function(v){B&&(l.scroller.draggable=!1),e.state.draggingText=!1,e.state.delayingBlurEvent&&(e.hasFocus()?e.state.delayingBlurEvent=!1:$o(e)),re(l.wrapper.ownerDocument,"mouseup",h),re(l.wrapper.ownerDocument,"mousemove",p),re(l.scroller,"dragstart",g),re(l.scroller,"drop",h),c||(tt(v),s.addNew||es(e.doc,o,null,null,s.extend),B&&!X||y&&E==9?setTimeout(function(){l.wrapper.ownerDocument.body.focus({preventScroll:!0}),l.input.focus()},20):l.input.focus())}),p=function(v){c=c||Math.abs(i.clientX-v.clientX)+Math.abs(i.clientY-v.clientY)>=10},g=function(){return c=!0};B&&(l.scroller.draggable=!0),e.state.draggingText=h,h.copy=!s.moveOnDrag,Z(l.wrapper.ownerDocument,"mouseup",h),Z(l.wrapper.ownerDocument,"mousemove",p),Z(l.scroller,"dragstart",g),Z(l.scroller,"drop",h),e.state.delayingBlurEvent=!0,setTimeout(function(){return l.input.focus()},20),l.scroller.dragDrop&&l.scroller.dragDrop()}function oc(e,i,o){if(o=="char")return new Ne(i,i);if(o=="word")return e.findWordAt(i);if(o=="line")return new Ne(ee(i.line,0),Fe(e.doc,ee(i.line+1,0)));var s=o(e,i);return new Ne(s.from,s.to)}function wp(e,i,o,s){y&&$o(e);var l=e.display,c=e.doc;tt(i);var h,p,g=c.sel,v=g.ranges;if(s.addNew&&!s.extend?(p=c.sel.contains(o),p>-1?h=v[p]:h=new Ne(o,o)):(h=c.sel.primary(),p=c.sel.primIndex),s.unit=="rectangle")s.addNew||(h=new Ne(o,o)),o=Gi(e,i,!0,!0),p=-1;else{var A=oc(e,o,s.unit);s.extend?h=ia(h,A.anchor,A.head,s.extend):h=A}s.addNew?p==-1?(p=v.length,mt(c,Kt(e,v.concat([h]),p),{scroll:!1,origin:"*mouse"})):v.length>1&&v[p].empty()&&s.unit=="char"&&!s.extend?(mt(c,Kt(e,v.slice(0,p).concat(v.slice(p+1)),0),{scroll:!1,origin:"*mouse"}),g=c.sel):ra(c,p,h,et):(p=0,mt(c,new Pt([h],0),et),g=c.sel);var F=o;function z(ue){if(Le(F,ue)!=0)if(F=ue,s.unit=="rectangle"){for(var fe=[],xe=e.options.tabSize,be=je(ye(c,o.line).text,o.ch,xe),Te=je(ye(c,ue.line).text,ue.ch,xe),qe=Math.min(be,Te),ht=Math.max(be,Te),Xe=Math.min(o.line,ue.line),Mt=Math.min(e.lastLine(),Math.max(o.line,ue.line));Xe<=Mt;Xe++){var Et=ye(c,Xe).text,rt=we(Et,qe,xe);qe==ht?fe.push(new Ne(ee(Xe,rt),ee(Xe,rt))):Et.length>rt&&fe.push(new Ne(ee(Xe,rt),ee(Xe,we(Et,ht,xe))))}fe.length||fe.push(new Ne(o,o)),mt(c,Kt(e,g.ranges.slice(0,p).concat(fe),p),{origin:"*mouse",scroll:!1}),e.scrollIntoView(ue)}else{var Dt=h,pt=oc(e,ue,s.unit),st=Dt.anchor,nt;Le(pt.anchor,st)>0?(nt=pt.head,st=_n(Dt.from(),pt.anchor)):(nt=pt.anchor,st=On(Dt.to(),pt.head));var Ye=g.ranges.slice(0);Ye[p]=xp(e,new Ne(Fe(c,st),nt)),mt(c,Kt(e,Ye,p),et)}}var j=l.wrapper.getBoundingClientRect(),K=0;function J(ue){var fe=++K,xe=Gi(e,ue,!0,s.unit=="rectangle");if(xe)if(Le(xe,F)!=0){e.curOp.focus=Ie(b(e)),z(xe);var be=Gn(l,c);(xe.line>=be.to||xe.line<be.from)&&setTimeout(ut(e,function(){K==fe&&J(ue)}),150)}else{var Te=ue.clientY<j.top?-20:ue.clientY>j.bottom?20:0;Te&&setTimeout(ut(e,function(){K==fe&&(l.scroller.scrollTop+=Te,J(ue))}),50)}}function ne(ue){e.state.selectingText=!1,K=1/0,ue&&(tt(ue),l.input.focus()),re(l.wrapper.ownerDocument,"mousemove",le),re(l.wrapper.ownerDocument,"mouseup",ce),c.history.lastSelOrigin=null}var le=ut(e,function(ue){ue.buttons===0||!Ei(ue)?ne(ue):J(ue)}),ce=ut(e,ne);e.state.selectingText=ce,Z(l.wrapper.ownerDocument,"mousemove",le),Z(l.wrapper.ownerDocument,"mouseup",ce)}function xp(e,i){var o=i.anchor,s=i.head,l=ye(e.doc,o.line);if(Le(o,s)==0&&o.sticky==s.sticky)return i;var c=ge(l);if(!c)return i;var h=he(c,o.ch,o.sticky),p=c[h];if(p.from!=o.ch&&p.to!=o.ch)return i;var g=h+(p.from==o.ch==(p.level!=1)?0:1);if(g==0||g==c.length)return i;var v;if(s.line!=o.line)v=(s.line-o.line)*(e.doc.direction=="ltr"?1:-1)>0;else{var A=he(c,s.ch,s.sticky),F=A-h||(s.ch-o.ch)*(p.level==1?-1:1);A==g-1||A==g?v=F<0:v=F>0}var z=c[g+(v?-1:0)],j=v==(z.level==1),K=j?z.from:z.to,J=j?"after":"before";return o.ch==K&&o.sticky==J?i:new Ne(new ee(o.line,K,J),s)}function ac(e,i,o,s){var l,c;if(i.touches)l=i.touches[0].clientX,c=i.touches[0].clientY;else try{l=i.clientX,c=i.clientY}catch{return!1}if(l>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;s&&tt(i);var h=e.display,p=h.lineDiv.getBoundingClientRect();if(c>p.bottom||!Re(e,o))return jt(i);c-=p.top-h.viewOffset;for(var g=0;g<e.display.gutterSpecs.length;++g){var v=h.gutters.childNodes[g];if(v&&v.getBoundingClientRect().right>=l){var A=Ui(e.doc,c),F=e.display.gutterSpecs[g];return De(e,o,e,A,F.className,i),jt(i)}}}function ua(e,i){return ac(e,i,"gutterClick",!0)}function lc(e,i){ci(e.display,i)||Cp(e,i)||_e(e,i,"contextmenu")||Be||e.display.input.onContextMenu(i)}function Cp(e,i){return Re(e,"gutterContextMenu")?ac(e,i,"gutterContextMenu",!1):!1}function uc(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Gr(e)}var Lr={toString:function(){return"CodeMirror.Init"}},cc={},as={};function kp(e){var i=e.optionHandlers;function o(s,l,c,h){e.defaults[s]=l,c&&(i[s]=h?function(p,g,v){v!=Lr&&c(p,g,v)}:c)}e.defineOption=o,e.Init=Lr,o("value","",function(s,l){return s.setValue(l)},!0),o("mode",null,function(s,l){s.doc.modeOption=l,Qo(s)},!0),o("indentUnit",2,Qo,!0),o("indentWithTabs",!1),o("smartIndent",!0),o("tabSize",4,function(s){rn(s),Gr(s),kt(s)},!0),o("lineSeparator",null,function(s,l){if(s.doc.lineSep=l,!!l){var c=[],h=s.doc.first;s.doc.iter(function(g){for(var v=0;;){var A=g.text.indexOf(l,v);if(A==-1)break;v=A+l.length,c.push(ee(h,A))}h++});for(var p=c.length-1;p>=0;p--)Sr(s.doc,l,c[p],ee(c[p].line,c[p].ch+l.length))}}),o("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(s,l,c){s.state.specialChars=new RegExp(l.source+(l.test("	")?"":"|	"),"g"),c!=Lr&&s.refresh()}),o("specialCharPlaceholder",Zd,function(s){return s.refresh()},!0),o("electricChars",!0),o("inputStyle",x?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),o("spellcheck",!1,function(s,l){return s.getInputField().spellcheck=l},!0),o("autocorrect",!1,function(s,l){return s.getInputField().autocorrect=l},!0),o("autocapitalize",!1,function(s,l){return s.getInputField().autocapitalize=l},!0),o("rtlMoveVisually",!G),o("wholeLineUpdateBefore",!0),o("theme","default",function(s){uc(s),tn(s)},!0),o("keyMap","default",function(s,l,c){var h=ss(l),p=c!=Lr&&ss(c);p&&p.detach&&p.detach(s,h),h.attach&&h.attach(s,p||null)}),o("extraKeys",null),o("configureMouse",null),o("lineWrapping",!1,Ep,!0),o("gutters",[],function(s,l){s.display.gutterSpecs=Zo(l,s.options.lineNumbers),tn(s)},!0),o("fixedGutter",!0,function(s,l){s.display.gutters.style.left=l?jo(s.display)+"px":"0",s.refresh()},!0),o("coverGutterNextToScrollbar",!1,function(s){return wr(s)},!0),o("scrollbarStyle","native",function(s){du(s),wr(s),s.display.scrollbars.setScrollTop(s.doc.scrollTop),s.display.scrollbars.setScrollLeft(s.doc.scrollLeft)},!0),o("lineNumbers",!1,function(s,l){s.display.gutterSpecs=Zo(s.options.gutters,l),tn(s)},!0),o("firstLineNumber",1,tn,!0),o("lineNumberFormatter",function(s){return s},tn,!0),o("showCursorWhenSelecting",!1,Xr,!0),o("resetSelectionOnContextMenu",!0),o("lineWiseCopyCut",!0),o("pasteLinesPerSelection",!0),o("selectionsMayTouch",!1),o("readOnly",!1,function(s,l){l=="nocursor"&&(yr(s),s.display.input.blur()),s.display.input.readOnlyChanged(l)}),o("screenReaderLabel",null,function(s,l){l=l===""?null:l,s.display.input.screenReaderLabelChanged(l)}),o("disableInput",!1,function(s,l){l||s.display.input.reset()},!0),o("dragDrop",!0,Sp),o("allowDropFileTypes",null),o("cursorBlinkRate",530),o("cursorScrollMargin",0),o("cursorHeight",1,Xr,!0),o("singleCursorHeightPerLine",!0,Xr,!0),o("workTime",100),o("workDelay",100),o("flattenSpans",!0,rn,!0),o("addModeClass",!1,rn,!0),o("pollInterval",100),o("undoDepth",200,function(s,l){return s.doc.history.undoDepth=l}),o("historyEventDelay",1250),o("viewportMargin",10,function(s){return s.refresh()},!0),o("maxHighlightLength",1e4,rn,!0),o("moveInputWithCursor",!0,function(s,l){l||s.display.input.resetPosition()}),o("tabindex",null,function(s,l){return s.display.input.getField().tabIndex=l||""}),o("autofocus",null),o("direction","ltr",function(s,l){return s.doc.setDirection(l)},!0),o("phrases",null)}function Sp(e,i,o){var s=o&&o!=Lr;if(!i!=!s){var l=e.display.dragFunctions,c=i?Z:re;c(e.display.scroller,"dragstart",l.start),c(e.display.scroller,"dragenter",l.enter),c(e.display.scroller,"dragover",l.over),c(e.display.scroller,"dragleave",l.leave),c(e.display.scroller,"drop",l.drop)}}function Ep(e){e.options.lineWrapping?(Qe(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(ke(e.display.wrapper,"CodeMirror-wrap"),Fo(e)),Ho(e),kt(e),Gr(e),setTimeout(function(){return wr(e)},100)}function Ve(e,i){var o=this;if(!(this instanceof Ve))return new Ve(e,i);this.options=i=i?Ae(i):{},Ae(cc,i,!1);var s=i.value;typeof s=="string"?s=new St(s,i.mode,null,i.lineSeparator,i.direction):i.mode&&(s.modeOption=i.mode),this.doc=s;var l=new Ve.inputStyles[i.inputStyle](this),c=this.display=new Nf(e,s,l,i);c.wrapper.CodeMirror=this,uc(this),i.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),du(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new ot,keySeq:null,specialChars:null},i.autofocus&&!x&&c.input.focus(),y&&E<11&&setTimeout(function(){return o.display.input.reset(!0)},20),Dp(this),rp(),Ji(this),this.curOp.forceUpdate=!0,Cu(this,s),i.autofocus&&!x||this.hasFocus()?setTimeout(function(){o.hasFocus()&&!o.state.focused&&qo(o)},20):yr(this);for(var h in as)as.hasOwnProperty(h)&&as[h](this,i[h],Lr);gu(this),i.finishInit&&i.finishInit(this);for(var p=0;p<ca.length;++p)ca[p](this);Qi(this),B&&i.lineWrapping&&getComputedStyle(c.lineDiv).textRendering=="optimizelegibility"&&(c.lineDiv.style.textRendering="auto")}Ve.defaults=cc,Ve.optionHandlers=as;function Dp(e){var i=e.display;Z(i.scroller,"mousedown",ut(e,sc)),y&&E<11?Z(i.scroller,"dblclick",ut(e,function(g){if(!_e(e,g)){var v=Gi(e,g);if(!(!v||ua(e,g)||ci(e.display,g))){tt(g);var A=e.findWordAt(v);es(e.doc,A.anchor,A.head)}}})):Z(i.scroller,"dblclick",function(g){return _e(e,g)||tt(g)}),Z(i.scroller,"contextmenu",function(g){return lc(e,g)}),Z(i.input.getField(),"contextmenu",function(g){i.scroller.contains(g.target)||lc(e,g)});var o,s={end:0};function l(){i.activeTouch&&(o=setTimeout(function(){return i.activeTouch=null},1e3),s=i.activeTouch,s.end=+new Date)}function c(g){if(g.touches.length!=1)return!1;var v=g.touches[0];return v.radiusX<=1&&v.radiusY<=1}function h(g,v){if(v.left==null)return!0;var A=v.left-g.left,F=v.top-g.top;return A*A+F*F>20*20}Z(i.scroller,"touchstart",function(g){if(!_e(e,g)&&!c(g)&&!ua(e,g)){i.input.ensurePolled(),clearTimeout(o);var v=+new Date;i.activeTouch={start:v,moved:!1,prev:v-s.end<=300?s:null},g.touches.length==1&&(i.activeTouch.left=g.touches[0].pageX,i.activeTouch.top=g.touches[0].pageY)}}),Z(i.scroller,"touchmove",function(){i.activeTouch&&(i.activeTouch.moved=!0)}),Z(i.scroller,"touchend",function(g){var v=i.activeTouch;if(v&&!ci(i,g)&&v.left!=null&&!v.moved&&new Date-v.start<300){var A=e.coordsChar(i.activeTouch,"page"),F;!v.prev||h(v,v.prev)?F=new Ne(A,A):!v.prev.prev||h(v,v.prev.prev)?F=e.findWordAt(A):F=new Ne(ee(A.line,0),Fe(e.doc,ee(A.line+1,0))),e.setSelection(F.anchor,F.head),e.focus(),tt(g)}l()}),Z(i.scroller,"touchcancel",l),Z(i.scroller,"scroll",function(){i.scroller.clientHeight&&(Zr(e,i.scroller.scrollTop),Yi(e,i.scroller.scrollLeft,!0),De(e,"scroll",e))}),Z(i.scroller,"mousewheel",function(g){return yu(e,g)}),Z(i.scroller,"DOMMouseScroll",function(g){return yu(e,g)}),Z(i.wrapper,"scroll",function(){return i.wrapper.scrollTop=i.wrapper.scrollLeft=0}),i.dragFunctions={enter:function(g){_e(e,g)||Ht(g)},over:function(g){_e(e,g)||(ip(e,g),Ht(g))},start:function(g){return tp(e,g)},drop:ut(e,ep),leave:function(g){_e(e,g)||Vu(e)}};var p=i.input.getField();Z(p,"keyup",function(g){return rc.call(e,g)}),Z(p,"keydown",ut(e,ic)),Z(p,"keypress",ut(e,nc)),Z(p,"focus",function(g){return qo(e,g)}),Z(p,"blur",function(g){return yr(e,g)})}var ca=[];Ve.defineInitHook=function(e){return ca.push(e)};function mn(e,i,o,s){var l=e.doc,c;o==null&&(o="add"),o=="smart"&&(l.mode.indent?c=$r(e,i).state:o="prev");var h=e.options.tabSize,p=ye(l,i),g=je(p.text,null,h);p.stateAfter&&(p.stateAfter=null);var v=p.text.match(/^\s*/)[0],A;if(!s&&!/\S/.test(p.text))A=0,o="not";else if(o=="smart"&&(A=l.mode.indent(c,p.text.slice(v.length),p.text),A==at||A>150)){if(!s)return;o="prev"}o=="prev"?i>l.first?A=je(ye(l,i-1).text,null,h):A=0:o=="add"?A=g+e.options.indentUnit:o=="subtract"?A=g-e.options.indentUnit:typeof o=="number"&&(A=g+o),A=Math.max(0,A);var F="",z=0;if(e.options.indentWithTabs)for(var j=Math.floor(A/h);j;--j)z+=h,F+="	";if(z<A&&(F+=Nt(A-z)),F!=v)return Sr(l,F,ee(i,0),ee(i,v.length),"+input"),p.stateAfter=null,!0;for(var K=0;K<l.sel.ranges.length;K++){var J=l.sel.ranges[K];if(J.head.line==i&&J.head.ch<v.length){var ne=ee(i,v.length);ra(l,K,new Ne(ne,ne));break}}}var Gt=null;function ls(e){Gt=e}function ha(e,i,o,s,l){var c=e.doc;e.display.shift=!1,s||(s=c.sel);var h=+new Date-200,p=l=="paste"||e.state.pasteIncoming>h,g=po(i),v=null;if(p&&s.ranges.length>1)if(Gt&&Gt.text.join(`
`)==i){if(s.ranges.length%Gt.text.length==0){v=[];for(var A=0;A<Gt.text.length;A++)v.push(c.splitLines(Gt.text[A]))}}else g.length==s.ranges.length&&e.options.pasteLinesPerSelection&&(v=Wt(g,function(le){return[le]}));for(var F=e.curOp.updateInput,z=s.ranges.length-1;z>=0;z--){var j=s.ranges[z],K=j.from(),J=j.to();j.empty()&&(o&&o>0?K=ee(K.line,K.ch-o):e.state.overwrite&&!p?J=ee(J.line,Math.min(ye(c,J.line).text.length,J.ch+Oe(g).length)):p&&Gt&&Gt.lineWise&&Gt.text.join(`
`)==g.join(`
`)&&(K=J=ee(K.line,0)));var ne={from:K,to:J,text:v?v[z%v.length]:g,origin:l||(p?"paste":e.state.cutIncoming>h?"cut":"+input")};kr(e.doc,ne),lt(e,"inputRead",e,ne)}i&&!p&&dc(e,i),br(e),e.curOp.updateInput<2&&(e.curOp.updateInput=F),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function hc(e,i){var o=e.clipboardData&&e.clipboardData.getData("Text");if(o)return e.preventDefault(),!i.isReadOnly()&&!i.options.disableInput&&i.hasFocus()&&Tt(i,function(){return ha(i,o,0,null,"paste")}),!0}function dc(e,i){if(!(!e.options.electricChars||!e.options.smartIndent))for(var o=e.doc.sel,s=o.ranges.length-1;s>=0;s--){var l=o.ranges[s];if(!(l.head.ch>100||s&&o.ranges[s-1].head.line==l.head.line)){var c=e.getModeAt(l.head),h=!1;if(c.electricChars){for(var p=0;p<c.electricChars.length;p++)if(i.indexOf(c.electricChars.charAt(p))>-1){h=mn(e,l.head.line,"smart");break}}else c.electricInput&&c.electricInput.test(ye(e.doc,l.head.line).text.slice(0,l.head.ch))&&(h=mn(e,l.head.line,"smart"));h&&lt(e,"electricInput",e,l.head.line)}}}function fc(e){for(var i=[],o=[],s=0;s<e.doc.sel.ranges.length;s++){var l=e.doc.sel.ranges[s].head.line,c={anchor:ee(l,0),head:ee(l+1,0)};o.push(c),i.push(e.getRange(c.anchor,c.head))}return{text:i,ranges:o}}function da(e,i,o,s){e.setAttribute("autocorrect",o?"on":"off"),e.setAttribute("autocapitalize",s?"on":"off"),e.setAttribute("spellcheck",!!i)}function pc(){var e=N("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),i=N("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return B?e.style.width="1000px":e.setAttribute("wrap","off"),D&&(e.style.border="1px solid black"),i}function Ap(e){var i=e.optionHandlers,o=e.helpers={};e.prototype={constructor:e,focus:function(){Y(this).focus(),this.display.input.focus()},setOption:function(s,l){var c=this.options,h=c[s];c[s]==l&&s!="mode"||(c[s]=l,i.hasOwnProperty(s)&&ut(this,i[s])(this,l,h),De(this,"optionChange",this,s))},getOption:function(s){return this.options[s]},getDoc:function(){return this.doc},addKeyMap:function(s,l){this.state.keyMaps[l?"push":"unshift"](ss(s))},removeKeyMap:function(s){for(var l=this.state.keyMaps,c=0;c<l.length;++c)if(l[c]==s||l[c].name==s)return l.splice(c,1),!0},addOverlay:bt(function(s,l){var c=s.token?s:e.getMode(this.options,s);if(c.startState)throw new Error("Overlays may not be stateful.");ki(this.state.overlays,{mode:c,modeSpec:s,opaque:l&&l.opaque,priority:l&&l.priority||0},function(h){return h.priority}),this.state.modeGen++,kt(this)}),removeOverlay:bt(function(s){for(var l=this.state.overlays,c=0;c<l.length;++c){var h=l[c].modeSpec;if(h==s||typeof s=="string"&&h.name==s){l.splice(c,1),this.state.modeGen++,kt(this);return}}}),indentLine:bt(function(s,l,c){typeof l!="string"&&typeof l!="number"&&(l==null?l=this.options.smartIndent?"smart":"prev":l=l?"add":"subtract"),Wr(this.doc,s)&&mn(this,s,l,c)}),indentSelection:bt(function(s){for(var l=this.doc.sel.ranges,c=-1,h=0;h<l.length;h++){var p=l[h];if(p.empty())p.head.line>c&&(mn(this,p.head.line,s,!0),c=p.head.line,h==this.doc.sel.primIndex&&br(this));else{var g=p.from(),v=p.to(),A=Math.max(c,g.line);c=Math.min(this.lastLine(),v.line-(v.ch?0:1))+1;for(var F=A;F<c;++F)mn(this,F,s);var z=this.doc.sel.ranges;g.ch==0&&l.length==z.length&&z[h].from().ch>0&&ra(this.doc,h,new Ne(g,z[h].to()),Pe)}}}),getTokenAt:function(s,l){return Sl(this,s,l)},getLineTokens:function(s,l){return Sl(this,ee(s),l,!0)},getTokenTypeAt:function(s){s=Fe(this.doc,s);var l=xl(this,ye(this.doc,s.line)),c=0,h=(l.length-1)/2,p=s.ch,g;if(p==0)g=l[2];else for(;;){var v=c+h>>1;if((v?l[v*2-1]:0)>=p)h=v;else if(l[v*2+1]<p)c=v+1;else{g=l[v*2+2];break}}var A=g?g.indexOf("overlay "):-1;return A<0?g:A==0?null:g.slice(0,A-1)},getModeAt:function(s){var l=this.doc.mode;return l.innerMode?e.innerMode(l,this.getTokenAt(s).state).mode:l},getHelper:function(s,l){return this.getHelpers(s,l)[0]},getHelpers:function(s,l){var c=[];if(!o.hasOwnProperty(l))return c;var h=o[l],p=this.getModeAt(s);if(typeof p[l]=="string")h[p[l]]&&c.push(h[p[l]]);else if(p[l])for(var g=0;g<p[l].length;g++){var v=h[p[l][g]];v&&c.push(v)}else p.helperType&&h[p.helperType]?c.push(h[p.helperType]):h[p.name]&&c.push(h[p.name]);for(var A=0;A<h._global.length;A++){var F=h._global[A];F.pred(p,this)&&$e(c,F.val)==-1&&c.push(F.val)}return c},getStateAfter:function(s,l){var c=this.doc;return s=yl(c,s??c.first+c.size-1),$r(this,s+1,l).state},cursorCoords:function(s,l){var c,h=this.doc.sel.primary();return s==null?c=h.head:typeof s=="object"?c=Fe(this.doc,s):c=s?h.from():h.to(),Vt(this,c,l||"page")},charCoords:function(s,l){return qn(this,Fe(this.doc,s),l||"page")},coordsChar:function(s,l){return s=Ql(this,s,l||"page"),Ro(this,s.left,s.top)},lineAtHeight:function(s,l){return s=Ql(this,{top:s,left:0},l||"page").top,Ui(this.doc,s+this.display.viewOffset)},heightAtLine:function(s,l,c){var h=!1,p;if(typeof s=="number"){var g=this.doc.first+this.doc.size-1;s<this.doc.first?s=this.doc.first:s>g&&(s=g,h=!0),p=ye(this.doc,s)}else p=s;return $n(this,p,{top:0,left:0},l||"page",c||h).top+(h?this.doc.height-ui(p):0)},defaultTextHeight:function(){return mr(this.display)},defaultCharWidth:function(){return vr(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(s,l,c,h,p){var g=this.display;s=Vt(this,Fe(this.doc,s));var v=s.bottom,A=s.left;if(l.style.position="absolute",l.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(l),g.sizer.appendChild(l),h=="over")v=s.top;else if(h=="above"||h=="near"){var F=Math.max(g.wrapper.clientHeight,this.doc.height),z=Math.max(g.sizer.clientWidth,g.lineSpace.clientWidth);(h=="above"||s.bottom+l.offsetHeight>F)&&s.top>l.offsetHeight?v=s.top-l.offsetHeight:s.bottom+l.offsetHeight<=F&&(v=s.bottom),A+l.offsetWidth>z&&(A=z-l.offsetWidth)}l.style.top=v+"px",l.style.left=l.style.right="",p=="right"?(A=g.sizer.clientWidth-l.offsetWidth,l.style.right="0px"):(p=="left"?A=0:p=="middle"&&(A=(g.sizer.clientWidth-l.offsetWidth)/2),l.style.left=A+"px"),c&&Sf(this,{left:A,top:v,right:A+l.offsetWidth,bottom:v+l.offsetHeight})},triggerOnKeyDown:bt(ic),triggerOnKeyPress:bt(nc),triggerOnKeyUp:rc,triggerOnMouseDown:bt(sc),execCommand:function(s){if(dn.hasOwnProperty(s))return dn[s].call(null,this)},triggerElectric:bt(function(s){dc(this,s)}),findPosH:function(s,l,c,h){var p=1;l<0&&(p=-1,l=-l);for(var g=Fe(this.doc,s),v=0;v<l&&(g=fa(this.doc,g,p,c,h),!g.hitSide);++v);return g},moveH:bt(function(s,l){var c=this;this.extendSelectionsBy(function(h){return c.display.shift||c.doc.extend||h.empty()?fa(c.doc,h.head,s,l,c.options.rtlMoveVisually):s<0?h.from():h.to()},Ot)}),deleteH:bt(function(s,l){var c=this.doc.sel,h=this.doc;c.somethingSelected()?h.replaceSelection("",null,"+delete"):Ar(this,function(p){var g=fa(h,p.head,s,l,!1);return s<0?{from:g,to:p.head}:{from:p.head,to:g}})}),findPosV:function(s,l,c,h){var p=1,g=h;l<0&&(p=-1,l=-l);for(var v=Fe(this.doc,s),A=0;A<l;++A){var F=Vt(this,v,"div");if(g==null?g=F.left:F.left=g,v=gc(this,F,p,c),v.hitSide)break}return v},moveV:bt(function(s,l){var c=this,h=this.doc,p=[],g=!this.display.shift&&!h.extend&&h.sel.somethingSelected();if(h.extendSelectionsBy(function(A){if(g)return s<0?A.from():A.to();var F=Vt(c,A.head,"div");A.goalColumn!=null&&(F.left=A.goalColumn),p.push(F.left);var z=gc(c,F,s,l);return l=="page"&&A==h.sel.primary()&&Vo(c,qn(c,z,"div").top-F.top),z},Ot),p.length)for(var v=0;v<h.sel.ranges.length;v++)h.sel.ranges[v].goalColumn=p[v]}),findWordAt:function(s){var l=this.doc,c=ye(l,s.line).text,h=s.ch,p=s.ch;if(c){var g=this.getHelper(s,"wordChars");(s.sticky=="before"||p==c.length)&&h?--h:++p;for(var v=c.charAt(h),A=q(v,g)?function(F){return q(F,g)}:/\s/.test(v)?function(F){return/\s/.test(F)}:function(F){return!/\s/.test(F)&&!q(F)};h>0&&A(c.charAt(h-1));)--h;for(;p<c.length&&A(c.charAt(p));)++p}return new Ne(ee(s.line,h),ee(s.line,p))},toggleOverwrite:function(s){s!=null&&s==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Qe(this.display.cursorDiv,"CodeMirror-overwrite"):ke(this.display.cursorDiv,"CodeMirror-overwrite"),De(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Ie(b(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:bt(function(s,l){Yr(this,s,l)}),getScrollInfo:function(){var s=this.display.scroller;return{left:s.scrollLeft,top:s.scrollTop,height:s.scrollHeight-ti(this)-this.display.barHeight,width:s.scrollWidth-ti(this)-this.display.barWidth,clientHeight:Bo(this),clientWidth:Vi(this)}},scrollIntoView:bt(function(s,l){s==null?(s={from:this.doc.sel.primary().head,to:null},l==null&&(l=this.options.cursorScrollMargin)):typeof s=="number"?s={from:ee(s,0),to:null}:s.from==null&&(s={from:s,to:null}),s.to||(s.to=s.from),s.margin=l||0,s.from.line!=null?Ef(this,s):lu(this,s.from,s.to,s.margin)}),setSize:bt(function(s,l){var c=this,h=function(g){return typeof g=="number"||/^\d+$/.test(String(g))?g+"px":g};s!=null&&(this.display.wrapper.style.width=h(s)),l!=null&&(this.display.wrapper.style.height=h(l)),this.options.lineWrapping&&Yl(this);var p=this.display.viewFrom;this.doc.iter(p,this.display.viewTo,function(g){if(g.widgets){for(var v=0;v<g.widgets.length;v++)if(g.widgets[v].noHScroll){Ai(c,p,"widget");break}}++p}),this.curOp.forceUpdate=!0,De(this,"refresh",this)}),operation:function(s){return Tt(this,s)},startOperation:function(){return Ji(this)},endOperation:function(){return Qi(this)},refresh:bt(function(){var s=this.display.cachedTextHeight;kt(this),this.curOp.forceUpdate=!0,Gr(this),Yr(this,this.doc.scrollLeft,this.doc.scrollTop),Xo(this.display),(s==null||Math.abs(s-mr(this.display))>.5||this.options.lineWrapping)&&Ho(this),De(this,"refresh",this)}),swapDoc:bt(function(s){var l=this.doc;return l.cm=null,this.state.selectingText&&this.state.selectingText(),Cu(this,s),Gr(this),this.display.input.reset(),Yr(this,s.scrollLeft,s.scrollTop),this.curOp.forceScroll=!0,lt(this,"swapDoc",this,l),l}),phrase:function(s){var l=this.options.phrases;return l&&Object.prototype.hasOwnProperty.call(l,s)?l[s]:s},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Ge(e),e.registerHelper=function(s,l,c){o.hasOwnProperty(s)||(o[s]=e[s]={_global:[]}),o[s][l]=c},e.registerGlobalHelper=function(s,l,c,h){e.registerHelper(s,l,h),o[s]._global.push({pred:c,val:h})}}function fa(e,i,o,s,l){var c=i,h=o,p=ye(e,i.line),g=l&&e.direction=="rtl"?-o:o;function v(){var ce=i.line+g;return ce<e.first||ce>=e.first+e.size?!1:(i=new ee(ce,i.ch,i.sticky),p=ye(e,ce))}function A(ce){var ue;if(s=="codepoint"){var fe=p.text.charCodeAt(i.ch+(o>0?0:-1));if(isNaN(fe))ue=null;else{var xe=o>0?fe>=55296&&fe<56320:fe>=56320&&fe<57343;ue=new ee(i.line,Math.max(0,Math.min(p.text.length,i.ch+o*(xe?2:1))),-o)}}else l?ue=lp(e.cm,p,i,o):ue=sa(p,i,o);if(ue==null)if(!ce&&v())i=oa(l,e.cm,p,i.line,g);else return!1;else i=ue;return!0}if(s=="char"||s=="codepoint")A();else if(s=="column")A(!0);else if(s=="word"||s=="group")for(var F=null,z=s=="group",j=e.cm&&e.cm.getHelper(i,"wordChars"),K=!0;!(o<0&&!A(!K));K=!1){var J=p.text.charAt(i.ch)||`
`,ne=q(J,j)?"w":z&&J==`
`?"n":!z||/\s/.test(J)?null:"p";if(z&&!K&&!ne&&(ne="s"),F&&F!=ne){o<0&&(o=1,A(),i.sticky="after");break}if(ne&&(F=ne),o>0&&!A(!K))break}var le=is(e,i,c,h,!0);return xo(c,le)&&(le.hitSide=!0),le}function gc(e,i,o,s){var l=e.doc,c=i.left,h;if(s=="page"){var p=Math.min(e.display.wrapper.clientHeight,Y(e).innerHeight||l(e).documentElement.clientHeight),g=Math.max(p-.5*mr(e.display),3);h=(o>0?i.bottom:i.top)+o*g}else s=="line"&&(h=o>0?i.bottom+3:i.top-3);for(var v;v=Ro(e,c,h),!!v.outside;){if(o<0?h<=0:h>=l.height){v.hitSide=!0;break}h+=o*5}return v}var We=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new ot,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};We.prototype.init=function(e){var i=this,o=this,s=o.cm,l=o.div=e.lineDiv;l.contentEditable=!0,da(l,s.options.spellcheck,s.options.autocorrect,s.options.autocapitalize);function c(p){for(var g=p.target;g;g=g.parentNode){if(g==l)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(g.className))break}return!1}Z(l,"paste",function(p){!c(p)||_e(s,p)||hc(p,s)||E<=11&&setTimeout(ut(s,function(){return i.updateFromDOM()}),20)}),Z(l,"compositionstart",function(p){i.composing={data:p.data,done:!1}}),Z(l,"compositionupdate",function(p){i.composing||(i.composing={data:p.data,done:!1})}),Z(l,"compositionend",function(p){i.composing&&(p.data!=i.composing.data&&i.readFromDOMSoon(),i.composing.done=!0)}),Z(l,"touchstart",function(){return o.forceCompositionEnd()}),Z(l,"input",function(){i.composing||i.readFromDOMSoon()});function h(p){if(!(!c(p)||_e(s,p))){if(s.somethingSelected())ls({lineWise:!1,text:s.getSelections()}),p.type=="cut"&&s.replaceSelection("",null,"cut");else if(s.options.lineWiseCopyCut){var g=fc(s);ls({lineWise:!0,text:g.text}),p.type=="cut"&&s.operation(function(){s.setSelections(g.ranges,0,Pe),s.replaceSelection("",null,"cut")})}else return;if(p.clipboardData){p.clipboardData.clearData();var v=Gt.text.join(`
`);if(p.clipboardData.setData("Text",v),p.clipboardData.getData("Text")==v){p.preventDefault();return}}var A=pc(),F=A.firstChild;da(F),s.display.lineSpace.insertBefore(A,s.display.lineSpace.firstChild),F.value=Gt.text.join(`
`);var z=Ie(l.ownerDocument);P(F),setTimeout(function(){s.display.lineSpace.removeChild(A),z.focus(),z==l&&o.showPrimarySelection()},50)}}Z(l,"copy",h),Z(l,"cut",h)},We.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},We.prototype.prepareSelection=function(){var e=su(this.cm,!1);return e.focus=Ie(this.div.ownerDocument)==this.div,e},We.prototype.showSelection=function(e,i){!e||!this.cm.display.view.length||((e.focus||i)&&this.showPrimarySelection(),this.showMultipleSelections(e))},We.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},We.prototype.showPrimarySelection=function(){var e=this.getSelection(),i=this.cm,o=i.doc.sel.primary(),s=o.from(),l=o.to();if(i.display.viewTo==i.display.viewFrom||s.line>=i.display.viewTo||l.line<i.display.viewFrom){e.removeAllRanges();return}var c=us(i,e.anchorNode,e.anchorOffset),h=us(i,e.focusNode,e.focusOffset);if(!(c&&!c.bad&&h&&!h.bad&&Le(_n(c,h),s)==0&&Le(On(c,h),l)==0)){var p=i.display.view,g=s.line>=i.display.viewFrom&&mc(i,s)||{node:p[0].measure.map[2],offset:0},v=l.line<i.display.viewTo&&mc(i,l);if(!v){var A=p[p.length-1].measure,F=A.maps?A.maps[A.maps.length-1]:A.map;v={node:F[F.length-1],offset:F[F.length-2]-F[F.length-3]}}if(!g||!v){e.removeAllRanges();return}var z=e.rangeCount&&e.getRangeAt(0),j;try{j=Q(g.node,g.offset,v.offset,v.node)}catch{}j&&(!u&&i.state.focused?(e.collapse(g.node,g.offset),j.collapsed||(e.removeAllRanges(),e.addRange(j))):(e.removeAllRanges(),e.addRange(j)),z&&e.anchorNode==null?e.addRange(z):u&&this.startGracePeriod()),this.rememberSelection()}},We.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},We.prototype.showMultipleSelections=function(e){ve(this.cm.display.cursorDiv,e.cursors),ve(this.cm.display.selectionDiv,e.selection)},We.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},We.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var i=e.getRangeAt(0).commonAncestorContainer;return me(this.div,i)},We.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||Ie(this.div.ownerDocument)!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},We.prototype.blur=function(){this.div.blur()},We.prototype.getField=function(){return this.div},We.prototype.supportsTouch=function(){return!0},We.prototype.receivedFocus=function(){var e=this,i=this;this.selectionInEditor()?setTimeout(function(){return e.pollSelection()},20):Tt(this.cm,function(){return i.cm.curOp.selectionChanged=!0});function o(){i.cm.state.focused&&(i.pollSelection(),i.polling.set(i.cm.options.pollInterval,o))}this.polling.set(this.cm.options.pollInterval,o)},We.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},We.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var e=this.getSelection(),i=this.cm;if(C&&_&&this.cm.display.gutterSpecs.length&&Lp(e.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var o=us(i,e.anchorNode,e.anchorOffset),s=us(i,e.focusNode,e.focusOffset);o&&s&&Tt(i,function(){mt(i.doc,Fi(o,s),Pe),(o.bad||s.bad)&&(i.curOp.selectionChanged=!0)})}}},We.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e=this.cm,i=e.display,o=e.doc.sel.primary(),s=o.from(),l=o.to();if(s.ch==0&&s.line>e.firstLine()&&(s=ee(s.line-1,ye(e.doc,s.line-1).length)),l.ch==ye(e.doc,l.line).text.length&&l.line<e.lastLine()&&(l=ee(l.line+1,0)),s.line<i.viewFrom||l.line>i.viewTo-1)return!1;var c,h,p;s.line==i.viewFrom||(c=Xi(e,s.line))==0?(h=ze(i.view[0].line),p=i.view[0].node):(h=ze(i.view[c].line),p=i.view[c-1].node.nextSibling);var g=Xi(e,l.line),v,A;if(g==i.view.length-1?(v=i.viewTo-1,A=i.lineDiv.lastChild):(v=ze(i.view[g+1].line)-1,A=i.view[g+1].node.previousSibling),!p)return!1;for(var F=e.doc.splitLines(Fp(e,p,A,h,v)),z=qi(e.doc,ee(h,0),ee(v,ye(e.doc,v).text.length));F.length>1&&z.length>1;)if(Oe(F)==Oe(z))F.pop(),z.pop(),v--;else if(F[0]==z[0])F.shift(),z.shift(),h++;else break;for(var j=0,K=0,J=F[0],ne=z[0],le=Math.min(J.length,ne.length);j<le&&J.charCodeAt(j)==ne.charCodeAt(j);)++j;for(var ce=Oe(F),ue=Oe(z),fe=Math.min(ce.length-(F.length==1?j:0),ue.length-(z.length==1?j:0));K<fe&&ce.charCodeAt(ce.length-K-1)==ue.charCodeAt(ue.length-K-1);)++K;if(F.length==1&&z.length==1&&h==s.line)for(;j&&j>s.ch&&ce.charCodeAt(ce.length-K-1)==ue.charCodeAt(ue.length-K-1);)j--,K++;F[F.length-1]=ce.slice(0,ce.length-K).replace(/^\u200b+/,""),F[0]=F[0].slice(j).replace(/\u200b+$/,"");var xe=ee(h,j),be=ee(v,z.length?Oe(z).length-K:0);if(F.length>1||F[0]||Le(xe,be))return Sr(e.doc,F,xe,be,"+input"),!0},We.prototype.ensurePolled=function(){this.forceCompositionEnd()},We.prototype.reset=function(){this.forceCompositionEnd()},We.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},We.prototype.readFromDOMSoon=function(){var e=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing)if(e.composing.done)e.composing=null;else return;e.updateFromDOM()},80))},We.prototype.updateFromDOM=function(){var e=this;(this.cm.isReadOnly()||!this.pollContent())&&Tt(this.cm,function(){return kt(e.cm)})},We.prototype.setUneditable=function(e){e.contentEditable="false"},We.prototype.onKeyPress=function(e){e.charCode==0||this.composing||(e.preventDefault(),this.cm.isReadOnly()||ut(this.cm,ha)(this.cm,String.fromCharCode(e.charCode==null?e.keyCode:e.charCode),0))},We.prototype.readOnlyChanged=function(e){this.div.contentEditable=String(e!="nocursor")},We.prototype.onContextMenu=function(){},We.prototype.resetPosition=function(){},We.prototype.needsContentAttribute=!0;function mc(e,i){var o=Oo(e,i.line);if(!o||o.hidden)return null;var s=ye(e.doc,i.line),l=Ul(o,s,i.line),c=ge(s,e.doc.direction),h="left";if(c){var p=he(c,i.ch);h=p%2?"right":"left"}var g=Gl(l.map,i.ch,h);return g.offset=g.collapse=="right"?g.end:g.start,g}function Lp(e){for(var i=e;i;i=i.parentNode)if(/CodeMirror-gutter-wrapper/.test(i.className))return!0;return!1}function Fr(e,i){return i&&(e.bad=!0),e}function Fp(e,i,o,s,l){var c="",h=!1,p=e.doc.lineSeparator(),g=!1;function v(j){return function(K){return K.id==j}}function A(){h&&(c+=p,g&&(c+=p),h=g=!1)}function F(j){j&&(A(),c+=j)}function z(j){if(j.nodeType==1){var K=j.getAttribute("cm-text");if(K){F(K);return}var J=j.getAttribute("cm-marker"),ne;if(J){var le=e.findMarks(ee(s,0),ee(l+1,0),v(+J));le.length&&(ne=le[0].find(0))&&F(qi(e.doc,ne.from,ne.to).join(p));return}if(j.getAttribute("contenteditable")=="false")return;var ce=/^(pre|div|p|li|table|br)$/i.test(j.nodeName);if(!/^br$/i.test(j.nodeName)&&j.textContent.length==0)return;ce&&A();for(var ue=0;ue<j.childNodes.length;ue++)z(j.childNodes[ue]);/^(pre|p)$/i.test(j.nodeName)&&(g=!0),ce&&(h=!0)}else j.nodeType==3&&F(j.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;z(i),i!=o;)i=i.nextSibling,g=!1;return c}function us(e,i,o){var s;if(i==e.display.lineDiv){if(s=e.display.lineDiv.childNodes[o],!s)return Fr(e.clipPos(ee(e.display.viewTo-1)),!0);i=null,o=0}else for(s=i;;s=s.parentNode){if(!s||s==e.display.lineDiv)return null;if(s.parentNode&&s.parentNode==e.display.lineDiv)break}for(var l=0;l<e.display.view.length;l++){var c=e.display.view[l];if(c.node==s)return Tp(c,i,o)}}function Tp(e,i,o){var s=e.text.firstChild,l=!1;if(!i||!me(s,i))return Fr(ee(ze(e.line),0),!0);if(i==s&&(l=!0,i=s.childNodes[o],o=0,!i)){var c=e.rest?Oe(e.rest):e.line;return Fr(ee(ze(c),c.text.length),l)}var h=i.nodeType==3?i:null,p=i;for(!h&&i.childNodes.length==1&&i.firstChild.nodeType==3&&(h=i.firstChild,o&&(o=h.nodeValue.length));p.parentNode!=s;)p=p.parentNode;var g=e.measure,v=g.maps;function A(ne,le,ce){for(var ue=-1;ue<(v?v.length:0);ue++)for(var fe=ue<0?g.map:v[ue],xe=0;xe<fe.length;xe+=3){var be=fe[xe+2];if(be==ne||be==le){var Te=ze(ue<0?e.line:e.rest[ue]),qe=fe[xe]+ce;return(ce<0||be!=ne)&&(qe=fe[xe+(ce?1:0)]),ee(Te,qe)}}}var F=A(h,p,o);if(F)return Fr(F,l);for(var z=p.nextSibling,j=h?h.nodeValue.length-o:0;z;z=z.nextSibling){if(F=A(z,z.firstChild,0),F)return Fr(ee(F.line,F.ch-j),l);j+=z.textContent.length}for(var K=p.previousSibling,J=o;K;K=K.previousSibling){if(F=A(K,K.firstChild,-1),F)return Fr(ee(F.line,F.ch+J),l);J+=K.textContent.length}}var Je=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new ot,this.hasSelection=!1,this.composing=null,this.resetting=!1};Je.prototype.init=function(e){var i=this,o=this,s=this.cm;this.createField(e);var l=this.textarea;e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),D&&(l.style.width="0px"),Z(l,"input",function(){y&&E>=9&&i.hasSelection&&(i.hasSelection=null),o.poll()}),Z(l,"paste",function(h){_e(s,h)||hc(h,s)||(s.state.pasteIncoming=+new Date,o.fastPoll())});function c(h){if(!_e(s,h)){if(s.somethingSelected())ls({lineWise:!1,text:s.getSelections()});else if(s.options.lineWiseCopyCut){var p=fc(s);ls({lineWise:!0,text:p.text}),h.type=="cut"?s.setSelections(p.ranges,null,Pe):(o.prevInput="",l.value=p.text.join(`
`),P(l))}else return;h.type=="cut"&&(s.state.cutIncoming=+new Date)}}Z(l,"cut",c),Z(l,"copy",c),Z(e.scroller,"paste",function(h){if(!(ci(e,h)||_e(s,h))){if(!l.dispatchEvent){s.state.pasteIncoming=+new Date,o.focus();return}var p=new Event("paste");p.clipboardData=h.clipboardData,l.dispatchEvent(p)}}),Z(e.lineSpace,"selectstart",function(h){ci(e,h)||tt(h)}),Z(l,"compositionstart",function(){var h=s.getCursor("from");o.composing&&o.composing.range.clear(),o.composing={start:h,range:s.markText(h,s.getCursor("to"),{className:"CodeMirror-composing"})}}),Z(l,"compositionend",function(){o.composing&&(o.poll(),o.composing.range.clear(),o.composing=null)})},Je.prototype.createField=function(e){this.wrapper=pc(),this.textarea=this.wrapper.firstChild;var i=this.cm.options;da(this.textarea,i.spellcheck,i.autocorrect,i.autocapitalize)},Je.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},Je.prototype.prepareSelection=function(){var e=this.cm,i=e.display,o=e.doc,s=su(e);if(e.options.moveInputWithCursor){var l=Vt(e,o.sel.primary().head,"div"),c=i.wrapper.getBoundingClientRect(),h=i.lineDiv.getBoundingClientRect();s.teTop=Math.max(0,Math.min(i.wrapper.clientHeight-10,l.top+h.top-c.top)),s.teLeft=Math.max(0,Math.min(i.wrapper.clientWidth-10,l.left+h.left-c.left))}return s},Je.prototype.showSelection=function(e){var i=this.cm,o=i.display;ve(o.cursorDiv,e.cursors),ve(o.selectionDiv,e.selection),e.teTop!=null&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},Je.prototype.reset=function(e){if(!(this.contextMenuPending||this.composing&&e)){var i=this.cm;if(this.resetting=!0,i.somethingSelected()){this.prevInput="";var o=i.getSelection();this.textarea.value=o,i.state.focused&&P(this.textarea),y&&E>=9&&(this.hasSelection=o)}else e||(this.prevInput=this.textarea.value="",y&&E>=9&&(this.hasSelection=null));this.resetting=!1}},Je.prototype.getField=function(){return this.textarea},Je.prototype.supportsTouch=function(){return!1},Je.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!x||Ie(this.textarea.ownerDocument)!=this.textarea))try{this.textarea.focus()}catch{}},Je.prototype.blur=function(){this.textarea.blur()},Je.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Je.prototype.receivedFocus=function(){this.slowPoll()},Je.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},Je.prototype.fastPoll=function(){var e=!1,i=this;i.pollingFast=!0;function o(){var s=i.poll();!s&&!e?(e=!0,i.polling.set(60,o)):(i.pollingFast=!1,i.slowPoll())}i.polling.set(20,o)},Je.prototype.poll=function(){var e=this,i=this.cm,o=this.textarea,s=this.prevInput;if(this.contextMenuPending||this.resetting||!i.state.focused||Ld(o)&&!s&&!this.composing||i.isReadOnly()||i.options.disableInput||i.state.keySeq)return!1;var l=o.value;if(l==s&&!i.somethingSelected())return!1;if(y&&E>=9&&this.hasSelection===l||S&&/[\uf700-\uf7ff]/.test(l))return i.display.input.reset(),!1;if(i.doc.sel==i.display.selForContextMenu){var c=l.charCodeAt(0);if(c==8203&&!s&&(s=""),c==8666)return this.reset(),this.cm.execCommand("undo")}for(var h=0,p=Math.min(s.length,l.length);h<p&&s.charCodeAt(h)==l.charCodeAt(h);)++h;return Tt(i,function(){ha(i,l.slice(h),s.length-h,null,e.composing?"*compose":null),l.length>1e3||l.indexOf(`
`)>-1?o.value=e.prevInput="":e.prevInput=l,e.composing&&(e.composing.range.clear(),e.composing.range=i.markText(e.composing.start,i.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Je.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Je.prototype.onKeyPress=function(){y&&E>=9&&(this.hasSelection=null),this.fastPoll()},Je.prototype.onContextMenu=function(e){var i=this,o=i.cm,s=o.display,l=i.textarea;i.contextMenuPending&&i.contextMenuPending();var c=Gi(o,e),h=s.scroller.scrollTop;if(!c||U)return;var p=o.options.resetSelectionOnContextMenu;p&&o.doc.sel.contains(c)==-1&&ut(o,mt)(o.doc,Fi(c),Pe);var g=l.style.cssText,v=i.wrapper.style.cssText,A=i.wrapper.offsetParent.getBoundingClientRect();i.wrapper.style.cssText="position: static",l.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(e.clientY-A.top-5)+"px; left: "+(e.clientX-A.left-5)+`px;
      z-index: 1000; background: `+(y?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var F;B&&(F=l.ownerDocument.defaultView.scrollY),s.input.focus(),B&&l.ownerDocument.defaultView.scrollTo(null,F),s.input.reset(),o.somethingSelected()||(l.value=i.prevInput=" "),i.contextMenuPending=j,s.selForContextMenu=o.doc.sel,clearTimeout(s.detectingSelectAll);function z(){if(l.selectionStart!=null){var J=o.somethingSelected(),ne=""+(J?l.value:"");l.value="",l.value=ne,i.prevInput=J?"":"",l.selectionStart=1,l.selectionEnd=ne.length,s.selForContextMenu=o.doc.sel}}function j(){if(i.contextMenuPending==j&&(i.contextMenuPending=!1,i.wrapper.style.cssText=v,l.style.cssText=g,y&&E<9&&s.scrollbars.setScrollTop(s.scroller.scrollTop=h),l.selectionStart!=null)){(!y||y&&E<9)&&z();var J=0,ne=function(){s.selForContextMenu==o.doc.sel&&l.selectionStart==0&&l.selectionEnd>0&&i.prevInput==""?ut(o,Pu)(o):J++<10?s.detectingSelectAll=setTimeout(ne,500):(s.selForContextMenu=null,s.input.reset())};s.detectingSelectAll=setTimeout(ne,200)}}if(y&&E>=9&&z(),Be){Ht(e);var K=function(){re(window,"mouseup",K),setTimeout(j,20)};Z(window,"mouseup",K)}else setTimeout(j,50)},Je.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled=e=="nocursor",this.textarea.readOnly=!!e},Je.prototype.setUneditable=function(){},Je.prototype.needsContentAttribute=!1;function Mp(e,i){if(i=i?Ae(i):{},i.value=e.value,!i.tabindex&&e.tabIndex&&(i.tabindex=e.tabIndex),!i.placeholder&&e.placeholder&&(i.placeholder=e.placeholder),i.autofocus==null){var o=Ie(e.ownerDocument);i.autofocus=o==e||e.getAttribute("autofocus")!=null&&o==document.body}function s(){e.value=p.getValue()}var l;if(e.form&&(Z(e.form,"submit",s),!i.leaveSubmitMethodAlone)){var c=e.form;l=c.submit;try{var h=c.submit=function(){s(),c.submit=l,c.submit(),c.submit=h}}catch{}}i.finishInit=function(g){g.save=s,g.getTextArea=function(){return e},g.toTextArea=function(){g.toTextArea=isNaN,s(),e.parentNode.removeChild(g.getWrapperElement()),e.style.display="",e.form&&(re(e.form,"submit",s),!i.leaveSubmitMethodAlone&&typeof e.form.submit=="function"&&(e.form.submit=l))}},e.style.display="none";var p=Ve(function(g){return e.parentNode.insertBefore(g,e.nextSibling)},i);return p}function Bp(e){e.off=re,e.on=Z,e.wheelEventPixels=jf,e.Doc=St,e.splitLines=po,e.countColumn=je,e.findColumn=we,e.isWordChar=$,e.Pass=at,e.signal=De,e.Line=fr,e.changeEnd=Ti,e.scrollbarModel=hu,e.Pos=ee,e.cmpPos=Le,e.modes=mo,e.mimeModes=hr,e.resolveMode=Bn,e.getMode=vo,e.modeExtensions=dr,e.extendMode=Od,e.copyState=$i,e.startState=vl,e.innerMode=yo,e.commands=dn,e.keyMap=di,e.keyName=Zu,e.isModifierKey=Xu,e.lookupKey=Dr,e.normalizeKeyMap=ap,e.StringStream=it,e.SharedTextMarker=un,e.TextMarker=Bi,e.LineWidget=ln,e.e_preventDefault=tt,e.e_stopPropagation=Si,e.e_stop=Ht,e.addClass=Qe,e.contains=me,e.rmClass=ke,e.keyNames=Oi}kp(Ve),Ap(Ve);var Op="iter insert remove copy getEditor constructor".split(" ");for(var cs in St.prototype)St.prototype.hasOwnProperty(cs)&&$e(Op,cs)<0&&(Ve.prototype[cs]=function(e){return function(){return e.apply(this.doc,arguments)}}(St.prototype[cs]));return Ge(St),Ve.inputStyles={textarea:Je,contenteditable:We},Ve.defineMode=function(e){!Ve.defaults.mode&&e!="null"&&(Ve.defaults.mode=e),Md.apply(this,arguments)},Ve.defineMIME=Bd,Ve.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),Ve.defineMIME("text/plain","null"),Ve.defineExtension=function(e,i){Ve.prototype[e]=i},Ve.defineDocExtension=function(e,i){St.prototype[e]=i},Ve.fromTextArea=Mp,Bp(Ve),Ve.version="5.65.14",Ve})})(nd);var It=nd.exports;(function(n,t){(function(r){r(It)})(function(r){var a=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,u=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,f=/[*+-]\s/;r.commands.newlineAndIndentContinueMarkdownList=function(m){if(m.getOption("disableInput"))return r.Pass;for(var y=m.listSelections(),E=[],B=0;B<y.length;B++){var M=y[B].head,_=m.getStateAfter(M.line),W=r.innerMode(m.getMode(),_);if(W.mode.name!=="markdown"&&W.mode.helperType!=="markdown"){m.execCommand("newlineAndIndent");return}else _=W.state;var U=_.list!==!1,X=_.quote!==0,V=m.getLine(M.line),O=a.exec(V),D=/^\s*$/.test(V.slice(0,M.ch));if(!y[B].empty()||!U&&!X||!O||D){m.execCommand("newlineAndIndent");return}if(u.test(V)){var C=X&&/>\s*$/.test(V),x=!/>\s*$/.test(V);(C||x)&&m.replaceRange("",{line:M.line,ch:0},{line:M.line,ch:M.ch+1}),E[B]=`
`}else{var S=O[1],L=O[5],G=!(f.test(O[2])||O[2].indexOf(">")>=0),te=G?parseInt(O[3],10)+1+O[4]:O[2].replace("x"," ");E[B]=`
`+S+te+L,G&&d(m,M)}}m.replaceSelections(E)};function d(m,y){var E=y.line,B=0,M=0,_=a.exec(m.getLine(E)),W=_[1];do{B+=1;var U=E+B,X=m.getLine(U),V=a.exec(X);if(V){var O=V[1],D=parseInt(_[3],10)+B-M,C=parseInt(V[3],10),x=C;if(W===O&&!isNaN(C))D===C&&(x=C+1),D>C&&(x=D+1),m.replaceRange(X.replace(a,O+x+V[4]+V[5]),{line:U,ch:0},{line:U,ch:X.length});else{if(W.length>O.length||W.length<O.length&&B===1)return;M+=1}}}while(V)}})})();var sd=It;sd.commands.tabAndIndentMarkdownList=function(n){var t=n.listSelections(),r=t[0].head,a=n.getStateAfter(r.line),u=a.list!==!1;if(u){n.execCommand("indentMore");return}if(n.options.indentWithTabs)n.execCommand("insertTab");else{var f=Array(n.options.tabSize+1).join(" ");n.replaceSelection(f)}};sd.commands.shiftTabAndUnindentMarkdownList=function(n){var t=n.listSelections(),r=t[0].head,a=n.getStateAfter(r.line),u=a.list!==!1;if(u){n.execCommand("indentLess");return}if(n.options.indentWithTabs)n.execCommand("insertTab");else{var f=Array(n.options.tabSize+1).join(" ");n.replaceSelection(f)}};(function(n,t){(function(r){r(It)})(function(r){r.defineOption("fullScreen",!1,function(f,d,m){m==r.Init&&(m=!1),!m!=!d&&(d?a(f):u(f))});function a(f){var d=f.getWrapperElement();f.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:d.style.width,height:d.style.height},d.style.width="",d.style.height="auto",d.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",f.refresh()}function u(f){var d=f.getWrapperElement();d.className=d.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="";var m=f.state.fullScreenRestore;d.style.width=m.width,d.style.height=m.height,window.scrollTo(m.scrollLeft,m.scrollTop),f.refresh()}})})();var rb={exports:{}},nb={exports:{}};(function(n,t){(function(r){r(It)})(function(r){var a={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},u={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};r.defineMode("xml",function(f,d){var m=f.indentUnit,y={},E=d.htmlMode?a:u;for(var B in E)y[B]=E[B];for(var B in d)y[B]=d[B];var M,_;function W(N,ie){function Q(Qe){return ie.tokenize=Qe,Qe(N,ie)}var me=N.next();if(me=="<")return N.eat("!")?N.eat("[")?N.match("CDATA[")?Q(V("atom","]]>")):null:N.match("--")?Q(V("comment","-->")):N.match("DOCTYPE",!0,!0)?(N.eatWhile(/[\w\._\-]/),Q(O(1))):null:N.eat("?")?(N.eatWhile(/[\w\._\-]/),ie.tokenize=V("meta","?>"),"meta"):(M=N.eat("/")?"closeTag":"openTag",ie.tokenize=U,"tag bracket");if(me=="&"){var Ie;return N.eat("#")?N.eat("x")?Ie=N.eatWhile(/[a-fA-F\d]/)&&N.eat(";"):Ie=N.eatWhile(/[\d]/)&&N.eat(";"):Ie=N.eatWhile(/[\w\.\-:]/)&&N.eat(";"),Ie?"atom":"error"}else return N.eatWhile(/[^&<]/),null}W.isInText=!0;function U(N,ie){var Q=N.next();if(Q==">"||Q=="/"&&N.eat(">"))return ie.tokenize=W,M=Q==">"?"endTag":"selfcloseTag","tag bracket";if(Q=="=")return M="equals",null;if(Q=="<"){ie.tokenize=W,ie.state=L,ie.tagName=ie.tagStart=null;var me=ie.tokenize(N,ie);return me?me+" tag error":"tag error"}else return/[\'\"]/.test(Q)?(ie.tokenize=X(Q),ie.stringStartCol=N.column(),ie.tokenize(N,ie)):(N.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function X(N){var ie=function(Q,me){for(;!Q.eol();)if(Q.next()==N){me.tokenize=U;break}return"string"};return ie.isInAttribute=!0,ie}function V(N,ie){return function(Q,me){for(;!Q.eol();){if(Q.match(ie)){me.tokenize=W;break}Q.next()}return N}}function O(N){return function(ie,Q){for(var me;(me=ie.next())!=null;){if(me=="<")return Q.tokenize=O(N+1),Q.tokenize(ie,Q);if(me==">")if(N==1){Q.tokenize=W;break}else return Q.tokenize=O(N-1),Q.tokenize(ie,Q)}return"meta"}}function D(N){return N&&N.toLowerCase()}function C(N,ie,Q){this.prev=N.context,this.tagName=ie||"",this.indent=N.indented,this.startOfLine=Q,(y.doNotIndent.hasOwnProperty(ie)||N.context&&N.context.noIndent)&&(this.noIndent=!0)}function x(N){N.context&&(N.context=N.context.prev)}function S(N,ie){for(var Q;;){if(!N.context||(Q=N.context.tagName,!y.contextGrabbers.hasOwnProperty(D(Q))||!y.contextGrabbers[D(Q)].hasOwnProperty(D(ie))))return;x(N)}}function L(N,ie,Q){return N=="openTag"?(Q.tagStart=ie.column(),G):N=="closeTag"?te:L}function G(N,ie,Q){return N=="word"?(Q.tagName=ie.current(),_="tag",se):y.allowMissingTagName&&N=="endTag"?(_="tag bracket",se(N,ie,Q)):(_="error",G)}function te(N,ie,Q){if(N=="word"){var me=ie.current();return Q.context&&Q.context.tagName!=me&&y.implicitlyClosed.hasOwnProperty(D(Q.context.tagName))&&x(Q),Q.context&&Q.context.tagName==me||y.matchClosing===!1?(_="tag",oe):(_="tag error",Be)}else return y.allowMissingTagName&&N=="endTag"?(_="tag bracket",oe(N,ie,Q)):(_="error",Be)}function oe(N,ie,Q){return N!="endTag"?(_="error",oe):(x(Q),L)}function Be(N,ie,Q){return _="error",oe(N,ie,Q)}function se(N,ie,Q){if(N=="word")return _="attribute",ke;if(N=="endTag"||N=="selfcloseTag"){var me=Q.tagName,Ie=Q.tagStart;return Q.tagName=Q.tagStart=null,N=="selfcloseTag"||y.autoSelfClosers.hasOwnProperty(D(me))?S(Q,me):(S(Q,me),Q.context=new C(Q,me,Ie==Q.indented)),L}return _="error",se}function ke(N,ie,Q){return N=="equals"?Se:(y.allowMissing||(_="error"),se(N,ie,Q))}function Se(N,ie,Q){return N=="string"?ve:N=="word"&&y.allowUnquoted?(_="string",se):(_="error",se(N,ie,Q))}function ve(N,ie,Q){return N=="string"?ve:se(N,ie,Q)}return{startState:function(N){var ie={tokenize:W,state:L,indented:N||0,tagName:null,tagStart:null,context:null};return N!=null&&(ie.baseIndent=N),ie},token:function(N,ie){if(!ie.tagName&&N.sol()&&(ie.indented=N.indentation()),N.eatSpace())return null;M=null;var Q=ie.tokenize(N,ie);return(Q||M)&&Q!="comment"&&(_=null,ie.state=ie.state(M||Q,N,ie),_&&(Q=_=="error"?Q+" error":_)),Q},indent:function(N,ie,Q){var me=N.context;if(N.tokenize.isInAttribute)return N.tagStart==N.indented?N.stringStartCol+1:N.indented+m;if(me&&me.noIndent)return r.Pass;if(N.tokenize!=U&&N.tokenize!=W)return Q?Q.match(/^(\s*)/)[0].length:0;if(N.tagName)return y.multilineTagIndentPastTag!==!1?N.tagStart+N.tagName.length+2:N.tagStart+m*(y.multilineTagIndentFactor||1);if(y.alignCDATA&&/<!\[CDATA\[/.test(ie))return 0;var Ie=ie&&/^<(\/)?([\w_:\.-]*)/.exec(ie);if(Ie&&Ie[1])for(;me;)if(me.tagName==Ie[2]){me=me.prev;break}else if(y.implicitlyClosed.hasOwnProperty(D(me.tagName)))me=me.prev;else break;else if(Ie)for(;me;){var Qe=y.contextGrabbers[D(me.tagName)];if(Qe&&Qe.hasOwnProperty(D(Ie[2])))me=me.prev;else break}for(;me&&me.prev&&!me.startOfLine;)me=me.prev;return me?me.indent+m:N.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:y.htmlMode?"html":"xml",helperType:y.htmlMode?"html":"xml",skipAttribute:function(N){N.state==Se&&(N.state=se)},xmlCurrentTag:function(N){return N.tagName?{name:N.tagName,close:N.type=="closeTag"}:null},xmlCurrentContext:function(N){for(var ie=[],Q=N.context;Q;Q=Q.prev)ie.push(Q.tagName);return ie.reverse()}}}),r.defineMIME("text/xml","xml"),r.defineMIME("application/xml","xml"),r.mimeModes.hasOwnProperty("text/html")||r.defineMIME("text/html",{name:"xml",htmlMode:!0})})})();var sb=nb.exports,Zc={exports:{}},Jc;function ob(){return Jc||(Jc=1,function(n,t){(function(r){r(It)})(function(r){r.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy","cbl"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"],alias:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var a=0;a<r.modeInfo.length;a++){var u=r.modeInfo[a];u.mimes&&(u.mime=u.mimes[0])}r.findModeByMIME=function(f){f=f.toLowerCase();for(var d=0;d<r.modeInfo.length;d++){var m=r.modeInfo[d];if(m.mime==f)return m;if(m.mimes){for(var y=0;y<m.mimes.length;y++)if(m.mimes[y]==f)return m}}if(/\+xml$/.test(f))return r.findModeByMIME("application/xml");if(/\+json$/.test(f))return r.findModeByMIME("application/json")},r.findModeByExtension=function(f){f=f.toLowerCase();for(var d=0;d<r.modeInfo.length;d++){var m=r.modeInfo[d];if(m.ext){for(var y=0;y<m.ext.length;y++)if(m.ext[y]==f)return m}}},r.findModeByFileName=function(f){for(var d=0;d<r.modeInfo.length;d++){var m=r.modeInfo[d];if(m.file&&m.file.test(f))return m}var y=f.lastIndexOf("."),E=y>-1&&f.substring(y+1,f.length);if(E)return r.findModeByExtension(E)},r.findModeByName=function(f){f=f.toLowerCase();for(var d=0;d<r.modeInfo.length;d++){var m=r.modeInfo[d];if(m.name.toLowerCase()==f)return m;if(m.alias){for(var y=0;y<m.alias.length;y++)if(m.alias[y].toLowerCase()==f)return m}}}})}()),Zc.exports}(function(n,t){(function(r){r(It,sb,ob())})(function(r){r.defineMode("markdown",function(a,u){var f=r.getMode(a,"text/html"),d=f.name=="null";function m(P){if(r.findModeByName){var b=r.findModeByName(P);b&&(P=b.mime||b.mimes[0])}var Y=r.getMode(a,P);return Y.name=="null"?null:Y}u.highlightFormatting===void 0&&(u.highlightFormatting=!1),u.maxBlockquoteDepth===void 0&&(u.maxBlockquoteDepth=0),u.taskLists===void 0&&(u.taskLists=!1),u.strikethrough===void 0&&(u.strikethrough=!1),u.emoji===void 0&&(u.emoji=!1),u.fencedCodeBlockHighlighting===void 0&&(u.fencedCodeBlockHighlighting=!0),u.fencedCodeBlockDefaultMode===void 0&&(u.fencedCodeBlockDefaultMode="text/plain"),u.xml===void 0&&(u.xml=!0),u.tokenTypeOverrides===void 0&&(u.tokenTypeOverrides={});var y={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var E in y)y.hasOwnProperty(E)&&u.tokenTypeOverrides[E]&&(y[E]=u.tokenTypeOverrides[E]);var B=/^([*\-_])(?:\s*\1){2,}\s*$/,M=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,_=/^\[(x| )\](?=\s)/i,W=u.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,U=/^ {0,3}(?:\={1,}|-{2,})\s*$/,X=/^[^#!\[\]*_\\<>` "'(~:]+/,V=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,O=/^\s*\[[^\]]+?\]:.*$/,D=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/,C="    ";function x(P,b,Y){return b.f=b.inline=Y,Y(P,b)}function S(P,b,Y){return b.f=b.block=Y,Y(P,b)}function L(P){return!P||!/\S/.test(P.string)}function G(P){if(P.linkTitle=!1,P.linkHref=!1,P.linkText=!1,P.em=!1,P.strong=!1,P.strikethrough=!1,P.quote=0,P.indentedCode=!1,P.f==oe){var b=d;if(!b){var Y=r.innerMode(f,P.htmlState);b=Y.mode.name=="xml"&&Y.state.tagStart===null&&!Y.state.context&&Y.state.tokenize.isInText}b&&(P.f=Se,P.block=te,P.htmlState=null)}return P.trailingSpace=0,P.trailingSpaceNewLine=!1,P.prevLine=P.thisLine,P.thisLine={stream:null},null}function te(P,b){var Y=P.column()===b.indentation,He=L(b.prevLine.stream),Ae=b.indentedCode,je=b.prevLine.hr,ot=b.list!==!1,$e=(b.listStack[b.listStack.length-1]||0)+3;b.indentedCode=!1;var Ft=b.indentation;if(b.indentationDiff===null&&(b.indentationDiff=b.indentation,ot)){for(b.list=null;Ft<b.listStack[b.listStack.length-1];)b.listStack.pop(),b.listStack.length?b.indentation=b.listStack[b.listStack.length-1]:b.list=!1;b.list!==!1&&(b.indentationDiff=Ft-b.listStack[b.listStack.length-1])}var at=!He&&!je&&!b.prevLine.header&&(!ot||!Ae)&&!b.prevLine.fencedCodeEnd,Pe=(b.list===!1||je||He)&&b.indentation<=$e&&P.match(B),et=null;if(b.indentationDiff>=4&&(Ae||b.prevLine.fencedCodeEnd||b.prevLine.header||He))return P.skipToEnd(),b.indentedCode=!0,y.code;if(P.eatSpace())return null;if(Y&&b.indentation<=$e&&(et=P.match(W))&&et[1].length<=6)return b.quote=0,b.header=et[1].length,b.thisLine.header=!0,u.highlightFormatting&&(b.formatting="header"),b.f=b.inline,se(b);if(b.indentation<=$e&&P.eat(">"))return b.quote=Y?1:b.quote+1,u.highlightFormatting&&(b.formatting="quote"),P.eatSpace(),se(b);if(!Pe&&!b.setext&&Y&&b.indentation<=$e&&(et=P.match(M))){var Ot=et[1]?"ol":"ul";return b.indentation=Ft+P.current().length,b.list=!0,b.quote=0,b.listStack.push(b.indentation),b.em=!1,b.strong=!1,b.code=!1,b.strikethrough=!1,u.taskLists&&P.match(_,!1)&&(b.taskList=!0),b.f=b.inline,u.highlightFormatting&&(b.formatting=["list","list-"+Ot]),se(b)}else{if(Y&&b.indentation<=$e&&(et=P.match(V,!0)))return b.quote=0,b.fencedEndRE=new RegExp(et[1]+"+ *$"),b.localMode=u.fencedCodeBlockHighlighting&&m(et[2]||u.fencedCodeBlockDefaultMode),b.localMode&&(b.localState=r.startState(b.localMode)),b.f=b.block=Be,u.highlightFormatting&&(b.formatting="code-block"),b.code=-1,se(b);if(b.setext||(!at||!ot)&&!b.quote&&b.list===!1&&!b.code&&!Pe&&!O.test(P.string)&&(et=P.lookAhead(1))&&(et=et.match(U)))return b.setext?(b.header=b.setext,b.setext=0,P.skipToEnd(),u.highlightFormatting&&(b.formatting="header")):(b.header=et[0].charAt(0)=="="?1:2,b.setext=b.header),b.thisLine.header=!0,b.f=b.inline,se(b);if(Pe)return P.skipToEnd(),b.hr=!0,b.thisLine.hr=!0,y.hr;if(P.peek()==="[")return x(P,b,me)}return x(P,b,b.inline)}function oe(P,b){var Y=f.token(P,b.htmlState);if(!d){var He=r.innerMode(f,b.htmlState);(He.mode.name=="xml"&&He.state.tagStart===null&&!He.state.context&&He.state.tokenize.isInText||b.md_inside&&P.current().indexOf(">")>-1)&&(b.f=Se,b.block=te,b.htmlState=null)}return Y}function Be(P,b){var Y=b.listStack[b.listStack.length-1]||0,He=b.indentation<Y,Ae=Y+3;if(b.fencedEndRE&&b.indentation<=Ae&&(He||P.match(b.fencedEndRE))){u.highlightFormatting&&(b.formatting="code-block");var je;return He||(je=se(b)),b.localMode=b.localState=null,b.block=te,b.f=Se,b.fencedEndRE=null,b.code=0,b.thisLine.fencedCodeEnd=!0,He?S(P,b,b.block):je}else return b.localMode?b.localMode.token(P,b.localState):(P.skipToEnd(),y.code)}function se(P){var b=[];if(P.formatting){b.push(y.formatting),typeof P.formatting=="string"&&(P.formatting=[P.formatting]);for(var Y=0;Y<P.formatting.length;Y++)b.push(y.formatting+"-"+P.formatting[Y]),P.formatting[Y]==="header"&&b.push(y.formatting+"-"+P.formatting[Y]+"-"+P.header),P.formatting[Y]==="quote"&&(!u.maxBlockquoteDepth||u.maxBlockquoteDepth>=P.quote?b.push(y.formatting+"-"+P.formatting[Y]+"-"+P.quote):b.push("error"))}if(P.taskOpen)return b.push("meta"),b.length?b.join(" "):null;if(P.taskClosed)return b.push("property"),b.length?b.join(" "):null;if(P.linkHref?b.push(y.linkHref,"url"):(P.strong&&b.push(y.strong),P.em&&b.push(y.em),P.strikethrough&&b.push(y.strikethrough),P.emoji&&b.push(y.emoji),P.linkText&&b.push(y.linkText),P.code&&b.push(y.code),P.image&&b.push(y.image),P.imageAltText&&b.push(y.imageAltText,"link"),P.imageMarker&&b.push(y.imageMarker)),P.header&&b.push(y.header,y.header+"-"+P.header),P.quote&&(b.push(y.quote),!u.maxBlockquoteDepth||u.maxBlockquoteDepth>=P.quote?b.push(y.quote+"-"+P.quote):b.push(y.quote+"-"+u.maxBlockquoteDepth)),P.list!==!1){var He=(P.listStack.length-1)%3;He?He===1?b.push(y.list2):b.push(y.list3):b.push(y.list1)}return P.trailingSpaceNewLine?b.push("trailing-space-new-line"):P.trailingSpace&&b.push("trailing-space-"+(P.trailingSpace%2?"a":"b")),b.length?b.join(" "):null}function ke(P,b){if(P.match(X,!0))return se(b)}function Se(P,b){var Y=b.text(P,b);if(typeof Y<"u")return Y;if(b.list)return b.list=null,se(b);if(b.taskList){var He=P.match(_,!0)[1]===" ";return He?b.taskOpen=!0:b.taskClosed=!0,u.highlightFormatting&&(b.formatting="task"),b.taskList=!1,se(b)}if(b.taskOpen=!1,b.taskClosed=!1,b.header&&P.match(/^#+$/,!0))return u.highlightFormatting&&(b.formatting="header"),se(b);var Ae=P.next();if(b.linkTitle){b.linkTitle=!1;var je=Ae;Ae==="("&&(je=")"),je=(je+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1");var ot="^\\s*(?:[^"+je+"\\\\]+|\\\\\\\\|\\\\.)"+je;if(P.match(new RegExp(ot),!0))return y.linkHref}if(Ae==="`"){var $e=b.formatting;u.highlightFormatting&&(b.formatting="code"),P.eatWhile("`");var Ft=P.current().length;if(b.code==0&&(!b.quote||Ft==1))return b.code=Ft,se(b);if(Ft==b.code){var at=se(b);return b.code=0,at}else return b.formatting=$e,se(b)}else if(b.code)return se(b);if(Ae==="\\"&&(P.next(),u.highlightFormatting)){var Pe=se(b),et=y.formatting+"-escape";return Pe?Pe+" "+et:et}if(Ae==="!"&&P.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return b.imageMarker=!0,b.image=!0,u.highlightFormatting&&(b.formatting="image"),se(b);if(Ae==="["&&b.imageMarker&&P.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return b.imageMarker=!1,b.imageAltText=!0,u.highlightFormatting&&(b.formatting="image"),se(b);if(Ae==="]"&&b.imageAltText){u.highlightFormatting&&(b.formatting="image");var Pe=se(b);return b.imageAltText=!1,b.image=!1,b.inline=b.f=N,Pe}if(Ae==="["&&!b.image)return b.linkText&&P.match(/^.*?\]/)||(b.linkText=!0,u.highlightFormatting&&(b.formatting="link")),se(b);if(Ae==="]"&&b.linkText){u.highlightFormatting&&(b.formatting="link");var Pe=se(b);return b.linkText=!1,b.inline=b.f=P.match(/\(.*?\)| ?\[.*?\]/,!1)?N:Se,Pe}if(Ae==="<"&&P.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){b.f=b.inline=ve,u.highlightFormatting&&(b.formatting="link");var Pe=se(b);return Pe?Pe+=" ":Pe="",Pe+y.linkInline}if(Ae==="<"&&P.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){b.f=b.inline=ve,u.highlightFormatting&&(b.formatting="link");var Pe=se(b);return Pe?Pe+=" ":Pe="",Pe+y.linkEmail}if(u.xml&&Ae==="<"&&P.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var Ot=P.string.indexOf(">",P.pos);if(Ot!=-1){var we=P.string.substring(P.start,Ot);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(we)&&(b.md_inside=!0)}return P.backUp(1),b.htmlState=r.startState(f),S(P,b,oe)}if(u.xml&&Ae==="<"&&P.match(/^\/\w*?>/))return b.md_inside=!1,"tag";if(Ae==="*"||Ae==="_"){for(var zt=1,Nt=P.pos==1?" ":P.string.charAt(P.pos-2);zt<3&&P.eat(Ae);)zt++;var Oe=P.peek()||" ",Wt=!/\s/.test(Oe)&&(!D.test(Oe)||/\s/.test(Nt)||D.test(Nt)),ki=!/\s/.test(Nt)&&(!D.test(Nt)||/\s/.test(Oe)||D.test(Oe)),$t=null,qt=null;if(zt%2&&(!b.em&&Wt&&(Ae==="*"||!ki||D.test(Nt))?$t=!0:b.em==Ae&&ki&&(Ae==="*"||!Wt||D.test(Oe))&&($t=!1)),zt>1&&(!b.strong&&Wt&&(Ae==="*"||!ki||D.test(Nt))?qt=!0:b.strong==Ae&&ki&&(Ae==="*"||!Wt||D.test(Oe))&&(qt=!1)),qt!=null||$t!=null){u.highlightFormatting&&(b.formatting=$t==null?"strong":qt==null?"em":"strong em"),$t===!0&&(b.em=Ae),qt===!0&&(b.strong=Ae);var at=se(b);return $t===!1&&(b.em=!1),qt===!1&&(b.strong=!1),at}}else if(Ae===" "&&(P.eat("*")||P.eat("_"))){if(P.peek()===" ")return se(b);P.backUp(1)}if(u.strikethrough){if(Ae==="~"&&P.eatWhile(Ae)){if(b.strikethrough){u.highlightFormatting&&(b.formatting="strikethrough");var at=se(b);return b.strikethrough=!1,at}else if(P.match(/^[^\s]/,!1))return b.strikethrough=!0,u.highlightFormatting&&(b.formatting="strikethrough"),se(b)}else if(Ae===" "&&P.match("~~",!0)){if(P.peek()===" ")return se(b);P.backUp(2)}}if(u.emoji&&Ae===":"&&P.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){b.emoji=!0,u.highlightFormatting&&(b.formatting="emoji");var zr=se(b);return b.emoji=!1,zr}return Ae===" "&&(P.match(/^ +$/,!1)?b.trailingSpace++:b.trailingSpace&&(b.trailingSpaceNewLine=!0)),se(b)}function ve(P,b){var Y=P.next();if(Y===">"){b.f=b.inline=Se,u.highlightFormatting&&(b.formatting="link");var He=se(b);return He?He+=" ":He="",He+y.linkInline}return P.match(/^[^>]+/,!0),y.linkInline}function N(P,b){if(P.eatSpace())return null;var Y=P.next();return Y==="("||Y==="["?(b.f=b.inline=Q(Y==="("?")":"]"),u.highlightFormatting&&(b.formatting="link-string"),b.linkHref=!0,se(b)):"error"}var ie={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function Q(P){return function(b,Y){var He=b.next();if(He===P){Y.f=Y.inline=Se,u.highlightFormatting&&(Y.formatting="link-string");var Ae=se(Y);return Y.linkHref=!1,Ae}return b.match(ie[P]),Y.linkHref=!0,se(Y)}}function me(P,b){return P.match(/^([^\]\\]|\\.)*\]:/,!1)?(b.f=Ie,P.next(),u.highlightFormatting&&(b.formatting="link"),b.linkText=!0,se(b)):x(P,b,Se)}function Ie(P,b){if(P.match("]:",!0)){b.f=b.inline=Qe,u.highlightFormatting&&(b.formatting="link");var Y=se(b);return b.linkText=!1,Y}return P.match(/^([^\]\\]|\\.)+/,!0),y.linkText}function Qe(P,b){return P.eatSpace()?null:(P.match(/^[^\s]+/,!0),P.peek()===void 0?b.linkTitle=!0:P.match(/^(?:\s+(?:"(?:[^"\\]|\\.)+"|'(?:[^'\\]|\\.)+'|\((?:[^)\\]|\\.)+\)))?/,!0),b.f=b.inline=Se,y.linkHref+" url")}var Jt={startState:function(){return{f:te,prevLine:{stream:null},thisLine:{stream:null},block:te,htmlState:null,indentation:0,inline:Se,text:ke,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(P){return{f:P.f,prevLine:P.prevLine,thisLine:P.thisLine,block:P.block,htmlState:P.htmlState&&r.copyState(f,P.htmlState),indentation:P.indentation,localMode:P.localMode,localState:P.localMode?r.copyState(P.localMode,P.localState):null,inline:P.inline,text:P.text,formatting:!1,linkText:P.linkText,linkTitle:P.linkTitle,linkHref:P.linkHref,code:P.code,em:P.em,strong:P.strong,strikethrough:P.strikethrough,emoji:P.emoji,header:P.header,setext:P.setext,hr:P.hr,taskList:P.taskList,list:P.list,listStack:P.listStack.slice(0),quote:P.quote,indentedCode:P.indentedCode,trailingSpace:P.trailingSpace,trailingSpaceNewLine:P.trailingSpaceNewLine,md_inside:P.md_inside,fencedEndRE:P.fencedEndRE}},token:function(P,b){if(b.formatting=!1,P!=b.thisLine.stream){if(b.header=0,b.hr=!1,P.match(/^\s*$/,!0))return G(b),null;if(b.prevLine=b.thisLine,b.thisLine={stream:P},b.taskList=!1,b.trailingSpace=0,b.trailingSpaceNewLine=!1,!b.localState&&(b.f=b.block,b.f!=oe)){var Y=P.match(/^\s*/,!0)[0].replace(/\t/g,C).length;if(b.indentation=Y,b.indentationDiff=null,Y>0)return null}}return b.f(P,b)},innerMode:function(P){return P.block==oe?{state:P.htmlState,mode:f}:P.localState?{state:P.localState,mode:P.localMode}:{state:P,mode:Jt}},indent:function(P,b,Y){return P.block==oe&&f.indent?f.indent(P.htmlState,b,Y):P.localState&&P.localMode.indent?P.localMode.indent(P.localState,b,Y):r.Pass},blankLine:G,getType:se,blockCommentStart:"<!--",blockCommentEnd:"-->",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return Jt},"xml"),r.defineMIME("text/markdown","markdown"),r.defineMIME("text/x-markdown","markdown")})})();var ab=rb.exports,lb={exports:{}};(function(n,t){(function(r){r(It)})(function(r){r.overlayMode=function(a,u,f){return{startState:function(){return{base:r.startState(a),overlay:r.startState(u),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(d){return{base:r.copyState(a,d.base),overlay:r.copyState(u,d.overlay),basePos:d.basePos,baseCur:null,overlayPos:d.overlayPos,overlayCur:null}},token:function(d,m){return(d!=m.streamSeen||Math.min(m.basePos,m.overlayPos)<d.start)&&(m.streamSeen=d,m.basePos=m.overlayPos=d.start),d.start==m.basePos&&(m.baseCur=a.token(d,m.base),m.basePos=d.pos),d.start==m.overlayPos&&(d.pos=d.start,m.overlayCur=u.token(d,m.overlay),m.overlayPos=d.pos),d.pos=Math.min(m.basePos,m.overlayPos),m.overlayCur==null?m.baseCur:m.baseCur!=null&&m.overlay.combineTokens||f&&m.overlay.combineTokens==null?m.baseCur+" "+m.overlayCur:m.overlayCur},indent:a.indent&&function(d,m,y){return a.indent(d.base,m,y)},electricChars:a.electricChars,innerMode:function(d){return{state:d.base,mode:a}},blankLine:function(d){var m,y;return a.blankLine&&(m=a.blankLine(d.base)),u.blankLine&&(y=u.blankLine(d.overlay)),y==null?m:f&&m!=null?m+" "+y:y}}}})})();var ub=lb.exports;(function(n,t){(function(r){r(It)})(function(r){r.defineOption("placeholder","",function(E,B,M){var _=M&&M!=r.Init;if(B&&!_)E.on("blur",d),E.on("change",m),E.on("swapDoc",m),r.on(E.getInputField(),"compositionupdate",E.state.placeholderCompose=function(){f(E)}),m(E);else if(!B&&_){E.off("blur",d),E.off("change",m),E.off("swapDoc",m),r.off(E.getInputField(),"compositionupdate",E.state.placeholderCompose),a(E);var W=E.getWrapperElement();W.className=W.className.replace(" CodeMirror-empty","")}B&&!E.hasFocus()&&d(E)});function a(E){E.state.placeholder&&(E.state.placeholder.parentNode.removeChild(E.state.placeholder),E.state.placeholder=null)}function u(E){a(E);var B=E.state.placeholder=document.createElement("pre");B.style.cssText="height: 0; overflow: visible",B.style.direction=E.getOption("direction"),B.className="CodeMirror-placeholder CodeMirror-line-like";var M=E.getOption("placeholder");typeof M=="string"&&(M=document.createTextNode(M)),B.appendChild(M),E.display.lineSpace.insertBefore(B,E.display.lineSpace.firstChild)}function f(E){setTimeout(function(){var B=!1;if(E.lineCount()==1){var M=E.getInputField();B=M.nodeName=="TEXTAREA"?!E.getLine(0).length:!/[^\u200b]/.test(M.querySelector(".CodeMirror-line").textContent)}B?u(E):a(E)},20)}function d(E){y(E)&&u(E)}function m(E){var B=E.getWrapperElement(),M=y(E);B.className=B.className.replace(" CodeMirror-empty","")+(M?" CodeMirror-empty":""),M?u(E):a(E)}function y(E){return E.lineCount()===1&&E.getLine(0)===""}})})();(function(n,t){(function(r){r(It)})(function(r){r.defineOption("autoRefresh",!1,function(f,d){f.state.autoRefresh&&(u(f,f.state.autoRefresh),f.state.autoRefresh=null),d&&f.display.wrapper.offsetHeight==0&&a(f,f.state.autoRefresh={delay:d.delay||250})});function a(f,d){function m(){f.display.wrapper.offsetHeight?(u(f,d),f.display.lastWrapHeight!=f.display.wrapper.clientHeight&&f.refresh()):d.timeout=setTimeout(m,d.delay)}d.timeout=setTimeout(m,d.delay),d.hurry=function(){clearTimeout(d.timeout),d.timeout=setTimeout(m,50)},r.on(window,"mouseup",d.hurry),r.on(window,"keyup",d.hurry)}function u(f,d){clearTimeout(d.timeout),r.off(window,"mouseup",d.hurry),r.off(window,"keyup",d.hurry)}})})();(function(n,t){(function(r){r(It)})(function(r){r.defineOption("styleSelectedText",!1,function(_,W,U){var X=U&&U!=r.Init;W&&!X?(_.state.markedSelection=[],_.state.markedSelectionStyle=typeof W=="string"?W:"CodeMirror-selectedtext",B(_),_.on("cursorActivity",a),_.on("change",u)):!W&&X&&(_.off("cursorActivity",a),_.off("change",u),E(_),_.state.markedSelection=_.state.markedSelectionStyle=null)});function a(_){_.state.markedSelection&&_.operation(function(){M(_)})}function u(_){_.state.markedSelection&&_.state.markedSelection.length&&_.operation(function(){E(_)})}var f=8,d=r.Pos,m=r.cmpPos;function y(_,W,U,X){if(m(W,U)!=0)for(var V=_.state.markedSelection,O=_.state.markedSelectionStyle,D=W.line;;){var C=D==W.line?W:d(D,0),x=D+f,S=x>=U.line,L=S?U:d(x,0),G=_.markText(C,L,{className:O});if(X==null?V.push(G):V.splice(X++,0,G),S)break;D=x}}function E(_){for(var W=_.state.markedSelection,U=0;U<W.length;++U)W[U].clear();W.length=0}function B(_){E(_);for(var W=_.listSelections(),U=0;U<W.length;U++)y(_,W[U].from(),W[U].to())}function M(_){if(!_.somethingSelected())return E(_);if(_.listSelections().length>1)return B(_);var W=_.getCursor("start"),U=_.getCursor("end"),X=_.state.markedSelection;if(!X.length)return y(_,W,U);var V=X[0].find(),O=X[X.length-1].find();if(!V||!O||U.line-W.line<=f||m(W,O.to)>=0||m(U,V.from)<=0)return B(_);for(;m(W,V.from)>0;)X.shift().clear(),V=X[0].find();for(m(W,V.from)<0&&(V.to.line-W.line<f?(X.shift().clear(),y(_,W,V.to,0)):y(_,W,V.from,0));m(U,O.to)<0;)X.pop().clear(),O=X[X.length-1].find();m(U,O.to)>0&&(U.line-O.from.line<f?(X.pop().clear(),y(_,O.from,U)):y(_,O.to,U))}})})();(function(n,t){(function(r){r(It)})(function(r){var a=r.Pos;function u(D){var C=D.flags;return C??(D.ignoreCase?"i":"")+(D.global?"g":"")+(D.multiline?"m":"")}function f(D,C){for(var x=u(D),S=x,L=0;L<C.length;L++)S.indexOf(C.charAt(L))==-1&&(S+=C.charAt(L));return x==S?D:new RegExp(D.source,S)}function d(D){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(D.source)}function m(D,C,x){C=f(C,"g");for(var S=x.line,L=x.ch,G=D.lastLine();S<=G;S++,L=0){C.lastIndex=L;var te=D.getLine(S),oe=C.exec(te);if(oe)return{from:a(S,oe.index),to:a(S,oe.index+oe[0].length),match:oe}}}function y(D,C,x){if(!d(C))return m(D,C,x);C=f(C,"gm");for(var S,L=1,G=x.line,te=D.lastLine();G<=te;){for(var oe=0;oe<L&&!(G>te);oe++){var Be=D.getLine(G++);S=S==null?Be:S+`
`+Be}L=L*2,C.lastIndex=x.ch;var se=C.exec(S);if(se){var ke=S.slice(0,se.index).split(`
`),Se=se[0].split(`
`),ve=x.line+ke.length-1,N=ke[ke.length-1].length;return{from:a(ve,N),to:a(ve+Se.length-1,Se.length==1?N+Se[0].length:Se[Se.length-1].length),match:se}}}}function E(D,C,x){for(var S,L=0;L<=D.length;){C.lastIndex=L;var G=C.exec(D);if(!G)break;var te=G.index+G[0].length;if(te>D.length-x)break;(!S||te>S.index+S[0].length)&&(S=G),L=G.index+1}return S}function B(D,C,x){C=f(C,"g");for(var S=x.line,L=x.ch,G=D.firstLine();S>=G;S--,L=-1){var te=D.getLine(S),oe=E(te,C,L<0?0:te.length-L);if(oe)return{from:a(S,oe.index),to:a(S,oe.index+oe[0].length),match:oe}}}function M(D,C,x){if(!d(C))return B(D,C,x);C=f(C,"gm");for(var S,L=1,G=D.getLine(x.line).length-x.ch,te=x.line,oe=D.firstLine();te>=oe;){for(var Be=0;Be<L&&te>=oe;Be++){var se=D.getLine(te--);S=S==null?se:se+`
`+S}L*=2;var ke=E(S,C,G);if(ke){var Se=S.slice(0,ke.index).split(`
`),ve=ke[0].split(`
`),N=te+Se.length,ie=Se[Se.length-1].length;return{from:a(N,ie),to:a(N+ve.length-1,ve.length==1?ie+ve[0].length:ve[ve.length-1].length),match:ke}}}}var _,W;String.prototype.normalize?(_=function(D){return D.normalize("NFD").toLowerCase()},W=function(D){return D.normalize("NFD")}):(_=function(D){return D.toLowerCase()},W=function(D){return D});function U(D,C,x,S){if(D.length==C.length)return x;for(var L=0,G=x+Math.max(0,D.length-C.length);;){if(L==G)return L;var te=L+G>>1,oe=S(D.slice(0,te)).length;if(oe==x)return te;oe>x?G=te:L=te+1}}function X(D,C,x,S){if(!C.length)return null;var L=S?_:W,G=L(C).split(/\r|\n\r?/);e:for(var te=x.line,oe=x.ch,Be=D.lastLine()+1-G.length;te<=Be;te++,oe=0){var se=D.getLine(te).slice(oe),ke=L(se);if(G.length==1){var Se=ke.indexOf(G[0]);if(Se==-1)continue e;var x=U(se,ke,Se,L)+oe;return{from:a(te,U(se,ke,Se,L)+oe),to:a(te,U(se,ke,Se+G[0].length,L)+oe)}}else{var ve=ke.length-G[0].length;if(ke.slice(ve)!=G[0])continue e;for(var N=1;N<G.length-1;N++)if(L(D.getLine(te+N))!=G[N])continue e;var ie=D.getLine(te+G.length-1),Q=L(ie),me=G[G.length-1];if(Q.slice(0,me.length)!=me)continue e;return{from:a(te,U(se,ke,ve,L)+oe),to:a(te+G.length-1,U(ie,Q,me.length,L))}}}}function V(D,C,x,S){if(!C.length)return null;var L=S?_:W,G=L(C).split(/\r|\n\r?/);e:for(var te=x.line,oe=x.ch,Be=D.firstLine()-1+G.length;te>=Be;te--,oe=-1){var se=D.getLine(te);oe>-1&&(se=se.slice(0,oe));var ke=L(se);if(G.length==1){var Se=ke.lastIndexOf(G[0]);if(Se==-1)continue e;return{from:a(te,U(se,ke,Se,L)),to:a(te,U(se,ke,Se+G[0].length,L))}}else{var ve=G[G.length-1];if(ke.slice(0,ve.length)!=ve)continue e;for(var N=1,x=te-G.length+1;N<G.length-1;N++)if(L(D.getLine(x+N))!=G[N])continue e;var ie=D.getLine(te+1-G.length),Q=L(ie);if(Q.slice(Q.length-G[0].length)!=G[0])continue e;return{from:a(te+1-G.length,U(ie,Q,ie.length-G[0].length,L)),to:a(te,U(se,ke,ve.length,L))}}}}function O(D,C,x,S){this.atOccurrence=!1,this.afterEmptyMatch=!1,this.doc=D,x=x?D.clipPos(x):a(0,0),this.pos={from:x,to:x};var L;typeof S=="object"?L=S.caseFold:(L=S,S=null),typeof C=="string"?(L==null&&(L=!1),this.matches=function(G,te){return(G?V:X)(D,C,te,L)}):(C=f(C,"gm"),!S||S.multiline!==!1?this.matches=function(G,te){return(G?M:y)(D,C,te)}:this.matches=function(G,te){return(G?B:m)(D,C,te)})}O.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(D){var C=this.doc.clipPos(D?this.pos.from:this.pos.to);if(this.afterEmptyMatch&&this.atOccurrence&&(C=a(C.line,C.ch),D?(C.ch--,C.ch<0&&(C.line--,C.ch=(this.doc.getLine(C.line)||"").length)):(C.ch++,C.ch>(this.doc.getLine(C.line)||"").length&&(C.ch=0,C.line++)),r.cmpPos(C,this.doc.clipPos(C))!=0))return this.atOccurrence=!1;var x=this.matches(D,C);if(this.afterEmptyMatch=x&&r.cmpPos(x.from,x.to)==0,x)return this.pos=x,this.atOccurrence=!0,this.pos.match||!0;var S=a(D?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:S,to:S},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(D,C){if(this.atOccurrence){var x=r.splitLines(D);this.doc.replaceRange(x,this.pos.from,this.pos.to,C),this.pos.to=a(this.pos.from.line+x.length-1,x[x.length-1].length+(x.length==1?this.pos.from.ch:0))}}},r.defineExtension("getSearchCursor",function(D,C,x){return new O(this.doc,D,C,x)}),r.defineDocExtension("getSearchCursor",function(D,C,x){return new O(this,D,C,x)}),r.defineExtension("selectMatches",function(D,C){for(var x=[],S=this.getSearchCursor(D,this.getCursor("from"),C);S.findNext()&&!(r.cmpPos(S.to(),this.getCursor("to"))>0);)x.push({anchor:S.from(),head:S.to()});x.length&&this.setSelections(x,0)})})})();(function(n,t){(function(r){r(It,ab,ub)})(function(r){var a=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?]))/i;r.defineMode("gfm",function(u,f){var d=0;function m(M){return M.code=!1,null}var y={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(M){return{code:M.code,codeBlock:M.codeBlock,ateSpace:M.ateSpace}},token:function(M,_){if(_.combineTokens=null,_.codeBlock)return M.match(/^```+/)?(_.codeBlock=!1,null):(M.skipToEnd(),null);if(M.sol()&&(_.code=!1),M.sol()&&M.match(/^```+/))return M.skipToEnd(),_.codeBlock=!0,null;if(M.peek()==="`"){M.next();var W=M.pos;M.eatWhile("`");var U=1+M.pos-W;return _.code?U===d&&(_.code=!1):(d=U,_.code=!0),null}else if(_.code)return M.next(),null;if(M.eatSpace())return _.ateSpace=!0,null;if((M.sol()||_.ateSpace)&&(_.ateSpace=!1,f.gitHubSpice!==!1)){if(M.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/))return _.combineTokens=!0,"link";if(M.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return _.combineTokens=!0,"link"}return M.match(a)&&M.string.slice(M.start-2,M.start)!="]("&&(M.start==0||/\W/.test(M.string.charAt(M.start-1)))?(_.combineTokens=!0,"link"):(M.next(),null)},blankLine:m},E={taskLists:!0,strikethrough:!0,emoji:!0};for(var B in f)E[B]=f[B];return E.name="markdown",r.overlayMode(r.getMode(u,E),y)},"markdown"),r.defineMIME("text/x-gfm","gfm")})})();function cb(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var od={exports:{}};const hb={},db=Object.freeze(Object.defineProperty({__proto__:null,default:hb},Symbol.toStringTag,{value:"Module"})),fb=pv(db);(function(n){var t;(function(){t=function(r,a,u,f){f=f||{},this.dictionary=null,this.rules={},this.dictionaryTable={},this.compoundRules=[],this.compoundRuleCodes={},this.replacementTable=[],this.flags=f.flags||{},this.memoized={},this.loaded=!1;var d=this,m,y,E,B,M;r&&(d.dictionary=r,a&&u?X():typeof window<"u"&&"chrome"in window&&"extension"in window.chrome&&"getURL"in window.chrome.extension?(f.dictionaryPath?m=f.dictionaryPath:m="typo/dictionaries",a||_(chrome.extension.getURL(m+"/"+r+"/"+r+".aff"),W),u||_(chrome.extension.getURL(m+"/"+r+"/"+r+".dic"),U)):(f.dictionaryPath?m=f.dictionaryPath:typeof __dirname<"u"?m=__dirname+"/dictionaries":m="./dictionaries",a||_(m+"/"+r+"/"+r+".aff",W),u||_(m+"/"+r+"/"+r+".dic",U)));function _(V,O){var D=d._readFile(V,null,f.asyncLoad);f.asyncLoad?D.then(function(C){O(C)}):O(D)}function W(V){a=V,u&&X()}function U(V){u=V,a&&X()}function X(){for(d.rules=d._parseAFF(a),d.compoundRuleCodes={},y=0,B=d.compoundRules.length;y<B;y++){var V=d.compoundRules[y];for(E=0,M=V.length;E<M;E++)d.compoundRuleCodes[V[E]]=[]}"ONLYINCOMPOUND"in d.flags&&(d.compoundRuleCodes[d.flags.ONLYINCOMPOUND]=[]),d.dictionaryTable=d._parseDIC(u);for(y in d.compoundRuleCodes)d.compoundRuleCodes[y].length===0&&delete d.compoundRuleCodes[y];for(y=0,B=d.compoundRules.length;y<B;y++){var O=d.compoundRules[y],D="";for(E=0,M=O.length;E<M;E++){var C=O[E];C in d.compoundRuleCodes?D+="("+d.compoundRuleCodes[C].join("|")+")":D+=C}d.compoundRules[y]=new RegExp(D,"i")}d.loaded=!0,f.asyncLoad&&f.loadedCallback&&f.loadedCallback(d)}return this},t.prototype={load:function(r){for(var a in r)r.hasOwnProperty(a)&&(this[a]=r[a]);return this},_readFile:function(r,a,u){if(a=a||"utf8",typeof XMLHttpRequest<"u"){var f,d=new XMLHttpRequest;return d.open("GET",r,u),u&&(f=new Promise(function(y,E){d.onload=function(){d.status===200?y(d.responseText):E(d.statusText)},d.onerror=function(){E(d.statusText)}})),d.overrideMimeType&&d.overrideMimeType("text/plain; charset="+a),d.send(null),u?f:d.responseText}else if(typeof cb<"u"){var m=fb;try{if(m.existsSync(r))return m.readFileSync(r,a);console.log("Path "+r+" does not exist.")}catch(y){return console.log(y),""}}},_parseAFF:function(r){var a={},u,f,d,m,y,E,B,M,_=r.split(/\r?\n/);for(y=0,B=_.length;y<B;y++)if(u=this._removeAffixComments(_[y]),u=u.trim(),!!u){var W=u.split(/\s+/),U=W[0];if(U=="PFX"||U=="SFX"){var X=W[1],V=W[2];d=parseInt(W[3],10);var O=[];for(E=y+1,M=y+1+d;E<M;E++){f=_[E],m=f.split(/\s+/);var D=m[2],C=m[3].split("/"),x=C[0];x==="0"&&(x="");var S=this.parseRuleCodes(C[1]),L=m[4],G={};G.add=x,S.length>0&&(G.continuationClasses=S),L!=="."&&(U==="SFX"?G.match=new RegExp(L+"$"):G.match=new RegExp("^"+L)),D!="0"&&(U==="SFX"?G.remove=new RegExp(D+"$"):G.remove=D),O.push(G)}a[X]={type:U,combineable:V=="Y",entries:O},y+=d}else if(U==="COMPOUNDRULE"){for(d=parseInt(W[1],10),E=y+1,M=y+1+d;E<M;E++)u=_[E],m=u.split(/\s+/),this.compoundRules.push(m[1]);y+=d}else U==="REP"?(m=u.split(/\s+/),m.length===3&&this.replacementTable.push([m[1],m[2]])):this.flags[U]=W[1]}return a},_removeAffixComments:function(r){return r.match(/^\s*#/,"")?"":r},_parseDIC:function(r){r=this._removeDicComments(r);var a=r.split(/\r?\n/),u={};function f(se,ke){u.hasOwnProperty(se)||(u[se]=null),ke.length>0&&(u[se]===null&&(u[se]=[]),u[se].push(ke))}for(var d=1,m=a.length;d<m;d++){var y=a[d];if(y){var E=y.split("/",2),B=E[0];if(E.length>1){var M=this.parseRuleCodes(E[1]);(!("NEEDAFFIX"in this.flags)||M.indexOf(this.flags.NEEDAFFIX)==-1)&&f(B,M);for(var _=0,W=M.length;_<W;_++){var U=M[_],X=this.rules[U];if(X)for(var V=this._applyRule(B,X),O=0,D=V.length;O<D;O++){var C=V[O];if(f(C,[]),X.combineable)for(var x=_+1;x<W;x++){var S=M[x],L=this.rules[S];if(L&&L.combineable&&X.type!=L.type)for(var G=this._applyRule(C,L),te=0,oe=G.length;te<oe;te++){var Be=G[te];f(Be,[])}}}U in this.compoundRuleCodes&&this.compoundRuleCodes[U].push(B)}}else f(B.trim(),[])}}return u},_removeDicComments:function(r){return r=r.replace(/^\t.*$/mg,""),r},parseRuleCodes:function(r){if(r)if("FLAG"in this.flags)if(this.flags.FLAG==="long"){for(var a=[],u=0,f=r.length;u<f;u+=2)a.push(r.substr(u,2));return a}else return this.flags.FLAG==="num"?r.split(","):this.flags.FLAG==="UTF-8"?Array.from(r):r.split("");else return r.split("");else return[]},_applyRule:function(r,a){for(var u=a.entries,f=[],d=0,m=u.length;d<m;d++){var y=u[d];if(!y.match||r.match(y.match)){var E=r;if(y.remove&&(E=E.replace(y.remove,"")),a.type==="SFX"?E=E+y.add:E=y.add+E,f.push(E),"continuationClasses"in y)for(var B=0,M=y.continuationClasses.length;B<M;B++){var _=this.rules[y.continuationClasses[B]];_&&(f=f.concat(this._applyRule(E,_)))}}}return f},check:function(r){if(!this.loaded)throw"Dictionary not loaded.";var a=r.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(this.checkExact(a))return!0;if(a.toUpperCase()===a){var u=a[0]+a.substring(1).toLowerCase();if(this.hasFlag(u,"KEEPCASE"))return!1;if(this.checkExact(u)||this.checkExact(a.toLowerCase()))return!0}var f=a[0].toLowerCase()+a.substring(1);if(f!==a){if(this.hasFlag(f,"KEEPCASE"))return!1;if(this.checkExact(f))return!0}return!1},checkExact:function(r){if(!this.loaded)throw"Dictionary not loaded.";var a=this.dictionaryTable[r],u,f;if(typeof a>"u"){if("COMPOUNDMIN"in this.flags&&r.length>=this.flags.COMPOUNDMIN){for(u=0,f=this.compoundRules.length;u<f;u++)if(r.match(this.compoundRules[u]))return!0}}else{if(a===null)return!0;if(typeof a=="object"){for(u=0,f=a.length;u<f;u++)if(!this.hasFlag(r,"ONLYINCOMPOUND",a[u]))return!0}}return!1},hasFlag:function(r,a,u){if(!this.loaded)throw"Dictionary not loaded.";return!!(a in this.flags&&(typeof u>"u"&&(u=Array.prototype.concat.apply([],this.dictionaryTable[r])),u&&u.indexOf(this.flags[a])!==-1))},alphabet:"",suggest:function(r,a){if(!this.loaded)throw"Dictionary not loaded.";if(a=a||5,this.memoized.hasOwnProperty(r)){var u=this.memoized[r].limit;if(a<=u||this.memoized[r].suggestions.length<u)return this.memoized[r].suggestions.slice(0,a)}if(this.check(r))return[];for(var f=0,d=this.replacementTable.length;f<d;f++){var m=this.replacementTable[f];if(r.indexOf(m[0])!==-1){var y=r.replace(m[0],m[1]);if(this.check(y))return[y]}}if(!this.alphabet){this.alphabet="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ","TRY"in this.flags&&(this.alphabet+=this.flags.TRY),"WORDCHARS"in this.flags&&(this.alphabet+=this.flags.WORDCHARS);var E=this.alphabet.split("");E.sort();for(var B={},f=0;f<E.length;f++)B[E[f]]=!0;this.alphabet="";for(var f in B)this.alphabet+=f}var M=this;function _(U,X){var V={},O,D,C,x,S=M.alphabet.length;if(typeof U=="string"){var L=U;U={},U[L]=!0}for(var L in U)for(O=0,C=L.length+1;O<C;O++){var G=[L.substring(0,O),L.substring(O)];if(G[1]&&(x=G[0]+G[1].substring(1),(!X||M.check(x))&&(x in V?V[x]+=1:V[x]=1)),G[1].length>1&&G[1][1]!==G[1][0]&&(x=G[0]+G[1][1]+G[1][0]+G[1].substring(2),(!X||M.check(x))&&(x in V?V[x]+=1:V[x]=1)),G[1]){var te=G[1].substring(0,1).toUpperCase()===G[1].substring(0,1)?"uppercase":"lowercase";for(D=0;D<S;D++){var oe=M.alphabet[D];te==="uppercase"&&(oe=oe.toUpperCase()),oe!=G[1].substring(0,1)&&(x=G[0]+oe+G[1].substring(1),(!X||M.check(x))&&(x in V?V[x]+=1:V[x]=1))}}if(G[1])for(D=0;D<S;D++){var te=G[0].substring(-1).toUpperCase()===G[0].substring(-1)&&G[1].substring(0,1).toUpperCase()===G[1].substring(0,1)?"uppercase":"lowercase",oe=M.alphabet[D];te==="uppercase"&&(oe=oe.toUpperCase()),x=G[0]+oe+G[1],(!X||M.check(x))&&(x in V?V[x]+=1:V[x]=1)}}return V}function W(U){var X=_(U),V=_(X,!0),O=V;for(var D in X)M.check(D)&&(D in O?O[D]+=X[D]:O[D]=X[D]);var C,x=[];for(C in O)O.hasOwnProperty(C)&&x.push([C,O[C]]);function S(oe,Be){var se=oe[1],ke=Be[1];return se<ke?-1:se>ke?1:Be[0].localeCompare(oe[0])}x.sort(S).reverse();var L=[],G="lowercase";U.toUpperCase()===U?G="uppercase":U.substr(0,1).toUpperCase()+U.substr(1).toLowerCase()===U&&(G="capitalized");var te=a;for(C=0;C<Math.min(te,x.length);C++)G==="uppercase"?x[C][0]=x[C][0].toUpperCase():G==="capitalized"&&(x[C][0]=x[C][0].substr(0,1).toUpperCase()+x[C][0].substr(1)),!M.hasFlag(x[C][0],"NOSUGGEST")&&L.indexOf(x[C][0])==-1?L.push(x[C][0]):te++;return L}return this.memoized[r]={suggestions:W(r),limit:a},this.memoized[r].suggestions}}})(),n.exports=t})(od);var pb=od.exports,Qc=pb;function Ke(n){if(n=n||{},typeof n.codeMirrorInstance!="function"||typeof n.codeMirrorInstance.defineMode!="function"){console.log("CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`");return}String.prototype.includes||(String.prototype.includes=function(){return String.prototype.indexOf.apply(this,arguments)!==-1}),n.codeMirrorInstance.defineMode("spell-checker",function(t){if(!Ke.aff_loading){Ke.aff_loading=!0;var r=new XMLHttpRequest;r.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff",!0),r.onload=function(){r.readyState===4&&r.status===200&&(Ke.aff_data=r.responseText,Ke.num_loaded++,Ke.num_loaded==2&&(Ke.typo=new Qc("en_US",Ke.aff_data,Ke.dic_data,{platform:"any"})))},r.send(null)}if(!Ke.dic_loading){Ke.dic_loading=!0;var a=new XMLHttpRequest;a.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic",!0),a.onload=function(){a.readyState===4&&a.status===200&&(Ke.dic_data=a.responseText,Ke.num_loaded++,Ke.num_loaded==2&&(Ke.typo=new Qc("en_US",Ke.aff_data,Ke.dic_data,{platform:"any"})))},a.send(null)}var u='!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~ ',f={token:function(m){var y=m.peek(),E="";if(u.includes(y))return m.next(),null;for(;(y=m.peek())!=null&&!u.includes(y);)E+=y,m.next();return Ke.typo&&!Ke.typo.check(E)?"spell-error":null}},d=n.codeMirrorInstance.getMode(t,t.backdrop||"text/plain");return n.codeMirrorInstance.overlayMode(d,f,!0)})}Ke.num_loaded=0;Ke.aff_loading=!1;Ke.dic_loading=!1;Ke.aff_data="";Ke.dic_data="";Ke.typo;var gb=Ke,ad={};(function(n){function t($,q){for(var H=0;H<q.length;H++){var w=q[H];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty($,y(w.key),w)}}function r($,q,H){return q&&t($.prototype,q),H&&t($,H),Object.defineProperty($,"prototype",{writable:!1}),$}function a(){return a=Object.assign?Object.assign.bind():function($){for(var q=1;q<arguments.length;q++){var H=arguments[q];for(var w in H)Object.prototype.hasOwnProperty.call(H,w)&&($[w]=H[w])}return $},a.apply(this,arguments)}function u($,q){if($){if(typeof $=="string")return f($,q);var H=Object.prototype.toString.call($).slice(8,-1);if(H==="Object"&&$.constructor&&(H=$.constructor.name),H==="Map"||H==="Set")return Array.from($);if(H==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(H))return f($,q)}}function f($,q){(q==null||q>$.length)&&(q=$.length);for(var H=0,w=new Array(q);H<q;H++)w[H]=$[H];return w}function d($,q){var H=typeof Symbol<"u"&&$[Symbol.iterator]||$["@@iterator"];if(H)return(H=H.call($)).next.bind(H);if(Array.isArray($)||(H=u($))||q&&$&&typeof $.length=="number"){H&&($=H);var w=0;return function(){return w>=$.length?{done:!0}:{done:!1,value:$[w++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m($,q){if(typeof $!="object"||$===null)return $;var H=$[Symbol.toPrimitive];if(H!==void 0){var w=H.call($,q||"default");if(typeof w!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(q==="string"?String:Number)($)}function y($){var q=m($,"string");return typeof q=="symbol"?q:String(q)}function E(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}n.defaults=E();function B($){n.defaults=$}var M=/[&<>"']/,_=new RegExp(M.source,"g"),W=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,U=new RegExp(W.source,"g"),X={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},V=function(q){return X[q]};function O($,q){if(q){if(M.test($))return $.replace(_,V)}else if(W.test($))return $.replace(U,V);return $}var D=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function C($){return $.replace(D,function(q,H){return H=H.toLowerCase(),H==="colon"?":":H.charAt(0)==="#"?H.charAt(1)==="x"?String.fromCharCode(parseInt(H.substring(2),16)):String.fromCharCode(+H.substring(1)):""})}var x=/(^|[^\[])\^/g;function S($,q){$=typeof $=="string"?$:$.source,q=q||"";var H={replace:function(k,R){return R=R.source||R,R=R.replace(x,"$1"),$=$.replace(k,R),H},getRegex:function(){return new RegExp($,q)}};return H}var L=/[^\w:]/g,G=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function te($,q,H){if($){var w;try{w=decodeURIComponent(C(H)).replace(L,"").toLowerCase()}catch{return null}if(w.indexOf("javascript:")===0||w.indexOf("vbscript:")===0||w.indexOf("data:")===0)return null}q&&!G.test(H)&&(H=Se(q,H));try{H=encodeURI(H).replace(/%25/g,"%")}catch{return null}return H}var oe={},Be=/^[^:]+:\/*[^/]*$/,se=/^([^:]+:)[\s\S]*$/,ke=/^([^:]+:\/*[^/]*)[\s\S]*$/;function Se($,q){oe[" "+$]||(Be.test($)?oe[" "+$]=$+"/":oe[" "+$]=ie($,"/",!0)),$=oe[" "+$];var H=$.indexOf(":")===-1;return q.substring(0,2)==="//"?H?q:$.replace(se,"$1")+q:q.charAt(0)==="/"?H?q:$.replace(ke,"$1")+q:$+q}var ve={exec:function(){}};function N($,q){var H=$.replace(/\|/g,function(R,T,I){for(var ae=!1,he=T;--he>=0&&I[he]==="\\";)ae=!ae;return ae?"|":" |"}),w=H.split(/ \|/),k=0;if(w[0].trim()||w.shift(),w.length>0&&!w[w.length-1].trim()&&w.pop(),w.length>q)w.splice(q);else for(;w.length<q;)w.push("");for(;k<w.length;k++)w[k]=w[k].trim().replace(/\\\|/g,"|");return w}function ie($,q,H){var w=$.length;if(w===0)return"";for(var k=0;k<w;){var R=$.charAt(w-k-1);if(R===q&&!H)k++;else if(R!==q&&H)k++;else break}return $.slice(0,w-k)}function Q($,q){if($.indexOf(q[1])===-1)return-1;for(var H=$.length,w=0,k=0;k<H;k++)if($[k]==="\\")k++;else if($[k]===q[0])w++;else if($[k]===q[1]&&(w--,w<0))return k;return-1}function me($){$&&$.sanitize&&!$.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Ie($,q){if(q<1)return"";for(var H="";q>1;)q&1&&(H+=$),q>>=1,$+=$;return H+$}function Qe($,q,H,w){var k=q.href,R=q.title?O(q.title):null,T=$[1].replace(/\\([\[\]])/g,"$1");if($[0].charAt(0)!=="!"){w.state.inLink=!0;var I={type:"link",raw:H,href:k,title:R,text:T,tokens:w.inlineTokens(T)};return w.state.inLink=!1,I}return{type:"image",raw:H,href:k,title:R,text:O(T)}}function Jt($,q){var H=$.match(/^(\s+)(?:```)/);if(H===null)return q;var w=H[1];return q.split(`
`).map(function(k){var R=k.match(/^\s+/);if(R===null)return k;var T=R[0];return T.length>=w.length?k.slice(w.length):k}).join(`
`)}var P=function(){function $(H){this.options=H||n.defaults}var q=$.prototype;return q.space=function(w){var k=this.rules.block.newline.exec(w);if(k&&k[0].length>0)return{type:"space",raw:k[0]}},q.code=function(w){var k=this.rules.block.code.exec(w);if(k){var R=k[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:k[0],codeBlockStyle:"indented",text:this.options.pedantic?R:ie(R,`
`)}}},q.fences=function(w){var k=this.rules.block.fences.exec(w);if(k){var R=k[0],T=Jt(R,k[3]||"");return{type:"code",raw:R,lang:k[2]?k[2].trim().replace(this.rules.inline._escapes,"$1"):k[2],text:T}}},q.heading=function(w){var k=this.rules.block.heading.exec(w);if(k){var R=k[2].trim();if(/#$/.test(R)){var T=ie(R,"#");(this.options.pedantic||!T||/ $/.test(T))&&(R=T.trim())}return{type:"heading",raw:k[0],depth:k[1].length,text:R,tokens:this.lexer.inline(R)}}},q.hr=function(w){var k=this.rules.block.hr.exec(w);if(k)return{type:"hr",raw:k[0]}},q.blockquote=function(w){var k=this.rules.block.blockquote.exec(w);if(k){var R=k[0].replace(/^ *>[ \t]?/gm,""),T=this.lexer.state.top;this.lexer.state.top=!0;var I=this.lexer.blockTokens(R);return this.lexer.state.top=T,{type:"blockquote",raw:k[0],tokens:I,text:R}}},q.list=function(w){var k=this.rules.block.list.exec(w);if(k){var R,T,I,ae,he,pe,ge,Ee,Z,Ce,re,De,_e=k[1].trim(),_t=_e.length>1,Re={type:"list",raw:"",ordered:_t,start:_t?+_e.slice(0,-1):"",loose:!1,items:[]};_e=_t?"\\d{1,9}\\"+_e.slice(-1):"\\"+_e,this.options.pedantic&&(_e=_t?_e:"[*+-]");for(var Ge=new RegExp("^( {0,3}"+_e+")((?:[	 ][^\\n]*)?(?:\\n|$))");w&&(De=!1,!(!(k=Ge.exec(w))||this.rules.block.hr.test(w)));){if(R=k[0],w=w.substring(R.length),Ee=k[2].split(`
`,1)[0].replace(/^\t+/,function(ai){return" ".repeat(3*ai.length)}),Z=w.split(`
`,1)[0],this.options.pedantic?(ae=2,re=Ee.trimLeft()):(ae=k[2].search(/[^ ]/),ae=ae>4?1:ae,re=Ee.slice(ae),ae+=k[1].length),pe=!1,!Ee&&/^ *$/.test(Z)&&(R+=Z+`
`,w=w.substring(Z.length+1),De=!0),!De)for(var tt=new RegExp("^ {0,"+Math.min(3,ae-1)+"}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))"),Si=new RegExp("^ {0,"+Math.min(3,ae-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),jt=new RegExp("^ {0,"+Math.min(3,ae-1)+"}(?:```|~~~)"),Ht=new RegExp("^ {0,"+Math.min(3,ae-1)+"}#");w&&(Ce=w.split(`
`,1)[0],Z=Ce,this.options.pedantic&&(Z=Z.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(jt.test(Z)||Ht.test(Z)||tt.test(Z)||Si.test(w)));){if(Z.search(/[^ ]/)>=ae||!Z.trim())re+=`
`+Z.slice(ae);else{if(pe||Ee.search(/[^ ]/)>=4||jt.test(Ee)||Ht.test(Ee)||Si.test(Ee))break;re+=`
`+Z}!pe&&!Z.trim()&&(pe=!0),R+=Ce+`
`,w=w.substring(Ce.length+1),Ee=Z.slice(ae)}Re.loose||(ge?Re.loose=!0:/\n *\n *$/.test(R)&&(ge=!0)),this.options.gfm&&(T=/^\[[ xX]\] /.exec(re),T&&(I=T[0]!=="[ ] ",re=re.replace(/^\[[ xX]\] +/,""))),Re.items.push({type:"list_item",raw:R,task:!!T,checked:I,loose:!1,text:re}),Re.raw+=R}Re.items[Re.items.length-1].raw=R.trimRight(),Re.items[Re.items.length-1].text=re.trimRight(),Re.raw=Re.raw.trimRight();var oi=Re.items.length;for(he=0;he<oi;he++)if(this.lexer.state.top=!1,Re.items[he].tokens=this.lexer.blockTokens(Re.items[he].text,[]),!Re.loose){var Ei=Re.items[he].tokens.filter(function(ai){return ai.type==="space"}),ho=Ei.length>0&&Ei.some(function(ai){return/\n.*\n/.test(ai.raw)});Re.loose=ho}if(Re.loose)for(he=0;he<oi;he++)Re.items[he].loose=!0;return Re}},q.html=function(w){var k=this.rules.block.html.exec(w);if(k){var R={type:"html",raw:k[0],pre:!this.options.sanitizer&&(k[1]==="pre"||k[1]==="script"||k[1]==="style"),text:k[0]};if(this.options.sanitize){var T=this.options.sanitizer?this.options.sanitizer(k[0]):O(k[0]);R.type="paragraph",R.text=T,R.tokens=this.lexer.inline(T)}return R}},q.def=function(w){var k=this.rules.block.def.exec(w);if(k){var R=k[1].toLowerCase().replace(/\s+/g," "),T=k[2]?k[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",I=k[3]?k[3].substring(1,k[3].length-1).replace(this.rules.inline._escapes,"$1"):k[3];return{type:"def",tag:R,raw:k[0],href:T,title:I}}},q.table=function(w){var k=this.rules.block.table.exec(w);if(k){var R={type:"table",header:N(k[1]).map(function(ge){return{text:ge}}),align:k[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:k[3]&&k[3].trim()?k[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(R.header.length===R.align.length){R.raw=k[0];var T=R.align.length,I,ae,he,pe;for(I=0;I<T;I++)/^ *-+: *$/.test(R.align[I])?R.align[I]="right":/^ *:-+: *$/.test(R.align[I])?R.align[I]="center":/^ *:-+ *$/.test(R.align[I])?R.align[I]="left":R.align[I]=null;for(T=R.rows.length,I=0;I<T;I++)R.rows[I]=N(R.rows[I],R.header.length).map(function(ge){return{text:ge}});for(T=R.header.length,ae=0;ae<T;ae++)R.header[ae].tokens=this.lexer.inline(R.header[ae].text);for(T=R.rows.length,ae=0;ae<T;ae++)for(pe=R.rows[ae],he=0;he<pe.length;he++)pe[he].tokens=this.lexer.inline(pe[he].text);return R}}},q.lheading=function(w){var k=this.rules.block.lheading.exec(w);if(k)return{type:"heading",raw:k[0],depth:k[2].charAt(0)==="="?1:2,text:k[1],tokens:this.lexer.inline(k[1])}},q.paragraph=function(w){var k=this.rules.block.paragraph.exec(w);if(k){var R=k[1].charAt(k[1].length-1)===`
`?k[1].slice(0,-1):k[1];return{type:"paragraph",raw:k[0],text:R,tokens:this.lexer.inline(R)}}},q.text=function(w){var k=this.rules.block.text.exec(w);if(k)return{type:"text",raw:k[0],text:k[0],tokens:this.lexer.inline(k[0])}},q.escape=function(w){var k=this.rules.inline.escape.exec(w);if(k)return{type:"escape",raw:k[0],text:O(k[1])}},q.tag=function(w){var k=this.rules.inline.tag.exec(w);if(k)return!this.lexer.state.inLink&&/^<a /i.test(k[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(k[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(k[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(k[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:k[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(k[0]):O(k[0]):k[0]}},q.link=function(w){var k=this.rules.inline.link.exec(w);if(k){var R=k[2].trim();if(!this.options.pedantic&&/^</.test(R)){if(!/>$/.test(R))return;var T=ie(R.slice(0,-1),"\\");if((R.length-T.length)%2===0)return}else{var I=Q(k[2],"()");if(I>-1){var ae=k[0].indexOf("!")===0?5:4,he=ae+k[1].length+I;k[2]=k[2].substring(0,I),k[0]=k[0].substring(0,he).trim(),k[3]=""}}var pe=k[2],ge="";if(this.options.pedantic){var Ee=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(pe);Ee&&(pe=Ee[1],ge=Ee[3])}else ge=k[3]?k[3].slice(1,-1):"";return pe=pe.trim(),/^</.test(pe)&&(this.options.pedantic&&!/>$/.test(R)?pe=pe.slice(1):pe=pe.slice(1,-1)),Qe(k,{href:pe&&pe.replace(this.rules.inline._escapes,"$1"),title:ge&&ge.replace(this.rules.inline._escapes,"$1")},k[0],this.lexer)}},q.reflink=function(w,k){var R;if((R=this.rules.inline.reflink.exec(w))||(R=this.rules.inline.nolink.exec(w))){var T=(R[2]||R[1]).replace(/\s+/g," ");if(T=k[T.toLowerCase()],!T){var I=R[0].charAt(0);return{type:"text",raw:I,text:I}}return Qe(R,T,R[0],this.lexer)}},q.emStrong=function(w,k,R){R===void 0&&(R="");var T=this.rules.inline.emStrong.lDelim.exec(w);if(T&&!(T[3]&&R.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var I=T[1]||T[2]||"";if(!I||I&&(R===""||this.rules.inline.punctuation.exec(R))){var ae=T[0].length-1,he,pe,ge=ae,Ee=0,Z=T[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Z.lastIndex=0,k=k.slice(-1*w.length+ae);(T=Z.exec(k))!=null;)if(he=T[1]||T[2]||T[3]||T[4]||T[5]||T[6],!!he){if(pe=he.length,T[3]||T[4]){ge+=pe;continue}else if((T[5]||T[6])&&ae%3&&!((ae+pe)%3)){Ee+=pe;continue}if(ge-=pe,!(ge>0)){pe=Math.min(pe,pe+ge+Ee);var Ce=w.slice(0,ae+T.index+(T[0].length-he.length)+pe);if(Math.min(ae,pe)%2){var re=Ce.slice(1,-1);return{type:"em",raw:Ce,text:re,tokens:this.lexer.inlineTokens(re)}}var De=Ce.slice(2,-2);return{type:"strong",raw:Ce,text:De,tokens:this.lexer.inlineTokens(De)}}}}}},q.codespan=function(w){var k=this.rules.inline.code.exec(w);if(k){var R=k[2].replace(/\n/g," "),T=/[^ ]/.test(R),I=/^ /.test(R)&&/ $/.test(R);return T&&I&&(R=R.substring(1,R.length-1)),R=O(R,!0),{type:"codespan",raw:k[0],text:R}}},q.br=function(w){var k=this.rules.inline.br.exec(w);if(k)return{type:"br",raw:k[0]}},q.del=function(w){var k=this.rules.inline.del.exec(w);if(k)return{type:"del",raw:k[0],text:k[2],tokens:this.lexer.inlineTokens(k[2])}},q.autolink=function(w,k){var R=this.rules.inline.autolink.exec(w);if(R){var T,I;return R[2]==="@"?(T=O(this.options.mangle?k(R[1]):R[1]),I="mailto:"+T):(T=O(R[1]),I=T),{type:"link",raw:R[0],text:T,href:I,tokens:[{type:"text",raw:T,text:T}]}}},q.url=function(w,k){var R;if(R=this.rules.inline.url.exec(w)){var T,I;if(R[2]==="@")T=O(this.options.mangle?k(R[0]):R[0]),I="mailto:"+T;else{var ae;do ae=R[0],R[0]=this.rules.inline._backpedal.exec(R[0])[0];while(ae!==R[0]);T=O(R[0]),R[1]==="www."?I="http://"+R[0]:I=R[0]}return{type:"link",raw:R[0],text:T,href:I,tokens:[{type:"text",raw:T,text:T}]}}},q.inlineText=function(w,k){var R=this.rules.inline.text.exec(w);if(R){var T;return this.lexer.state.inRawBlock?T=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(R[0]):O(R[0]):R[0]:T=O(this.options.smartypants?k(R[0]):R[0]),{type:"text",raw:R[0],text:T}}},$}(),b={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:ve,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};b._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,b._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,b.def=S(b.def).replace("label",b._label).replace("title",b._title).getRegex(),b.bullet=/(?:[*+-]|\d{1,9}[.)])/,b.listItemStart=S(/^( *)(bull) */).replace("bull",b.bullet).getRegex(),b.list=S(b.list).replace(/bull/g,b.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+b.def.source+")").getRegex(),b._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",b._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,b.html=S(b.html,"i").replace("comment",b._comment).replace("tag",b._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),b.paragraph=S(b._paragraph).replace("hr",b.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",b._tag).getRegex(),b.blockquote=S(b.blockquote).replace("paragraph",b.paragraph).getRegex(),b.normal=a({},b),b.gfm=a({},b.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),b.gfm.table=S(b.gfm.table).replace("hr",b.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",b._tag).getRegex(),b.gfm.paragraph=S(b._paragraph).replace("hr",b.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",b.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",b._tag).getRegex(),b.pedantic=a({},b.normal,{html:S(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",b._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ve,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:S(b.normal._paragraph).replace("hr",b.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",b.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var Y={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:ve,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:ve,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};Y._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Y.punctuation=S(Y.punctuation).replace(/punctuation/g,Y._punctuation).getRegex(),Y.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Y.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,Y._comment=S(b._comment).replace("(?:-->|$)","-->").getRegex(),Y.emStrong.lDelim=S(Y.emStrong.lDelim).replace(/punct/g,Y._punctuation).getRegex(),Y.emStrong.rDelimAst=S(Y.emStrong.rDelimAst,"g").replace(/punct/g,Y._punctuation).getRegex(),Y.emStrong.rDelimUnd=S(Y.emStrong.rDelimUnd,"g").replace(/punct/g,Y._punctuation).getRegex(),Y._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Y._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Y._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Y.autolink=S(Y.autolink).replace("scheme",Y._scheme).replace("email",Y._email).getRegex(),Y._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Y.tag=S(Y.tag).replace("comment",Y._comment).replace("attribute",Y._attribute).getRegex(),Y._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Y._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Y._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Y.link=S(Y.link).replace("label",Y._label).replace("href",Y._href).replace("title",Y._title).getRegex(),Y.reflink=S(Y.reflink).replace("label",Y._label).replace("ref",b._label).getRegex(),Y.nolink=S(Y.nolink).replace("ref",b._label).getRegex(),Y.reflinkSearch=S(Y.reflinkSearch,"g").replace("reflink",Y.reflink).replace("nolink",Y.nolink).getRegex(),Y.normal=a({},Y),Y.pedantic=a({},Y.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:S(/^!?\[(label)\]\((.*?)\)/).replace("label",Y._label).getRegex(),reflink:S(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Y._label).getRegex()}),Y.gfm=a({},Y.normal,{escape:S(Y.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Y.gfm.url=S(Y.gfm.url,"i").replace("email",Y.gfm._extended_email).getRegex(),Y.breaks=a({},Y.gfm,{br:S(Y.br).replace("{2,}","*").getRegex(),text:S(Y.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function He($){return $.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function Ae($){var q="",H,w,k=$.length;for(H=0;H<k;H++)w=$.charCodeAt(H),Math.random()>.5&&(w="x"+w.toString(16)),q+="&#"+w+";";return q}var je=function(){function $(H){this.tokens=[],this.tokens.links=Object.create(null),this.options=H||n.defaults,this.options.tokenizer=this.options.tokenizer||new P,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var w={block:b.normal,inline:Y.normal};this.options.pedantic?(w.block=b.pedantic,w.inline=Y.pedantic):this.options.gfm&&(w.block=b.gfm,this.options.breaks?w.inline=Y.breaks:w.inline=Y.gfm),this.tokenizer.rules=w}$.lex=function(w,k){var R=new $(k);return R.lex(w)},$.lexInline=function(w,k){var R=new $(k);return R.inlineTokens(w)};var q=$.prototype;return q.lex=function(w){w=w.replace(/\r\n|\r/g,`
`),this.blockTokens(w,this.tokens);for(var k;k=this.inlineQueue.shift();)this.inlineTokens(k.src,k.tokens);return this.tokens},q.blockTokens=function(w,k){var R=this;k===void 0&&(k=[]),this.options.pedantic?w=w.replace(/\t/g,"    ").replace(/^ +$/gm,""):w=w.replace(/^( *)(\t+)/gm,function(ge,Ee,Z){return Ee+"    ".repeat(Z.length)});for(var T,I,ae,he;w;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(ge){return(T=ge.call({lexer:R},w,k))?(w=w.substring(T.raw.length),k.push(T),!0):!1}))){if(T=this.tokenizer.space(w)){w=w.substring(T.raw.length),T.raw.length===1&&k.length>0?k[k.length-1].raw+=`
`:k.push(T);continue}if(T=this.tokenizer.code(w)){w=w.substring(T.raw.length),I=k[k.length-1],I&&(I.type==="paragraph"||I.type==="text")?(I.raw+=`
`+T.raw,I.text+=`
`+T.text,this.inlineQueue[this.inlineQueue.length-1].src=I.text):k.push(T);continue}if(T=this.tokenizer.fences(w)){w=w.substring(T.raw.length),k.push(T);continue}if(T=this.tokenizer.heading(w)){w=w.substring(T.raw.length),k.push(T);continue}if(T=this.tokenizer.hr(w)){w=w.substring(T.raw.length),k.push(T);continue}if(T=this.tokenizer.blockquote(w)){w=w.substring(T.raw.length),k.push(T);continue}if(T=this.tokenizer.list(w)){w=w.substring(T.raw.length),k.push(T);continue}if(T=this.tokenizer.html(w)){w=w.substring(T.raw.length),k.push(T);continue}if(T=this.tokenizer.def(w)){w=w.substring(T.raw.length),I=k[k.length-1],I&&(I.type==="paragraph"||I.type==="text")?(I.raw+=`
`+T.raw,I.text+=`
`+T.raw,this.inlineQueue[this.inlineQueue.length-1].src=I.text):this.tokens.links[T.tag]||(this.tokens.links[T.tag]={href:T.href,title:T.title});continue}if(T=this.tokenizer.table(w)){w=w.substring(T.raw.length),k.push(T);continue}if(T=this.tokenizer.lheading(w)){w=w.substring(T.raw.length),k.push(T);continue}if(ae=w,this.options.extensions&&this.options.extensions.startBlock&&function(){var ge=1/0,Ee=w.slice(1),Z=void 0;R.options.extensions.startBlock.forEach(function(Ce){Z=Ce.call({lexer:this},Ee),typeof Z=="number"&&Z>=0&&(ge=Math.min(ge,Z))}),ge<1/0&&ge>=0&&(ae=w.substring(0,ge+1))}(),this.state.top&&(T=this.tokenizer.paragraph(ae))){I=k[k.length-1],he&&I.type==="paragraph"?(I.raw+=`
`+T.raw,I.text+=`
`+T.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=I.text):k.push(T),he=ae.length!==w.length,w=w.substring(T.raw.length);continue}if(T=this.tokenizer.text(w)){w=w.substring(T.raw.length),I=k[k.length-1],I&&I.type==="text"?(I.raw+=`
`+T.raw,I.text+=`
`+T.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=I.text):k.push(T);continue}if(w){var pe="Infinite loop on byte: "+w.charCodeAt(0);if(this.options.silent){console.error(pe);break}else throw new Error(pe)}}return this.state.top=!0,k},q.inline=function(w,k){return k===void 0&&(k=[]),this.inlineQueue.push({src:w,tokens:k}),k},q.inlineTokens=function(w,k){var R=this;k===void 0&&(k=[]);var T,I,ae,he=w,pe,ge,Ee;if(this.tokens.links){var Z=Object.keys(this.tokens.links);if(Z.length>0)for(;(pe=this.tokenizer.rules.inline.reflinkSearch.exec(he))!=null;)Z.includes(pe[0].slice(pe[0].lastIndexOf("[")+1,-1))&&(he=he.slice(0,pe.index)+"["+Ie("a",pe[0].length-2)+"]"+he.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(pe=this.tokenizer.rules.inline.blockSkip.exec(he))!=null;)he=he.slice(0,pe.index)+"["+Ie("a",pe[0].length-2)+"]"+he.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(pe=this.tokenizer.rules.inline.escapedEmSt.exec(he))!=null;)he=he.slice(0,pe.index+pe[0].length-2)+"++"+he.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;w;)if(ge||(Ee=""),ge=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(re){return(T=re.call({lexer:R},w,k))?(w=w.substring(T.raw.length),k.push(T),!0):!1}))){if(T=this.tokenizer.escape(w)){w=w.substring(T.raw.length),k.push(T);continue}if(T=this.tokenizer.tag(w)){w=w.substring(T.raw.length),I=k[k.length-1],I&&T.type==="text"&&I.type==="text"?(I.raw+=T.raw,I.text+=T.text):k.push(T);continue}if(T=this.tokenizer.link(w)){w=w.substring(T.raw.length),k.push(T);continue}if(T=this.tokenizer.reflink(w,this.tokens.links)){w=w.substring(T.raw.length),I=k[k.length-1],I&&T.type==="text"&&I.type==="text"?(I.raw+=T.raw,I.text+=T.text):k.push(T);continue}if(T=this.tokenizer.emStrong(w,he,Ee)){w=w.substring(T.raw.length),k.push(T);continue}if(T=this.tokenizer.codespan(w)){w=w.substring(T.raw.length),k.push(T);continue}if(T=this.tokenizer.br(w)){w=w.substring(T.raw.length),k.push(T);continue}if(T=this.tokenizer.del(w)){w=w.substring(T.raw.length),k.push(T);continue}if(T=this.tokenizer.autolink(w,Ae)){w=w.substring(T.raw.length),k.push(T);continue}if(!this.state.inLink&&(T=this.tokenizer.url(w,Ae))){w=w.substring(T.raw.length),k.push(T);continue}if(ae=w,this.options.extensions&&this.options.extensions.startInline&&function(){var re=1/0,De=w.slice(1),_e=void 0;R.options.extensions.startInline.forEach(function(_t){_e=_t.call({lexer:this},De),typeof _e=="number"&&_e>=0&&(re=Math.min(re,_e))}),re<1/0&&re>=0&&(ae=w.substring(0,re+1))}(),T=this.tokenizer.inlineText(ae,He)){w=w.substring(T.raw.length),T.raw.slice(-1)!=="_"&&(Ee=T.raw.slice(-1)),ge=!0,I=k[k.length-1],I&&I.type==="text"?(I.raw+=T.raw,I.text+=T.text):k.push(T);continue}if(w){var Ce="Infinite loop on byte: "+w.charCodeAt(0);if(this.options.silent){console.error(Ce);break}else throw new Error(Ce)}}return k},r($,null,[{key:"rules",get:function(){return{block:b,inline:Y}}}]),$}(),ot=function(){function $(H){this.options=H||n.defaults}var q=$.prototype;return q.code=function(w,k,R){var T=(k||"").match(/\S*/)[0];if(this.options.highlight){var I=this.options.highlight(w,T);I!=null&&I!==w&&(R=!0,w=I)}return w=w.replace(/\n$/,"")+`
`,T?'<pre><code class="'+this.options.langPrefix+O(T)+'">'+(R?w:O(w,!0))+`</code></pre>
`:"<pre><code>"+(R?w:O(w,!0))+`</code></pre>
`},q.blockquote=function(w){return`<blockquote>
`+w+`</blockquote>
`},q.html=function(w){return w},q.heading=function(w,k,R,T){if(this.options.headerIds){var I=this.options.headerPrefix+T.slug(R);return"<h"+k+' id="'+I+'">'+w+"</h"+k+`>
`}return"<h"+k+">"+w+"</h"+k+`>
`},q.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},q.list=function(w,k,R){var T=k?"ol":"ul",I=k&&R!==1?' start="'+R+'"':"";return"<"+T+I+`>
`+w+"</"+T+`>
`},q.listitem=function(w){return"<li>"+w+`</li>
`},q.checkbox=function(w){return"<input "+(w?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},q.paragraph=function(w){return"<p>"+w+`</p>
`},q.table=function(w,k){return k&&(k="<tbody>"+k+"</tbody>"),`<table>
<thead>
`+w+`</thead>
`+k+`</table>
`},q.tablerow=function(w){return`<tr>
`+w+`</tr>
`},q.tablecell=function(w,k){var R=k.header?"th":"td",T=k.align?"<"+R+' align="'+k.align+'">':"<"+R+">";return T+w+("</"+R+`>
`)},q.strong=function(w){return"<strong>"+w+"</strong>"},q.em=function(w){return"<em>"+w+"</em>"},q.codespan=function(w){return"<code>"+w+"</code>"},q.br=function(){return this.options.xhtml?"<br/>":"<br>"},q.del=function(w){return"<del>"+w+"</del>"},q.link=function(w,k,R){if(w=te(this.options.sanitize,this.options.baseUrl,w),w===null)return R;var T='<a href="'+w+'"';return k&&(T+=' title="'+k+'"'),T+=">"+R+"</a>",T},q.image=function(w,k,R){if(w=te(this.options.sanitize,this.options.baseUrl,w),w===null)return R;var T='<img src="'+w+'" alt="'+R+'"';return k&&(T+=' title="'+k+'"'),T+=this.options.xhtml?"/>":">",T},q.text=function(w){return w},$}(),$e=function(){function $(){}var q=$.prototype;return q.strong=function(w){return w},q.em=function(w){return w},q.codespan=function(w){return w},q.del=function(w){return w},q.html=function(w){return w},q.text=function(w){return w},q.link=function(w,k,R){return""+R},q.image=function(w,k,R){return""+R},q.br=function(){return""},$}(),Ft=function(){function $(){this.seen={}}var q=$.prototype;return q.serialize=function(w){return w.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},q.getNextSafeSlug=function(w,k){var R=w,T=0;if(this.seen.hasOwnProperty(R)){T=this.seen[w];do T++,R=w+"-"+T;while(this.seen.hasOwnProperty(R))}return k||(this.seen[w]=T,this.seen[R]=0),R},q.slug=function(w,k){k===void 0&&(k={});var R=this.serialize(w);return this.getNextSafeSlug(R,k.dryrun)},$}(),at=function(){function $(H){this.options=H||n.defaults,this.options.renderer=this.options.renderer||new ot,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new $e,this.slugger=new Ft}$.parse=function(w,k){var R=new $(k);return R.parse(w)},$.parseInline=function(w,k){var R=new $(k);return R.parseInline(w)};var q=$.prototype;return q.parse=function(w,k){k===void 0&&(k=!0);var R="",T,I,ae,he,pe,ge,Ee,Z,Ce,re,De,_e,_t,Re,Ge,tt,Si,jt,Ht,oi=w.length;for(T=0;T<oi;T++){if(re=w[T],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[re.type]&&(Ht=this.options.extensions.renderers[re.type].call({parser:this},re),Ht!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(re.type))){R+=Ht||"";continue}switch(re.type){case"space":continue;case"hr":{R+=this.renderer.hr();continue}case"heading":{R+=this.renderer.heading(this.parseInline(re.tokens),re.depth,C(this.parseInline(re.tokens,this.textRenderer)),this.slugger);continue}case"code":{R+=this.renderer.code(re.text,re.lang,re.escaped);continue}case"table":{for(Z="",Ee="",he=re.header.length,I=0;I<he;I++)Ee+=this.renderer.tablecell(this.parseInline(re.header[I].tokens),{header:!0,align:re.align[I]});for(Z+=this.renderer.tablerow(Ee),Ce="",he=re.rows.length,I=0;I<he;I++){for(ge=re.rows[I],Ee="",pe=ge.length,ae=0;ae<pe;ae++)Ee+=this.renderer.tablecell(this.parseInline(ge[ae].tokens),{header:!1,align:re.align[ae]});Ce+=this.renderer.tablerow(Ee)}R+=this.renderer.table(Z,Ce);continue}case"blockquote":{Ce=this.parse(re.tokens),R+=this.renderer.blockquote(Ce);continue}case"list":{for(De=re.ordered,_e=re.start,_t=re.loose,he=re.items.length,Ce="",I=0;I<he;I++)Ge=re.items[I],tt=Ge.checked,Si=Ge.task,Re="",Ge.task&&(jt=this.renderer.checkbox(tt),_t?Ge.tokens.length>0&&Ge.tokens[0].type==="paragraph"?(Ge.tokens[0].text=jt+" "+Ge.tokens[0].text,Ge.tokens[0].tokens&&Ge.tokens[0].tokens.length>0&&Ge.tokens[0].tokens[0].type==="text"&&(Ge.tokens[0].tokens[0].text=jt+" "+Ge.tokens[0].tokens[0].text)):Ge.tokens.unshift({type:"text",text:jt}):Re+=jt),Re+=this.parse(Ge.tokens,_t),Ce+=this.renderer.listitem(Re,Si,tt);R+=this.renderer.list(Ce,De,_e);continue}case"html":{R+=this.renderer.html(re.text);continue}case"paragraph":{R+=this.renderer.paragraph(this.parseInline(re.tokens));continue}case"text":{for(Ce=re.tokens?this.parseInline(re.tokens):re.text;T+1<oi&&w[T+1].type==="text";)re=w[++T],Ce+=`
`+(re.tokens?this.parseInline(re.tokens):re.text);R+=k?this.renderer.paragraph(Ce):Ce;continue}default:{var Ei='Token with "'+re.type+'" type was not found.';if(this.options.silent){console.error(Ei);return}else throw new Error(Ei)}}}return R},q.parseInline=function(w,k){k=k||this.renderer;var R="",T,I,ae,he=w.length;for(T=0;T<he;T++){if(I=w[T],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[I.type]&&(ae=this.options.extensions.renderers[I.type].call({parser:this},I),ae!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(I.type))){R+=ae||"";continue}switch(I.type){case"escape":{R+=k.text(I.text);break}case"html":{R+=k.html(I.text);break}case"link":{R+=k.link(I.href,I.title,this.parseInline(I.tokens,k));break}case"image":{R+=k.image(I.href,I.title,I.text);break}case"strong":{R+=k.strong(this.parseInline(I.tokens,k));break}case"em":{R+=k.em(this.parseInline(I.tokens,k));break}case"codespan":{R+=k.codespan(I.text);break}case"br":{R+=k.br();break}case"del":{R+=k.del(this.parseInline(I.tokens,k));break}case"text":{R+=k.text(I.text);break}default:{var pe='Token with "'+I.type+'" type was not found.';if(this.options.silent){console.error(pe);return}else throw new Error(pe)}}}return R},$}(),Pe=function(){function $(H){this.options=H||n.defaults}var q=$.prototype;return q.preprocess=function(w){return w},q.postprocess=function(w){return w},$}();Pe.passThroughHooks=new Set(["preprocess","postprocess"]);function et($,q,H){return function(w){if(w.message+=`
Please report this to https://github.com/markedjs/marked.`,$){var k="<p>An error occurred:</p><pre>"+O(w.message+"",!0)+"</pre>";if(q)return Promise.resolve(k);if(H){H(null,k);return}return k}if(q)return Promise.reject(w);if(H){H(w);return}throw w}}function Ot($,q){return function(H,w,k){typeof w=="function"&&(k=w,w=null);var R=a({},w);w=a({},we.defaults,R);var T=et(w.silent,w.async,k);if(typeof H>"u"||H===null)return T(new Error("marked(): input parameter is undefined or null"));if(typeof H!="string")return T(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(H)+", string expected"));if(me(w),w.hooks&&(w.hooks.options=w),k){var I=w.highlight,ae;try{w.hooks&&(H=w.hooks.preprocess(H)),ae=$(H,w)}catch(Z){return T(Z)}var he=function(Ce){var re;if(!Ce)try{w.walkTokens&&we.walkTokens(ae,w.walkTokens),re=q(ae,w),w.hooks&&(re=w.hooks.postprocess(re))}catch(De){Ce=De}return w.highlight=I,Ce?T(Ce):k(null,re)};if(!I||I.length<3||(delete w.highlight,!ae.length))return he();var pe=0;we.walkTokens(ae,function(Z){Z.type==="code"&&(pe++,setTimeout(function(){I(Z.text,Z.lang,function(Ce,re){if(Ce)return he(Ce);re!=null&&re!==Z.text&&(Z.text=re,Z.escaped=!0),pe--,pe===0&&he()})},0))}),pe===0&&he();return}if(w.async)return Promise.resolve(w.hooks?w.hooks.preprocess(H):H).then(function(Z){return $(Z,w)}).then(function(Z){return w.walkTokens?Promise.all(we.walkTokens(Z,w.walkTokens)).then(function(){return Z}):Z}).then(function(Z){return q(Z,w)}).then(function(Z){return w.hooks?w.hooks.postprocess(Z):Z}).catch(T);try{w.hooks&&(H=w.hooks.preprocess(H));var ge=$(H,w);w.walkTokens&&we.walkTokens(ge,w.walkTokens);var Ee=q(ge,w);return w.hooks&&(Ee=w.hooks.postprocess(Ee)),Ee}catch(Z){return T(Z)}}}function we($,q,H){return Ot(je.lex,at.parse)($,q,H)}we.options=we.setOptions=function($){return we.defaults=a({},we.defaults,$),B(we.defaults),we},we.getDefaults=E,we.defaults=n.defaults,we.use=function(){for(var $=we.defaults.extensions||{renderers:{},childTokens:{}},q=arguments.length,H=new Array(q),w=0;w<q;w++)H[w]=arguments[w];H.forEach(function(k){var R=a({},k);if(R.async=we.defaults.async||R.async||!1,k.extensions&&(k.extensions.forEach(function(I){if(!I.name)throw new Error("extension name required");if(I.renderer){var ae=$.renderers[I.name];ae?$.renderers[I.name]=function(){for(var he=arguments.length,pe=new Array(he),ge=0;ge<he;ge++)pe[ge]=arguments[ge];var Ee=I.renderer.apply(this,pe);return Ee===!1&&(Ee=ae.apply(this,pe)),Ee}:$.renderers[I.name]=I.renderer}if(I.tokenizer){if(!I.level||I.level!=="block"&&I.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");$[I.level]?$[I.level].unshift(I.tokenizer):$[I.level]=[I.tokenizer],I.start&&(I.level==="block"?$.startBlock?$.startBlock.push(I.start):$.startBlock=[I.start]:I.level==="inline"&&($.startInline?$.startInline.push(I.start):$.startInline=[I.start]))}I.childTokens&&($.childTokens[I.name]=I.childTokens)}),R.extensions=$),k.renderer&&function(){var I=we.defaults.renderer||new ot,ae=function(ge){var Ee=I[ge];I[ge]=function(){for(var Z=arguments.length,Ce=new Array(Z),re=0;re<Z;re++)Ce[re]=arguments[re];var De=k.renderer[ge].apply(I,Ce);return De===!1&&(De=Ee.apply(I,Ce)),De}};for(var he in k.renderer)ae(he);R.renderer=I}(),k.tokenizer&&function(){var I=we.defaults.tokenizer||new P,ae=function(ge){var Ee=I[ge];I[ge]=function(){for(var Z=arguments.length,Ce=new Array(Z),re=0;re<Z;re++)Ce[re]=arguments[re];var De=k.tokenizer[ge].apply(I,Ce);return De===!1&&(De=Ee.apply(I,Ce)),De}};for(var he in k.tokenizer)ae(he);R.tokenizer=I}(),k.hooks&&function(){var I=we.defaults.hooks||new Pe,ae=function(ge){var Ee=I[ge];Pe.passThroughHooks.has(ge)?I[ge]=function(Z){if(we.defaults.async)return Promise.resolve(k.hooks[ge].call(I,Z)).then(function(re){return Ee.call(I,re)});var Ce=k.hooks[ge].call(I,Z);return Ee.call(I,Ce)}:I[ge]=function(){for(var Z=arguments.length,Ce=new Array(Z),re=0;re<Z;re++)Ce[re]=arguments[re];var De=k.hooks[ge].apply(I,Ce);return De===!1&&(De=Ee.apply(I,Ce)),De}};for(var he in k.hooks)ae(he);R.hooks=I}(),k.walkTokens){var T=we.defaults.walkTokens;R.walkTokens=function(I){var ae=[];return ae.push(k.walkTokens.call(this,I)),T&&(ae=ae.concat(T.call(this,I))),ae}}we.setOptions(R)})},we.walkTokens=function($,q){for(var H=[],w=function(){var I=R.value;switch(H=H.concat(q.call(we,I)),I.type){case"table":{for(var ae=d(I.header),he;!(he=ae()).done;){var pe=he.value;H=H.concat(we.walkTokens(pe.tokens,q))}for(var ge=d(I.rows),Ee;!(Ee=ge()).done;)for(var Z=Ee.value,Ce=d(Z),re;!(re=Ce()).done;){var De=re.value;H=H.concat(we.walkTokens(De.tokens,q))}break}case"list":{H=H.concat(we.walkTokens(I.items,q));break}default:we.defaults.extensions&&we.defaults.extensions.childTokens&&we.defaults.extensions.childTokens[I.type]?we.defaults.extensions.childTokens[I.type].forEach(function(_e){H=H.concat(we.walkTokens(I[_e],q))}):I.tokens&&(H=H.concat(we.walkTokens(I.tokens,q)))}},k=d($),R;!(R=k()).done;)w();return H},we.parseInline=Ot(je.lexInline,at.parseInline),we.Parser=at,we.parser=at.parse,we.Renderer=ot,we.TextRenderer=$e,we.Lexer=je,we.lexer=je.lex,we.Tokenizer=P,we.Slugger=Ft,we.Hooks=Pe,we.parse=we;var zt=we.options,Nt=we.setOptions,Oe=we.use,Wt=we.walkTokens,ki=we.parseInline,$t=we,qt=at.parse,zr=je.lex;n.Hooks=Pe,n.Lexer=je,n.Parser=at,n.Renderer=ot,n.Slugger=Ft,n.TextRenderer=$e,n.Tokenizer=P,n.getDefaults=E,n.lexer=zr,n.marked=we,n.options=zt,n.parse=$t,n.parseInline=ki,n.parser=qt,n.setOptions=Nt,n.use=Oe,n.walkTokens=Wt})(ad);var Br=It,mb=gb,Ea=ad.marked,ld=/Mac/.test(navigator.platform),vb=new RegExp(/(<a.*?https?:\/\/.*?[^a]>)+?/g),Dn={toggleBold:Vs,toggleItalic:Ks,drawLink:no,toggleHeadingSmaller:An,toggleHeadingBigger:Zs,drawImage:so,toggleBlockquote:Ys,toggleOrderedList:io,toggleUnorderedList:to,toggleCodeBlock:Xs,togglePreview:co,toggleStrikethrough:Gs,toggleHeading1:Js,toggleHeading2:Qs,toggleHeading3:eo,toggleHeading4:cl,toggleHeading5:hl,toggleHeading6:dl,cleanBlock:ro,drawTable:oo,drawHorizontalRule:ao,undo:lo,redo:uo,toggleSideBySide:Hr,toggleFullScreen:ar},yb={toggleBold:"Cmd-B",toggleItalic:"Cmd-I",drawLink:"Cmd-K",toggleHeadingSmaller:"Cmd-H",toggleHeadingBigger:"Shift-Cmd-H",toggleHeading1:"Ctrl+Alt+1",toggleHeading2:"Ctrl+Alt+2",toggleHeading3:"Ctrl+Alt+3",toggleHeading4:"Ctrl+Alt+4",toggleHeading5:"Ctrl+Alt+5",toggleHeading6:"Ctrl+Alt+6",cleanBlock:"Cmd-E",drawImage:"Cmd-Alt-I",toggleBlockquote:"Cmd-'",toggleOrderedList:"Cmd-Alt-L",toggleUnorderedList:"Cmd-L",toggleCodeBlock:"Cmd-Alt-C",togglePreview:"Cmd-P",toggleSideBySide:"F9",toggleFullScreen:"F11"},bb=function(n){for(var t in Dn)if(Dn[t]===n)return t;return null},Ga=function(){var n=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(t.substr(0,4)))&&(n=!0)}(navigator.userAgent||navigator.vendor||window.opera),n};function wb(n){for(var t;(t=vb.exec(n))!==null;){var r=t[0];if(r.indexOf("target=")===-1){var a=r.replace(/>$/,' target="_blank">');n=n.replace(r,a)}}return n}function xb(n){for(var t=new DOMParser,r=t.parseFromString(n,"text/html"),a=r.getElementsByTagName("li"),u=0;u<a.length;u++)for(var f=a[u],d=0;d<f.children.length;d++){var m=f.children[d];m instanceof HTMLInputElement&&m.type==="checkbox"&&(f.style.marginLeft="-1.5em",f.style.listStyleType="none")}return r.documentElement.innerHTML}function ud(n){return ld?n=n.replace("Ctrl","Cmd"):n=n.replace("Cmd","Ctrl"),n}function Cb(n,t,r,a){var u=Es(n,!1,t,r,"button",a);u.classList.add("easymde-dropdown"),u.onclick=function(){u.focus()};var f=document.createElement("div");f.className="easymde-dropdown-content";for(var d=0;d<n.children.length;d++){var m=n.children[d],y;typeof m=="string"&&m in or?y=Es(or[m],!0,t,r,"button",a):y=Es(m,!0,t,r,"button",a),y.addEventListener("click",function(E){E.stopPropagation()},!1),f.appendChild(y)}return u.appendChild(f),u}function Es(n,t,r,a,u,f){n=n||{};var d=document.createElement(u);if(n.attributes)for(var m in n.attributes)Object.prototype.hasOwnProperty.call(n.attributes,m)&&d.setAttribute(m,n.attributes[m]);var y=f.options.toolbarButtonClassPrefix?f.options.toolbarButtonClassPrefix+"-":"";d.className=y+n.name,d.setAttribute("type",u),r=r??!0,n.text&&(d.innerText=n.text),n.name&&n.name in a&&(Dn[n.name]=n.action),n.title&&r&&(d.title=Sb(n.title,n.action,a),ld&&(d.title=d.title.replace("Ctrl",""),d.title=d.title.replace("Alt",""))),n.title&&d.setAttribute("aria-label",n.title),n.noDisable&&d.classList.add("no-disable"),n.noMobile&&d.classList.add("no-mobile");var E=[];typeof n.className<"u"&&(E=n.className.split(" "));for(var B=[],M=0;M<E.length;M++){var _=E[M];_.match(/^fa([srlb]|(-[\w-]*)|$)/)?B.push(_):d.classList.add(_)}if(d.tabIndex=-1,B.length>0){for(var W=document.createElement("i"),U=0;U<B.length;U++){var X=B[U];W.classList.add(X)}d.appendChild(W)}return typeof n.icon<"u"&&(d.innerHTML=n.icon),n.action&&t&&(typeof n.action=="function"?d.onclick=function(V){V.preventDefault(),n.action(f)}:typeof n.action=="string"&&(d.onclick=function(V){V.preventDefault(),window.open(n.action,"_blank")})),d}function kb(){var n=document.createElement("i");return n.className="separator",n.innerHTML="|",n}function Sb(n,t,r){var a,u=n;return t&&(a=bb(t),r[a]&&(u+=" ("+ud(r[a])+")")),u}function zi(n,t){t=t||n.getCursor("start");var r=n.getTokenAt(t);if(!r.type)return{};for(var a=r.type.split(" "),u={},f,d,m=0;m<a.length;m++)f=a[m],f==="strong"?u.bold=!0:f==="variable-2"?(d=n.getLine(t.line),/^\s*\d+\.\s/.test(d)?u["ordered-list"]=!0:u["unordered-list"]=!0):f==="atom"?u.quote=!0:f==="em"?u.italic=!0:f==="quote"?u.quote=!0:f==="strikethrough"?u.strikethrough=!0:f==="comment"?u.code=!0:f==="link"&&!u.image?u.link=!0:f==="image"?u.image=!0:f.match(/^header(-[1-6])?$/)&&(u[f.replace("header","heading")]=!0);return u}var eh="";function ar(n){var t=n.codemirror;t.setOption("fullScreen",!t.getOption("fullScreen")),t.getOption("fullScreen")?(eh=document.body.style.overflow,document.body.style.overflow="hidden"):document.body.style.overflow=eh;var r=t.getWrapperElement(),a=r.nextSibling;if(a.classList.contains("editor-preview-active-side"))if(n.options.sideBySideFullscreen===!1){var u=r.parentNode;t.getOption("fullScreen")?u.classList.remove("sided--no-fullscreen"):u.classList.add("sided--no-fullscreen")}else Hr(n);if(n.options.onToggleFullScreen&&n.options.onToggleFullScreen(t.getOption("fullScreen")||!1),typeof n.options.maxHeight<"u"&&(t.getOption("fullScreen")?(t.getScrollerElement().style.removeProperty("height"),a.style.removeProperty("height")):(t.getScrollerElement().style.height=n.options.maxHeight,n.setPreviewMaxHeight())),n.toolbar_div.classList.toggle("fullscreen"),n.toolbarElements&&n.toolbarElements.fullscreen){var f=n.toolbarElements.fullscreen;f.classList.toggle("active")}}function Vs(n){gl(n,"bold",n.options.blockStyles.bold)}function Ks(n){gl(n,"italic",n.options.blockStyles.italic)}function Gs(n){gl(n,"strikethrough","~~")}function Xs(n){var t=n.options.blockStyles.code;function r(ve){if(typeof ve!="object")throw"fencing_line() takes a 'line' object (not a line number, or line text).  Got: "+typeof ve+": "+ve;return ve.styles&&ve.styles[2]&&ve.styles[2].indexOf("formatting-code-block")!==-1}function a(ve){return ve.state.base.base||ve.state.base}function u(ve,N,ie,Q,me){ie=ie||ve.getLineHandle(N),Q=Q||ve.getTokenAt({line:N,ch:1}),me=me||!!ie.text&&ve.getTokenAt({line:N,ch:ie.text.length-1});var Ie=Q.type?Q.type.split(" "):[];return me&&a(me).indentedCode?"indented":Ie.indexOf("comment")===-1?!1:a(Q).fencedChars||a(me).fencedChars||r(ie)?"fenced":"single"}function f(ve,N,ie,Q){var me=N.line+1,Ie=ie.line+1,Qe=N.line!==ie.line,Jt=Q+`
`,P=`
`+Q;Qe&&Ie++,Qe&&ie.ch===0&&(P=Q+`
`,Ie--),lr(ve,!1,[Jt,P]),ve.setSelection({line:me,ch:0},{line:Ie,ch:0})}var d=n.codemirror,m=d.getCursor("start"),y=d.getCursor("end"),E=d.getTokenAt({line:m.line,ch:m.ch||1}),B=d.getLineHandle(m.line),M=u(d,m.line,B,E),_,W,U;if(M==="single"){var X=B.text.slice(0,m.ch).replace("`",""),V=B.text.slice(m.ch).replace("`","");d.replaceRange(X+V,{line:m.line,ch:0},{line:m.line,ch:99999999999999}),m.ch--,m!==y&&y.ch--,d.setSelection(m,y),d.focus()}else if(M==="fenced")if(m.line!==y.line||m.ch!==y.ch){for(_=m.line;_>=0&&(B=d.getLineHandle(_),!r(B));_--);var O=d.getTokenAt({line:_,ch:1}),D=a(O).fencedChars,C,x,S,L;r(d.getLineHandle(m.line))?(C="",x=m.line):r(d.getLineHandle(m.line-1))?(C="",x=m.line-1):(C=D+`
`,x=m.line),r(d.getLineHandle(y.line))?(S="",L=y.line,y.ch===0&&(L+=1)):y.ch!==0&&r(d.getLineHandle(y.line+1))?(S="",L=y.line+1):(S=D+`
`,L=y.line+1),y.ch===0&&(L-=1),d.operation(function(){d.replaceRange(S,{line:L,ch:0},{line:L+(S?0:1),ch:0}),d.replaceRange(C,{line:x,ch:0},{line:x+(C?0:1),ch:0})}),d.setSelection({line:x+(C?1:0),ch:0},{line:L+(C?1:-1),ch:0}),d.focus()}else{var G=m.line;if(r(d.getLineHandle(m.line))&&(u(d,m.line+1)==="fenced"?(_=m.line,G=m.line+1):(W=m.line,G=m.line-1)),_===void 0)for(_=G;_>=0&&(B=d.getLineHandle(_),!r(B));_--);if(W===void 0)for(U=d.lineCount(),W=G;W<U&&(B=d.getLineHandle(W),!r(B));W++);d.operation(function(){d.replaceRange("",{line:_,ch:0},{line:_+1,ch:0}),d.replaceRange("",{line:W-1,ch:0},{line:W,ch:0})}),d.focus()}else if(M==="indented"){if(m.line!==y.line||m.ch!==y.ch)_=m.line,W=y.line,y.ch===0&&W--;else{for(_=m.line;_>=0;_--)if(B=d.getLineHandle(_),!B.text.match(/^\s*$/)&&u(d,_,B)!=="indented"){_+=1;break}for(U=d.lineCount(),W=m.line;W<U;W++)if(B=d.getLineHandle(W),!B.text.match(/^\s*$/)&&u(d,W,B)!=="indented"){W-=1;break}}var te=d.getLineHandle(W+1),oe=te&&d.getTokenAt({line:W+1,ch:te.text.length-1}),Be=oe&&a(oe).indentedCode;Be&&d.replaceRange(`
`,{line:W+1,ch:0});for(var se=_;se<=W;se++)d.indentLine(se,"subtract");d.focus()}else{var ke=m.line===y.line&&m.ch===y.ch&&m.ch===0,Se=m.line!==y.line;ke||Se?f(d,m,y,t):lr(d,!1,["`","`"])}}function Ys(n){pl(n.codemirror,"quote")}function An(n){Wi(n.codemirror,"smaller")}function Zs(n){Wi(n.codemirror,"bigger")}function Js(n){Wi(n.codemirror,void 0,1)}function Qs(n){Wi(n.codemirror,void 0,2)}function eo(n){Wi(n.codemirror,void 0,3)}function cl(n){Wi(n.codemirror,void 0,4)}function hl(n){Wi(n.codemirror,void 0,5)}function dl(n){Wi(n.codemirror,void 0,6)}function to(n){var t=n.codemirror,r="*";["-","+","*"].includes(n.options.unorderedListStyle)&&(r=n.options.unorderedListStyle),pl(t,"unordered-list",r)}function io(n){pl(n.codemirror,"ordered-list")}function ro(n){Eb(n.codemirror)}function no(n){var t=n.options,r="https://";if(t.promptURLs){var a=prompt(t.promptTexts.link,r);if(!a)return!1;r=cd(a)}dd(n,"link",t.insertTexts.link,r)}function so(n){var t=n.options,r="https://";if(t.promptURLs){var a=prompt(t.promptTexts.image,r);if(!a)return!1;r=cd(a)}dd(n,"image",t.insertTexts.image,r)}function cd(n){return encodeURI(n).replace(/([\\()])/g,"\\$1")}function fl(n){n.openBrowseFileWindow()}function hd(n,t){var r=n.codemirror,a=zi(r),u=n.options,f=t.substr(t.lastIndexOf("/")+1),d=f.substring(f.lastIndexOf(".")+1).replace(/\?.*$/,"").toLowerCase();if(["png","jpg","jpeg","gif","svg","apng","avif","webp"].includes(d))lr(r,a.image,u.insertTexts.uploadedImage,t);else{var m=u.insertTexts.link;m[0]="["+f,lr(r,a.link,m,t)}n.updateStatusBar("upload-image",n.options.imageTexts.sbOnUploaded.replace("#image_name#",f)),setTimeout(function(){n.updateStatusBar("upload-image",n.options.imageTexts.sbInit)},1e3)}function oo(n){var t=n.codemirror,r=zi(t),a=n.options;lr(t,r.table,a.insertTexts.table)}function ao(n){var t=n.codemirror,r=zi(t),a=n.options;lr(t,r.image,a.insertTexts.horizontalRule)}function lo(n){var t=n.codemirror;t.undo(),t.focus()}function uo(n){var t=n.codemirror;t.redo(),t.focus()}function Hr(n){var t=n.codemirror,r=t.getWrapperElement(),a=r.nextSibling,u=n.toolbarElements&&n.toolbarElements["side-by-side"],f=!1,d=r.parentNode;a.classList.contains("editor-preview-active-side")?(n.options.sideBySideFullscreen===!1&&d.classList.remove("sided--no-fullscreen"),a.classList.remove("editor-preview-active-side"),u&&u.classList.remove("active"),r.classList.remove("CodeMirror-sided")):(setTimeout(function(){t.getOption("fullScreen")||(n.options.sideBySideFullscreen===!1?d.classList.add("sided--no-fullscreen"):ar(n)),a.classList.add("editor-preview-active-side")},1),u&&u.classList.add("active"),r.classList.add("CodeMirror-sided"),f=!0);var m=r.lastChild;if(m.classList.contains("editor-preview-active")){m.classList.remove("editor-preview-active");var y=n.toolbarElements.preview,E=n.toolbar_div;y.classList.remove("active"),E.classList.remove("disabled-for-preview")}var B=function(){var _=n.options.previewRender(n.value(),a);_!=null&&(a.innerHTML=_)};if(t.sideBySideRenderingFunction||(t.sideBySideRenderingFunction=B),f){var M=n.options.previewRender(n.value(),a);M!=null&&(a.innerHTML=M),t.on("update",t.sideBySideRenderingFunction)}else t.off("update",t.sideBySideRenderingFunction);t.refresh()}function co(n){var t=n.codemirror,r=t.getWrapperElement(),a=n.toolbar_div,u=n.options.toolbar?n.toolbarElements.preview:!1,f=r.lastChild,d=t.getWrapperElement().nextSibling;if(d.classList.contains("editor-preview-active-side")&&Hr(n),!f||!f.classList.contains("editor-preview-full")){if(f=document.createElement("div"),f.className="editor-preview-full",n.options.previewClass)if(Array.isArray(n.options.previewClass))for(var m=0;m<n.options.previewClass.length;m++)f.classList.add(n.options.previewClass[m]);else typeof n.options.previewClass=="string"&&f.classList.add(n.options.previewClass);r.appendChild(f)}f.classList.contains("editor-preview-active")?(f.classList.remove("editor-preview-active"),u&&(u.classList.remove("active"),a.classList.remove("disabled-for-preview"))):(setTimeout(function(){f.classList.add("editor-preview-active")},1),u&&(u.classList.add("active"),a.classList.add("disabled-for-preview")));var y=n.options.previewRender(n.value(),f);y!==null&&(f.innerHTML=y)}function lr(n,t,r,a){if(!n.getWrapperElement().lastChild.classList.contains("editor-preview-active")){var u,f=r[0],d=r[1],m={},y={};Object.assign(m,n.getCursor("start")),Object.assign(y,n.getCursor("end")),a&&(f=f.replace("#url#",a),d=d.replace("#url#",a)),t?(u=n.getLine(m.line),f=u.slice(0,m.ch),d=u.slice(m.ch),n.replaceRange(f+d,{line:m.line,ch:0})):(u=n.getSelection(),n.replaceSelection(f+u+d),m.ch+=f.length,m!==y&&(y.ch+=f.length)),n.setSelection(m,y),n.focus()}}function Wi(n,t,r){if(!n.getWrapperElement().lastChild.classList.contains("editor-preview-active")){for(var a=n.getCursor("start"),u=n.getCursor("end"),f=a.line;f<=u.line;f++)(function(d){var m=n.getLine(d),y=m.search(/[^#]/);t!==void 0?y<=0?t=="bigger"?m="###### "+m:m="# "+m:y==6&&t=="smaller"?m=m.substr(7):y==1&&t=="bigger"?m=m.substr(2):t=="bigger"?m=m.substr(1):m="#"+m:y<=0?m="#".repeat(r)+" "+m:y==r?m=m.substr(y+1):m="#".repeat(r)+" "+m.substr(y+1),n.replaceRange(m,{line:d,ch:0},{line:d,ch:99999999999999})})(f);n.focus()}}function pl(n,t,r){if(!n.getWrapperElement().lastChild.classList.contains("editor-preview-active")){for(var a=/^(\s*)(\*|-|\+|\d*\.)(\s+)/,u=/^\s*/,f=zi(n),d=n.getCursor("start"),m=n.getCursor("end"),y={quote:/^(\s*)>\s+/,"unordered-list":a,"ordered-list":a},E=function(U,X){var V={quote:">","unordered-list":r,"ordered-list":"%%i."};return V[U].replace("%%i",X)},B=function(U,X){var V={quote:">","unordered-list":"\\"+r,"ordered-list":"\\d+."},O=new RegExp(V[U]);return X&&O.test(X)},M=function(U,X,V){var O=a.exec(X),D=E(U,_);return O!==null?(B(U,O[2])&&(D=""),X=O[1]+D+O[3]+X.replace(u,"").replace(y[U],"$1")):V==!1&&(X=D+" "+X),X},_=1,W=d.line;W<=m.line;W++)(function(U){var X=n.getLine(U);f[t]?X=X.replace(y[t],"$1"):(t=="unordered-list"&&(X=M("ordered-list",X,!0)),X=M(t,X,!1),_+=1),n.replaceRange(X,{line:U,ch:0},{line:U,ch:99999999999999})})(W);n.focus()}}function dd(n,t,r,a){if(!(!n.codemirror||n.isPreviewActive())){var u=n.codemirror,f=zi(u),d=f[t];if(!d){lr(u,d,r,a);return}var m=u.getCursor("start"),y=u.getCursor("end"),E=u.getLine(m.line),B=E.slice(0,m.ch),M=E.slice(m.ch);t=="link"?B=B.replace(/(.*)[^!]\[/,"$1"):t=="image"&&(B=B.replace(/(.*)!\[$/,"$1")),M=M.replace(/]\(.*?\)/,""),u.replaceRange(B+M,{line:m.line,ch:0},{line:m.line,ch:99999999999999}),m.ch-=r[0].length,m!==y&&(y.ch-=r[0].length),u.setSelection(m,y),u.focus()}}function gl(n,t,r,a){if(!(!n.codemirror||n.isPreviewActive())){a=typeof a>"u"?r:a;var u=n.codemirror,f=zi(u),d,m=r,y=a,E=u.getCursor("start"),B=u.getCursor("end");f[t]?(d=u.getLine(E.line),m=d.slice(0,E.ch),y=d.slice(E.ch),t=="bold"?(m=m.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/,""),y=y.replace(/(\*\*|__)/,"")):t=="italic"?(m=m.replace(/(\*|_)(?![\s\S]*(\*|_))/,""),y=y.replace(/(\*|_)/,"")):t=="strikethrough"&&(m=m.replace(/(\*\*|~~)(?![\s\S]*(\*\*|~~))/,""),y=y.replace(/(\*\*|~~)/,"")),u.replaceRange(m+y,{line:E.line,ch:0},{line:E.line,ch:99999999999999}),t=="bold"||t=="strikethrough"?(E.ch-=2,E!==B&&(B.ch-=2)):t=="italic"&&(E.ch-=1,E!==B&&(B.ch-=1))):(d=u.getSelection(),t=="bold"?(d=d.split("**").join(""),d=d.split("__").join("")):t=="italic"?(d=d.split("*").join(""),d=d.split("_").join("")):t=="strikethrough"&&(d=d.split("~~").join("")),u.replaceSelection(m+d+y),E.ch+=r.length,B.ch=E.ch+d.length),u.setSelection(E,B),u.focus()}}function Eb(n){if(!n.getWrapperElement().lastChild.classList.contains("editor-preview-active"))for(var t=n.getCursor("start"),r=n.getCursor("end"),a,u=t.line;u<=r.line;u++)a=n.getLine(u),a=a.replace(/^[ ]*([# ]+|\*|-|[> ]+|[0-9]+(.|\)))[ ]*/,""),n.replaceRange(a,{line:u,ch:0},{line:u,ch:99999999999999})}function Ns(n,t){if(Math.abs(n)<1024)return""+n+t[0];var r=0;do n/=1024,++r;while(Math.abs(n)>=1024&&r<t.length);return""+n.toFixed(1)+t[r]}function fd(n,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]instanceof Array?n[r]=t[r].concat(n[r]instanceof Array?n[r]:[]):t[r]!==null&&typeof t[r]=="object"&&t[r].constructor===Object?n[r]=fd(n[r]||{},t[r]):n[r]=t[r]);return n}function pi(n){for(var t=1;t<arguments.length;t++)n=fd(n,arguments[t]);return n}function th(n){var t=/[a-zA-Z0-9_\u00A0-\u02AF\u0392-\u03c9\u0410-\u04F9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g,r=n.match(t),a=0;if(r===null)return a;for(var u=0;u<r.length;u++)r[u].charCodeAt(0)>=19968?a+=r[u].length:a+=1;return a}var Ue={bold:"fa fa-bold",italic:"fa fa-italic",strikethrough:"fa fa-strikethrough",heading:"fa fa-header fa-heading","heading-smaller":"fa fa-header fa-heading header-smaller","heading-bigger":"fa fa-header fa-heading header-bigger","heading-1":"fa fa-header fa-heading header-1","heading-2":"fa fa-header fa-heading header-2","heading-3":"fa fa-header fa-heading header-3",code:"fa fa-code",quote:"fa fa-quote-left","ordered-list":"fa fa-list-ol","unordered-list":"fa fa-list-ul","clean-block":"fa fa-eraser",link:"fa fa-link",image:"fa fa-image","upload-image":"fa fa-image",table:"fa fa-table","horizontal-rule":"fa fa-minus",preview:"fa fa-eye","side-by-side":"fa fa-columns",fullscreen:"fa fa-arrows-alt",guide:"fa fa-question-circle",undo:"fa fa-undo",redo:"fa fa-repeat fa-redo"},or={bold:{name:"bold",action:Vs,className:Ue.bold,title:"Bold",default:!0},italic:{name:"italic",action:Ks,className:Ue.italic,title:"Italic",default:!0},strikethrough:{name:"strikethrough",action:Gs,className:Ue.strikethrough,title:"Strikethrough"},heading:{name:"heading",action:An,className:Ue.heading,title:"Heading",default:!0},"heading-smaller":{name:"heading-smaller",action:An,className:Ue["heading-smaller"],title:"Smaller Heading"},"heading-bigger":{name:"heading-bigger",action:Zs,className:Ue["heading-bigger"],title:"Bigger Heading"},"heading-1":{name:"heading-1",action:Js,className:Ue["heading-1"],title:"Big Heading"},"heading-2":{name:"heading-2",action:Qs,className:Ue["heading-2"],title:"Medium Heading"},"heading-3":{name:"heading-3",action:eo,className:Ue["heading-3"],title:"Small Heading"},"separator-1":{name:"separator-1"},code:{name:"code",action:Xs,className:Ue.code,title:"Code"},quote:{name:"quote",action:Ys,className:Ue.quote,title:"Quote",default:!0},"unordered-list":{name:"unordered-list",action:to,className:Ue["unordered-list"],title:"Generic List",default:!0},"ordered-list":{name:"ordered-list",action:io,className:Ue["ordered-list"],title:"Numbered List",default:!0},"clean-block":{name:"clean-block",action:ro,className:Ue["clean-block"],title:"Clean block"},"separator-2":{name:"separator-2"},link:{name:"link",action:no,className:Ue.link,title:"Create Link",default:!0},image:{name:"image",action:so,className:Ue.image,title:"Insert Image",default:!0},"upload-image":{name:"upload-image",action:fl,className:Ue["upload-image"],title:"Import an image"},table:{name:"table",action:oo,className:Ue.table,title:"Insert Table"},"horizontal-rule":{name:"horizontal-rule",action:ao,className:Ue["horizontal-rule"],title:"Insert Horizontal Line"},"separator-3":{name:"separator-3"},preview:{name:"preview",action:co,className:Ue.preview,noDisable:!0,title:"Toggle Preview",default:!0},"side-by-side":{name:"side-by-side",action:Hr,className:Ue["side-by-side"],noDisable:!0,noMobile:!0,title:"Toggle Side by Side",default:!0},fullscreen:{name:"fullscreen",action:ar,className:Ue.fullscreen,noDisable:!0,noMobile:!0,title:"Toggle Fullscreen",default:!0},"separator-4":{name:"separator-4"},guide:{name:"guide",action:"https://www.markdownguide.org/basic-syntax/",className:Ue.guide,noDisable:!0,title:"Markdown Guide",default:!0},"separator-5":{name:"separator-5"},undo:{name:"undo",action:lo,className:Ue.undo,noDisable:!0,title:"Undo"},redo:{name:"redo",action:uo,className:Ue.redo,noDisable:!0,title:"Redo"}},Db={link:["[","](#url#)"],image:["![","](#url#)"],uploadedImage:["![](#url#)",""],table:["",`

| Column 1 | Column 2 | Column 3 |
| -------- | -------- | -------- |
| Text     | Text     | Text     |

`],horizontalRule:["",`

-----

`]},Ab={link:"URL for the link:",image:"URL of the image:"},Lb={locale:"en-US",format:{hour:"2-digit",minute:"2-digit"}},Fb={bold:"**",code:"```",italic:"*"},Tb={sbInit:"Attach files by drag and dropping or pasting from clipboard.",sbOnDragEnter:"Drop image to upload it.",sbOnDrop:"Uploading image #images_names#...",sbProgress:"Uploading #file_name#: #progress#%",sbOnUploaded:"Uploaded #image_name#",sizeUnits:" B, KB, MB"},Mb={noFileGiven:"You must select a file.",typeNotAllowed:"This image type is not allowed.",fileTooLarge:`Image #image_name# is too big (#image_size#).
Maximum file size is #image_max_size#.`,importError:"Something went wrong when uploading the image #image_name#."};function de(n){n=n||{},n.parent=this;var t=!0;if(n.autoDownloadFontAwesome===!1&&(t=!1),n.autoDownloadFontAwesome!==!0)for(var r=document.styleSheets,a=0;a<r.length;a++)r[a].href&&r[a].href.indexOf("//maxcdn.bootstrapcdn.com/font-awesome/")>-1&&(t=!1);if(t){var u=document.createElement("link");u.rel="stylesheet",u.href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css",document.getElementsByTagName("head")[0].appendChild(u)}if(n.element)this.element=n.element;else if(n.element===null){console.log("EasyMDE: Error. No element was found.");return}if(n.toolbar===void 0){n.toolbar=[];for(var f in or)Object.prototype.hasOwnProperty.call(or,f)&&(f.indexOf("separator-")!=-1&&n.toolbar.push("|"),(or[f].default===!0||n.showIcons&&n.showIcons.constructor===Array&&n.showIcons.indexOf(f)!=-1)&&n.toolbar.push(f))}if(Object.prototype.hasOwnProperty.call(n,"previewClass")||(n.previewClass="editor-preview"),Object.prototype.hasOwnProperty.call(n,"status")||(n.status=["autosave","lines","words","cursor"],n.uploadImage&&n.status.unshift("upload-image")),n.previewRender||(n.previewRender=function(m){return this.parent.markdown(m)}),n.parsingConfig=pi({highlightFormatting:!0},n.parsingConfig||{}),n.insertTexts=pi({},Db,n.insertTexts||{}),n.promptTexts=pi({},Ab,n.promptTexts||{}),n.blockStyles=pi({},Fb,n.blockStyles||{}),n.autosave!=null&&(n.autosave.timeFormat=pi({},Lb,n.autosave.timeFormat||{})),n.iconClassMap=pi({},Ue,n.iconClassMap||{}),n.shortcuts=pi({},yb,n.shortcuts||{}),n.maxHeight=n.maxHeight||void 0,n.direction=n.direction||"ltr",typeof n.maxHeight<"u"?n.minHeight=n.maxHeight:n.minHeight=n.minHeight||"300px",n.errorCallback=n.errorCallback||function(m){alert(m)},n.uploadImage=n.uploadImage||!1,n.imageMaxSize=n.imageMaxSize||2097152,n.imageAccept=n.imageAccept||"image/png, image/jpeg, image/gif, image/avif",n.imageTexts=pi({},Tb,n.imageTexts||{}),n.errorMessages=pi({},Mb,n.errorMessages||{}),n.imagePathAbsolute=n.imagePathAbsolute||!1,n.imageCSRFName=n.imageCSRFName||"csrfmiddlewaretoken",n.imageCSRFHeader=n.imageCSRFHeader||!1,n.autosave!=null&&n.autosave.unique_id!=null&&n.autosave.unique_id!=""&&(n.autosave.uniqueId=n.autosave.unique_id),n.overlayMode&&n.overlayMode.combine===void 0&&(n.overlayMode.combine=!0),this.options=n,this.render(),n.initialValue&&(!this.options.autosave||this.options.autosave.foundSavedValue!==!0)&&this.value(n.initialValue),n.uploadImage){var d=this;this.codemirror.on("dragenter",function(m,y){d.updateStatusBar("upload-image",d.options.imageTexts.sbOnDragEnter),y.stopPropagation(),y.preventDefault()}),this.codemirror.on("dragend",function(m,y){d.updateStatusBar("upload-image",d.options.imageTexts.sbInit),y.stopPropagation(),y.preventDefault()}),this.codemirror.on("dragleave",function(m,y){d.updateStatusBar("upload-image",d.options.imageTexts.sbInit),y.stopPropagation(),y.preventDefault()}),this.codemirror.on("dragover",function(m,y){d.updateStatusBar("upload-image",d.options.imageTexts.sbOnDragEnter),y.stopPropagation(),y.preventDefault()}),this.codemirror.on("drop",function(m,y){y.stopPropagation(),y.preventDefault(),n.imageUploadFunction?d.uploadImagesUsingCustomFunction(n.imageUploadFunction,y.dataTransfer.files):d.uploadImages(y.dataTransfer.files)}),this.codemirror.on("paste",function(m,y){n.imageUploadFunction?d.uploadImagesUsingCustomFunction(n.imageUploadFunction,y.clipboardData.files):d.uploadImages(y.clipboardData.files)})}}de.prototype.uploadImages=function(n,t,r){if(n.length!==0){for(var a=[],u=0;u<n.length;u++)a.push(n[u].name),this.uploadImage(n[u],t,r);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",a.join(", ")))}};de.prototype.uploadImagesUsingCustomFunction=function(n,t){if(t.length!==0){for(var r=[],a=0;a<t.length;a++)r.push(t[a].name),this.uploadImageUsingCustomFunction(n,t[a]);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",r.join(", ")))}};de.prototype.updateStatusBar=function(n,t){if(this.gui.statusbar){var r=this.gui.statusbar.getElementsByClassName(n);r.length===1?this.gui.statusbar.getElementsByClassName(n)[0].textContent=t:r.length===0?console.log("EasyMDE: status bar item "+n+" was not found."):console.log("EasyMDE: Several status bar items named "+n+" was found.")}};de.prototype.markdown=function(n){if(Ea){var t;if(this.options&&this.options.renderingConfig&&this.options.renderingConfig.markedOptions?t=this.options.renderingConfig.markedOptions:t={},this.options&&this.options.renderingConfig&&this.options.renderingConfig.singleLineBreaks===!1?t.breaks=!1:t.breaks=!0,this.options&&this.options.renderingConfig&&this.options.renderingConfig.codeSyntaxHighlighting===!0){var r=this.options.renderingConfig.hljs||window.hljs;r&&(t.highlight=function(u,f){return f&&r.getLanguage(f)?r.highlight(f,u).value:r.highlightAuto(u).value})}Ea.setOptions(t);var a=Ea.parse(n);return this.options.renderingConfig&&typeof this.options.renderingConfig.sanitizerFunction=="function"&&(a=this.options.renderingConfig.sanitizerFunction.call(this,a)),a=wb(a),a=xb(a),a}};de.prototype.render=function(n){if(n||(n=this.element||document.getElementsByTagName("textarea")[0]),this._rendered&&this._rendered===n)return;this.element=n;var t=this.options,r=this,a={};for(var u in t.shortcuts)t.shortcuts[u]!==null&&Dn[u]!==null&&function(V){a[ud(t.shortcuts[V])]=function(){var O=Dn[V];typeof O=="function"?O(r):typeof O=="string"&&window.open(O,"_blank")}}(u);a.Enter="newlineAndIndentContinueMarkdownList",a.Tab="tabAndIndentMarkdownList",a["Shift-Tab"]="shiftTabAndUnindentMarkdownList",a.Esc=function(V){V.getOption("fullScreen")&&ar(r)},this.documentOnKeyDown=function(V){V=V||window.event,V.keyCode==27&&r.codemirror.getOption("fullScreen")&&ar(r)},document.addEventListener("keydown",this.documentOnKeyDown,!1);var f,d;t.overlayMode?(Br.defineMode("overlay-mode",function(V){return Br.overlayMode(Br.getMode(V,t.spellChecker!==!1?"spell-checker":"gfm"),t.overlayMode.mode,t.overlayMode.combine)}),f="overlay-mode",d=t.parsingConfig,d.gitHubSpice=!1):(f=t.parsingConfig,f.name="gfm",f.gitHubSpice=!1),t.spellChecker!==!1&&(f="spell-checker",d=t.parsingConfig,d.name="gfm",d.gitHubSpice=!1,typeof t.spellChecker=="function"?t.spellChecker({codeMirrorInstance:Br}):mb({codeMirrorInstance:Br}));function m(V,O,D){return{addNew:!1}}if(this.codemirror=Br.fromTextArea(n,{mode:f,backdrop:d,theme:t.theme!=null?t.theme:"easymde",tabSize:t.tabSize!=null?t.tabSize:2,indentUnit:t.tabSize!=null?t.tabSize:2,indentWithTabs:t.indentWithTabs!==!1,lineNumbers:t.lineNumbers===!0,autofocus:t.autofocus===!0,extraKeys:a,direction:t.direction,lineWrapping:t.lineWrapping!==!1,allowDropFileTypes:["text/plain"],placeholder:t.placeholder||n.getAttribute("placeholder")||"",styleSelectedText:t.styleSelectedText!=null?t.styleSelectedText:!Ga(),scrollbarStyle:t.scrollbarStyle!=null?t.scrollbarStyle:"native",configureMouse:m,inputStyle:t.inputStyle!=null?t.inputStyle:Ga()?"contenteditable":"textarea",spellcheck:t.nativeSpellcheck!=null?t.nativeSpellcheck:!0,autoRefresh:t.autoRefresh!=null?t.autoRefresh:!1}),this.codemirror.getScrollerElement().style.minHeight=t.minHeight,typeof t.maxHeight<"u"&&(this.codemirror.getScrollerElement().style.height=t.maxHeight),t.forceSync===!0){var y=this.codemirror;y.on("change",function(){y.save()})}this.gui={};var E=document.createElement("div");E.classList.add("EasyMDEContainer"),E.setAttribute("role","application");var B=this.codemirror.getWrapperElement();B.parentNode.insertBefore(E,B),E.appendChild(B),t.toolbar!==!1&&(this.gui.toolbar=this.createToolbar()),t.status!==!1&&(this.gui.statusbar=this.createStatusbar()),t.autosave!=null&&t.autosave.enabled===!0&&(this.autosave(),this.codemirror.on("change",function(){clearTimeout(r._autosave_timeout),r._autosave_timeout=setTimeout(function(){r.autosave()},r.options.autosave.submit_delay||r.options.autosave.delay||1e3)}));function M(V,O){var D,C=window.getComputedStyle(document.querySelector(".CodeMirror-sizer")).width.replace("px","");return V<C?D=O+"px":D=O/V*100+"%",D}var _=this;function W(V,O){V.setAttribute("data-img-src",O.url),V.setAttribute("style","--bg-image:url("+O.url+");--width:"+O.naturalWidth+"px;--height:"+M(O.naturalWidth,O.naturalHeight)),_.codemirror.setSize()}function U(){t.previewImagesInEditor&&E.querySelectorAll(".cm-image-marker").forEach(function(V){var O=V.parentElement;if(O.innerText.match(/^!\[.*?\]\(.*\)/g)&&!O.hasAttribute("data-img-src")){var D=O.innerText.match("\\((.*)\\)");if(window.EMDEimagesCache||(window.EMDEimagesCache={}),D&&D.length>=2){var C=D[1];if(t.imagesPreviewHandler){var x=t.imagesPreviewHandler(D[1]);typeof x=="string"&&(C=x)}if(window.EMDEimagesCache[C])W(O,window.EMDEimagesCache[C]);else{var S=document.createElement("img");S.onload=function(){window.EMDEimagesCache[C]={naturalWidth:S.naturalWidth,naturalHeight:S.naturalHeight,url:C},W(O,window.EMDEimagesCache[C])},S.src=C}}}})}this.codemirror.on("update",function(){U()}),this.gui.sideBySide=this.createSideBySide(),this._rendered=this.element,(t.autofocus===!0||n.autofocus)&&this.codemirror.focus();var X=this.codemirror;setTimeout((function(){X.refresh()}).bind(X),0)};de.prototype.cleanup=function(){document.removeEventListener("keydown",this.documentOnKeyDown)};function pd(){if(typeof localStorage=="object")try{localStorage.setItem("smde_localStorage",1),localStorage.removeItem("smde_localStorage")}catch{return!1}else return!1;return!0}de.prototype.autosave=function(){if(pd()){var n=this;if(this.options.autosave.uniqueId==null||this.options.autosave.uniqueId==""){console.log("EasyMDE: You must set a uniqueId to use the autosave feature");return}this.options.autosave.binded!==!0&&(n.element.form!=null&&n.element.form!=null&&n.element.form.addEventListener("submit",function(){clearTimeout(n.autosaveTimeoutId),n.autosaveTimeoutId=void 0,localStorage.removeItem("smde_"+n.options.autosave.uniqueId)}),this.options.autosave.binded=!0),this.options.autosave.loaded!==!0&&(typeof localStorage.getItem("smde_"+this.options.autosave.uniqueId)=="string"&&localStorage.getItem("smde_"+this.options.autosave.uniqueId)!=""&&(this.codemirror.setValue(localStorage.getItem("smde_"+this.options.autosave.uniqueId)),this.options.autosave.foundSavedValue=!0),this.options.autosave.loaded=!0);var t=n.value();t!==""?localStorage.setItem("smde_"+this.options.autosave.uniqueId,t):localStorage.removeItem("smde_"+this.options.autosave.uniqueId);var r=document.getElementById("autosaved");if(r!=null&&r!=null&&r!=""){var a=new Date,u=new Intl.DateTimeFormat([this.options.autosave.timeFormat.locale,"en-US"],this.options.autosave.timeFormat.format).format(a),f=this.options.autosave.text==null?"Autosaved: ":this.options.autosave.text;r.innerHTML=f+u}}else console.log("EasyMDE: localStorage not available, cannot autosave")};de.prototype.clearAutosavedValue=function(){if(pd()){if(this.options.autosave==null||this.options.autosave.uniqueId==null||this.options.autosave.uniqueId==""){console.log("EasyMDE: You must set a uniqueId to clear the autosave value");return}localStorage.removeItem("smde_"+this.options.autosave.uniqueId)}else console.log("EasyMDE: localStorage not available, cannot autosave")};de.prototype.openBrowseFileWindow=function(n,t){var r=this,a=this.gui.toolbar.getElementsByClassName("imageInput")[0];a.click();function u(f){r.options.imageUploadFunction?r.uploadImagesUsingCustomFunction(r.options.imageUploadFunction,f.target.files):r.uploadImages(f.target.files,n,t),a.removeEventListener("change",u)}a.addEventListener("change",u)};de.prototype.uploadImage=function(n,t,r){var a=this;t=t||function(E){hd(a,E)};function u(y){a.updateStatusBar("upload-image",y),setTimeout(function(){a.updateStatusBar("upload-image",a.options.imageTexts.sbInit)},1e4),r&&typeof r=="function"&&r(y),a.options.errorCallback(y)}function f(y){var E=a.options.imageTexts.sizeUnits.split(",");return y.replace("#image_name#",n.name).replace("#image_size#",Ns(n.size,E)).replace("#image_max_size#",Ns(a.options.imageMaxSize,E))}if(n.size>this.options.imageMaxSize){u(f(this.options.errorMessages.fileTooLarge));return}var d=new FormData;d.append("image",n),a.options.imageCSRFToken&&!a.options.imageCSRFHeader&&d.append(a.options.imageCSRFName,a.options.imageCSRFToken);var m=new XMLHttpRequest;m.upload.onprogress=function(y){if(y.lengthComputable){var E=""+Math.round(y.loaded*100/y.total);a.updateStatusBar("upload-image",a.options.imageTexts.sbProgress.replace("#file_name#",n.name).replace("#progress#",E))}},m.open("POST",this.options.imageUploadEndpoint),a.options.imageCSRFToken&&a.options.imageCSRFHeader&&m.setRequestHeader(a.options.imageCSRFName,a.options.imageCSRFToken),m.onload=function(){try{var y=JSON.parse(this.responseText)}catch{console.error("EasyMDE: The server did not return a valid json."),u(f(a.options.errorMessages.importError));return}this.status===200&&y&&!y.error&&y.data&&y.data.filePath?t((a.options.imagePathAbsolute?"":window.location.origin+"/")+y.data.filePath):y.error&&y.error in a.options.errorMessages?u(f(a.options.errorMessages[y.error])):y.error?u(f(y.error)):(console.error("EasyMDE: Received an unexpected response after uploading the image."+this.status+" ("+this.statusText+")"),u(f(a.options.errorMessages.importError)))},m.onerror=function(y){console.error("EasyMDE: An unexpected error occurred when trying to upload the image."+y.target.status+" ("+y.target.statusText+")"),u(a.options.errorMessages.importError)},m.send(d)};de.prototype.uploadImageUsingCustomFunction=function(n,t){var r=this;function a(d){hd(r,d)}function u(d){var m=f(d);r.updateStatusBar("upload-image",m),setTimeout(function(){r.updateStatusBar("upload-image",r.options.imageTexts.sbInit)},1e4),r.options.errorCallback(m)}function f(d){var m=r.options.imageTexts.sizeUnits.split(",");return d.replace("#image_name#",t.name).replace("#image_size#",Ns(t.size,m)).replace("#image_max_size#",Ns(r.options.imageMaxSize,m))}n.apply(this,[t,a,u])};de.prototype.setPreviewMaxHeight=function(){var n=this.codemirror,t=n.getWrapperElement(),r=t.nextSibling,a=parseInt(window.getComputedStyle(t).paddingTop),u=parseInt(window.getComputedStyle(t).borderTopWidth),f=parseInt(this.options.maxHeight),d=f+a*2+u*2,m=d.toString()+"px";r.style.height=m};de.prototype.createSideBySide=function(){var n=this.codemirror,t=n.getWrapperElement(),r=t.nextSibling;if(!r||!r.classList.contains("editor-preview-side")){if(r=document.createElement("div"),r.className="editor-preview-side",this.options.previewClass)if(Array.isArray(this.options.previewClass))for(var a=0;a<this.options.previewClass.length;a++)r.classList.add(this.options.previewClass[a]);else typeof this.options.previewClass=="string"&&r.classList.add(this.options.previewClass);t.parentNode.insertBefore(r,t.nextSibling)}if(typeof this.options.maxHeight<"u"&&this.setPreviewMaxHeight(),this.options.syncSideBySidePreviewScroll===!1)return r;var u=!1,f=!1;return n.on("scroll",function(d){if(u){u=!1;return}f=!0;var m=d.getScrollInfo().height-d.getScrollInfo().clientHeight,y=parseFloat(d.getScrollInfo().top)/m,E=(r.scrollHeight-r.clientHeight)*y;r.scrollTop=E}),r.onscroll=function(){if(f){f=!1;return}u=!0;var d=r.scrollHeight-r.clientHeight,m=parseFloat(r.scrollTop)/d,y=(n.getScrollInfo().height-n.getScrollInfo().clientHeight)*m;n.scrollTo(0,y)},r};de.prototype.createToolbar=function(n){if(n=n||this.options.toolbar,!(!n||n.length===0)){var t;for(t=0;t<n.length;t++)or[n[t]]!=null&&(n[t]=or[n[t]]);var r=document.createElement("div");r.className="editor-toolbar",r.setAttribute("role","toolbar");var a=this,u={};for(a.toolbar=n,t=0;t<n.length;t++)if(!(n[t].name=="guide"&&a.options.toolbarGuideIcon===!1)&&!(a.options.hideIcons&&a.options.hideIcons.indexOf(n[t].name)!=-1)&&!((n[t].name=="fullscreen"||n[t].name=="side-by-side")&&Ga())){if(n[t]==="|"){for(var f=!1,d=t+1;d<n.length;d++)n[d]!=="|"&&(!a.options.hideIcons||a.options.hideIcons.indexOf(n[d].name)==-1)&&(f=!0);if(!f)continue}(function(E){var B;if(E==="|"?B=kb():E.children?B=Cb(E,a.options.toolbarTips,a.options.shortcuts,a):B=Es(E,!0,a.options.toolbarTips,a.options.shortcuts,"button",a),u[E.name||E]=B,r.appendChild(B),E.name==="upload-image"){var M=document.createElement("input");M.className="imageInput",M.type="file",M.multiple=!0,M.name="image",M.accept=a.options.imageAccept,M.style.display="none",M.style.opacity=0,r.appendChild(M)}})(n[t])}a.toolbar_div=r,a.toolbarElements=u;var m=this.codemirror;m.on("cursorActivity",function(){var E=zi(m);for(var B in u)(function(M){var _=u[M];E[M]?_.classList.add("active"):M!="fullscreen"&&M!="side-by-side"&&_.classList.remove("active")})(B)});var y=m.getWrapperElement();return y.parentNode.insertBefore(r,y),r}};de.prototype.createStatusbar=function(n){n=n||this.options.status;var t=this.options,r=this.codemirror;if(!(!n||n.length===0)){var a=[],u,f,d,m;for(u=0;u<n.length;u++)if(f=void 0,d=void 0,m=void 0,typeof n[u]=="object")a.push({className:n[u].className,defaultValue:n[u].defaultValue,onUpdate:n[u].onUpdate,onActivity:n[u].onActivity});else{var y=n[u];y==="words"?(m=function(W){W.innerHTML=th(r.getValue())},f=function(W){W.innerHTML=th(r.getValue())}):y==="lines"?(m=function(W){W.innerHTML=r.lineCount()},f=function(W){W.innerHTML=r.lineCount()}):y==="cursor"?(m=function(W){W.innerHTML="1:1"},d=function(W){var U=r.getCursor(),X=U.line+1,V=U.ch+1;W.innerHTML=X+":"+V}):y==="autosave"?m=function(W){t.autosave!=null&&t.autosave.enabled===!0&&W.setAttribute("id","autosaved")}:y==="upload-image"&&(m=function(W){W.innerHTML=t.imageTexts.sbInit}),a.push({className:y,defaultValue:m,onUpdate:f,onActivity:d})}var E=document.createElement("div");for(E.className="editor-statusbar",u=0;u<a.length;u++){var B=a[u],M=document.createElement("span");M.className=B.className,typeof B.defaultValue=="function"&&B.defaultValue(M),typeof B.onUpdate=="function"&&this.codemirror.on("update",function(W,U){return function(){U.onUpdate(W)}}(M,B)),typeof B.onActivity=="function"&&this.codemirror.on("cursorActivity",function(W,U){return function(){U.onActivity(W)}}(M,B)),E.appendChild(M)}var _=this.codemirror.getWrapperElement();return _.parentNode.insertBefore(E,_.nextSibling),E}};de.prototype.value=function(n){var t=this.codemirror;if(n===void 0)return t.getValue();if(t.getDoc().setValue(n),this.isPreviewActive()){var r=t.getWrapperElement(),a=r.lastChild,u=this.options.previewRender(n,a);u!==null&&(a.innerHTML=u)}return this};de.toggleBold=Vs;de.toggleItalic=Ks;de.toggleStrikethrough=Gs;de.toggleBlockquote=Ys;de.toggleHeadingSmaller=An;de.toggleHeadingBigger=Zs;de.toggleHeading1=Js;de.toggleHeading2=Qs;de.toggleHeading3=eo;de.toggleHeading4=cl;de.toggleHeading5=hl;de.toggleHeading6=dl;de.toggleCodeBlock=Xs;de.toggleUnorderedList=to;de.toggleOrderedList=io;de.cleanBlock=ro;de.drawLink=no;de.drawImage=so;de.drawUploadedImage=fl;de.drawTable=oo;de.drawHorizontalRule=ao;de.undo=lo;de.redo=uo;de.togglePreview=co;de.toggleSideBySide=Hr;de.toggleFullScreen=ar;de.prototype.toggleBold=function(){Vs(this)};de.prototype.toggleItalic=function(){Ks(this)};de.prototype.toggleStrikethrough=function(){Gs(this)};de.prototype.toggleBlockquote=function(){Ys(this)};de.prototype.toggleHeadingSmaller=function(){An(this)};de.prototype.toggleHeadingBigger=function(){Zs(this)};de.prototype.toggleHeading1=function(){Js(this)};de.prototype.toggleHeading2=function(){Qs(this)};de.prototype.toggleHeading3=function(){eo(this)};de.prototype.toggleHeading4=function(){cl(this)};de.prototype.toggleHeading5=function(){hl(this)};de.prototype.toggleHeading6=function(){dl(this)};de.prototype.toggleCodeBlock=function(){Xs(this)};de.prototype.toggleUnorderedList=function(){to(this)};de.prototype.toggleOrderedList=function(){io(this)};de.prototype.cleanBlock=function(){ro(this)};de.prototype.drawLink=function(){no(this)};de.prototype.drawImage=function(){so(this)};de.prototype.drawUploadedImage=function(){fl(this)};de.prototype.drawTable=function(){oo(this)};de.prototype.drawHorizontalRule=function(){ao(this)};de.prototype.undo=function(){lo(this)};de.prototype.redo=function(){uo(this)};de.prototype.togglePreview=function(){co(this)};de.prototype.toggleSideBySide=function(){Hr(this)};de.prototype.toggleFullScreen=function(){ar(this)};de.prototype.isPreviewActive=function(){var n=this.codemirror,t=n.getWrapperElement(),r=t.lastChild;return r.classList.contains("editor-preview-active")};de.prototype.isSideBySideActive=function(){var n=this.codemirror,t=n.getWrapperElement(),r=t.nextSibling;return r.classList.contains("editor-preview-active-side")};de.prototype.isFullscreenActive=function(){var n=this.codemirror;return n.getOption("fullScreen")};de.prototype.getState=function(){var n=this.codemirror;return zi(n)};de.prototype.toTextArea=function(){var n=this.codemirror,t=n.getWrapperElement(),r=t.parentNode;r&&(this.gui.toolbar&&r.removeChild(this.gui.toolbar),this.gui.statusbar&&r.removeChild(this.gui.statusbar),this.gui.sideBySide&&r.removeChild(this.gui.sideBySide)),r.parentNode.insertBefore(t,r),r.remove(),n.toTextArea(),this.autosaveTimeoutId&&(clearTimeout(this.autosaveTimeoutId),this.autosaveTimeoutId=void 0,this.clearAutosavedValue())};var Bb=de;const Ob=Fh(Bb);var gd={exports:{}};(function(n,t){(function(r){n.exports=r()})(function(r){var a=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function u(O,D){var C=O[0],x=O[1],S=O[2],L=O[3];C+=(x&S|~x&L)+D[0]-680876936|0,C=(C<<7|C>>>25)+x|0,L+=(C&x|~C&S)+D[1]-389564586|0,L=(L<<12|L>>>20)+C|0,S+=(L&C|~L&x)+D[2]+606105819|0,S=(S<<17|S>>>15)+L|0,x+=(S&L|~S&C)+D[3]-1044525330|0,x=(x<<22|x>>>10)+S|0,C+=(x&S|~x&L)+D[4]-176418897|0,C=(C<<7|C>>>25)+x|0,L+=(C&x|~C&S)+D[5]+1200080426|0,L=(L<<12|L>>>20)+C|0,S+=(L&C|~L&x)+D[6]-1473231341|0,S=(S<<17|S>>>15)+L|0,x+=(S&L|~S&C)+D[7]-45705983|0,x=(x<<22|x>>>10)+S|0,C+=(x&S|~x&L)+D[8]+1770035416|0,C=(C<<7|C>>>25)+x|0,L+=(C&x|~C&S)+D[9]-1958414417|0,L=(L<<12|L>>>20)+C|0,S+=(L&C|~L&x)+D[10]-42063|0,S=(S<<17|S>>>15)+L|0,x+=(S&L|~S&C)+D[11]-1990404162|0,x=(x<<22|x>>>10)+S|0,C+=(x&S|~x&L)+D[12]+1804603682|0,C=(C<<7|C>>>25)+x|0,L+=(C&x|~C&S)+D[13]-40341101|0,L=(L<<12|L>>>20)+C|0,S+=(L&C|~L&x)+D[14]-1502002290|0,S=(S<<17|S>>>15)+L|0,x+=(S&L|~S&C)+D[15]+1236535329|0,x=(x<<22|x>>>10)+S|0,C+=(x&L|S&~L)+D[1]-165796510|0,C=(C<<5|C>>>27)+x|0,L+=(C&S|x&~S)+D[6]-1069501632|0,L=(L<<9|L>>>23)+C|0,S+=(L&x|C&~x)+D[11]+643717713|0,S=(S<<14|S>>>18)+L|0,x+=(S&C|L&~C)+D[0]-373897302|0,x=(x<<20|x>>>12)+S|0,C+=(x&L|S&~L)+D[5]-701558691|0,C=(C<<5|C>>>27)+x|0,L+=(C&S|x&~S)+D[10]+38016083|0,L=(L<<9|L>>>23)+C|0,S+=(L&x|C&~x)+D[15]-660478335|0,S=(S<<14|S>>>18)+L|0,x+=(S&C|L&~C)+D[4]-405537848|0,x=(x<<20|x>>>12)+S|0,C+=(x&L|S&~L)+D[9]+568446438|0,C=(C<<5|C>>>27)+x|0,L+=(C&S|x&~S)+D[14]-1019803690|0,L=(L<<9|L>>>23)+C|0,S+=(L&x|C&~x)+D[3]-187363961|0,S=(S<<14|S>>>18)+L|0,x+=(S&C|L&~C)+D[8]+1163531501|0,x=(x<<20|x>>>12)+S|0,C+=(x&L|S&~L)+D[13]-1444681467|0,C=(C<<5|C>>>27)+x|0,L+=(C&S|x&~S)+D[2]-51403784|0,L=(L<<9|L>>>23)+C|0,S+=(L&x|C&~x)+D[7]+1735328473|0,S=(S<<14|S>>>18)+L|0,x+=(S&C|L&~C)+D[12]-1926607734|0,x=(x<<20|x>>>12)+S|0,C+=(x^S^L)+D[5]-378558|0,C=(C<<4|C>>>28)+x|0,L+=(C^x^S)+D[8]-2022574463|0,L=(L<<11|L>>>21)+C|0,S+=(L^C^x)+D[11]+1839030562|0,S=(S<<16|S>>>16)+L|0,x+=(S^L^C)+D[14]-35309556|0,x=(x<<23|x>>>9)+S|0,C+=(x^S^L)+D[1]-1530992060|0,C=(C<<4|C>>>28)+x|0,L+=(C^x^S)+D[4]+1272893353|0,L=(L<<11|L>>>21)+C|0,S+=(L^C^x)+D[7]-155497632|0,S=(S<<16|S>>>16)+L|0,x+=(S^L^C)+D[10]-1094730640|0,x=(x<<23|x>>>9)+S|0,C+=(x^S^L)+D[13]+681279174|0,C=(C<<4|C>>>28)+x|0,L+=(C^x^S)+D[0]-358537222|0,L=(L<<11|L>>>21)+C|0,S+=(L^C^x)+D[3]-722521979|0,S=(S<<16|S>>>16)+L|0,x+=(S^L^C)+D[6]+76029189|0,x=(x<<23|x>>>9)+S|0,C+=(x^S^L)+D[9]-640364487|0,C=(C<<4|C>>>28)+x|0,L+=(C^x^S)+D[12]-421815835|0,L=(L<<11|L>>>21)+C|0,S+=(L^C^x)+D[15]+530742520|0,S=(S<<16|S>>>16)+L|0,x+=(S^L^C)+D[2]-995338651|0,x=(x<<23|x>>>9)+S|0,C+=(S^(x|~L))+D[0]-198630844|0,C=(C<<6|C>>>26)+x|0,L+=(x^(C|~S))+D[7]+1126891415|0,L=(L<<10|L>>>22)+C|0,S+=(C^(L|~x))+D[14]-1416354905|0,S=(S<<15|S>>>17)+L|0,x+=(L^(S|~C))+D[5]-57434055|0,x=(x<<21|x>>>11)+S|0,C+=(S^(x|~L))+D[12]+1700485571|0,C=(C<<6|C>>>26)+x|0,L+=(x^(C|~S))+D[3]-1894986606|0,L=(L<<10|L>>>22)+C|0,S+=(C^(L|~x))+D[10]-1051523|0,S=(S<<15|S>>>17)+L|0,x+=(L^(S|~C))+D[1]-2054922799|0,x=(x<<21|x>>>11)+S|0,C+=(S^(x|~L))+D[8]+1873313359|0,C=(C<<6|C>>>26)+x|0,L+=(x^(C|~S))+D[15]-30611744|0,L=(L<<10|L>>>22)+C|0,S+=(C^(L|~x))+D[6]-1560198380|0,S=(S<<15|S>>>17)+L|0,x+=(L^(S|~C))+D[13]+1309151649|0,x=(x<<21|x>>>11)+S|0,C+=(S^(x|~L))+D[4]-145523070|0,C=(C<<6|C>>>26)+x|0,L+=(x^(C|~S))+D[11]-1120210379|0,L=(L<<10|L>>>22)+C|0,S+=(C^(L|~x))+D[2]+718787259|0,S=(S<<15|S>>>17)+L|0,x+=(L^(S|~C))+D[9]-343485551|0,x=(x<<21|x>>>11)+S|0,O[0]=C+O[0]|0,O[1]=x+O[1]|0,O[2]=S+O[2]|0,O[3]=L+O[3]|0}function f(O){var D=[],C;for(C=0;C<64;C+=4)D[C>>2]=O.charCodeAt(C)+(O.charCodeAt(C+1)<<8)+(O.charCodeAt(C+2)<<16)+(O.charCodeAt(C+3)<<24);return D}function d(O){var D=[],C;for(C=0;C<64;C+=4)D[C>>2]=O[C]+(O[C+1]<<8)+(O[C+2]<<16)+(O[C+3]<<24);return D}function m(O){var D=O.length,C=[1732584193,-271733879,-1732584194,271733878],x,S,L,G,te,oe;for(x=64;x<=D;x+=64)u(C,f(O.substring(x-64,x)));for(O=O.substring(x-64),S=O.length,L=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],x=0;x<S;x+=1)L[x>>2]|=O.charCodeAt(x)<<(x%4<<3);if(L[x>>2]|=128<<(x%4<<3),x>55)for(u(C,L),x=0;x<16;x+=1)L[x]=0;return G=D*8,G=G.toString(16).match(/(.*?)(.{0,8})$/),te=parseInt(G[2],16),oe=parseInt(G[1],16)||0,L[14]=te,L[15]=oe,u(C,L),C}function y(O){var D=O.length,C=[1732584193,-271733879,-1732584194,271733878],x,S,L,G,te,oe;for(x=64;x<=D;x+=64)u(C,d(O.subarray(x-64,x)));for(O=x-64<D?O.subarray(x-64):new Uint8Array(0),S=O.length,L=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],x=0;x<S;x+=1)L[x>>2]|=O[x]<<(x%4<<3);if(L[x>>2]|=128<<(x%4<<3),x>55)for(u(C,L),x=0;x<16;x+=1)L[x]=0;return G=D*8,G=G.toString(16).match(/(.*?)(.{0,8})$/),te=parseInt(G[2],16),oe=parseInt(G[1],16)||0,L[14]=te,L[15]=oe,u(C,L),C}function E(O){var D="",C;for(C=0;C<4;C+=1)D+=a[O>>C*8+4&15]+a[O>>C*8&15];return D}function B(O){var D;for(D=0;D<O.length;D+=1)O[D]=E(O[D]);return O.join("")}B(m("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function O(D,C){return D=D|0||0,D<0?Math.max(D+C,0):Math.min(D,C)}ArrayBuffer.prototype.slice=function(D,C){var x=this.byteLength,S=O(D,x),L=x,G,te,oe,Be;return C!==r&&(L=O(C,x)),S>L?new ArrayBuffer(0):(G=L-S,te=new ArrayBuffer(G),oe=new Uint8Array(te),Be=new Uint8Array(this,S,G),oe.set(Be),te)}}();function M(O){return/[\u0080-\uFFFF]/.test(O)&&(O=unescape(encodeURIComponent(O))),O}function _(O,D){var C=O.length,x=new ArrayBuffer(C),S=new Uint8Array(x),L;for(L=0;L<C;L+=1)S[L]=O.charCodeAt(L);return D?S:x}function W(O){return String.fromCharCode.apply(null,new Uint8Array(O))}function U(O,D,C){var x=new Uint8Array(O.byteLength+D.byteLength);return x.set(new Uint8Array(O)),x.set(new Uint8Array(D),O.byteLength),C?x:x.buffer}function X(O){var D=[],C=O.length,x;for(x=0;x<C-1;x+=2)D.push(parseInt(O.substr(x,2),16));return String.fromCharCode.apply(String,D)}function V(){this.reset()}return V.prototype.append=function(O){return this.appendBinary(M(O)),this},V.prototype.appendBinary=function(O){this._buff+=O,this._length+=O.length;var D=this._buff.length,C;for(C=64;C<=D;C+=64)u(this._hash,f(this._buff.substring(C-64,C)));return this._buff=this._buff.substring(C-64),this},V.prototype.end=function(O){var D=this._buff,C=D.length,x,S=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],L;for(x=0;x<C;x+=1)S[x>>2]|=D.charCodeAt(x)<<(x%4<<3);return this._finish(S,C),L=B(this._hash),O&&(L=X(L)),this.reset(),L},V.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},V.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},V.prototype.setState=function(O){return this._buff=O.buff,this._length=O.length,this._hash=O.hash,this},V.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},V.prototype._finish=function(O,D){var C=D,x,S,L;if(O[C>>2]|=128<<(C%4<<3),C>55)for(u(this._hash,O),C=0;C<16;C+=1)O[C]=0;x=this._length*8,x=x.toString(16).match(/(.*?)(.{0,8})$/),S=parseInt(x[2],16),L=parseInt(x[1],16)||0,O[14]=S,O[15]=L,u(this._hash,O)},V.hash=function(O,D){return V.hashBinary(M(O),D)},V.hashBinary=function(O,D){var C=m(O),x=B(C);return D?X(x):x},V.ArrayBuffer=function(){this.reset()},V.ArrayBuffer.prototype.append=function(O){var D=U(this._buff.buffer,O,!0),C=D.length,x;for(this._length+=O.byteLength,x=64;x<=C;x+=64)u(this._hash,d(D.subarray(x-64,x)));return this._buff=x-64<C?new Uint8Array(D.buffer.slice(x-64)):new Uint8Array(0),this},V.ArrayBuffer.prototype.end=function(O){var D=this._buff,C=D.length,x=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],S,L;for(S=0;S<C;S+=1)x[S>>2]|=D[S]<<(S%4<<3);return this._finish(x,C),L=B(this._hash),O&&(L=X(L)),this.reset(),L},V.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},V.ArrayBuffer.prototype.getState=function(){var O=V.prototype.getState.call(this);return O.buff=W(O.buff),O},V.ArrayBuffer.prototype.setState=function(O){return O.buff=_(O.buff,!0),V.prototype.setState.call(this,O)},V.ArrayBuffer.prototype.destroy=V.prototype.destroy,V.ArrayBuffer.prototype._finish=V.prototype._finish,V.ArrayBuffer.hash=function(O,D){var C=y(new Uint8Array(O)),x=B(C);return D?X(x):x},V})})(gd);var _b=gd.exports;const Pb=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice;class ml{static create(t,r){new ml(t).create(r)}constructor(t){this.file=t,this.chunkSize=2097152,this.chunkCount=Math.ceil(this.file.size/this.chunkSize),this.chunkIndex=0}create(t){this.callback=t,this.md5Buffer=new _b.ArrayBuffer,this.fileReader=new FileReader,this.fileReader.addEventListener("load",r=>this.fileReaderDidLoad(r)),this.fileReader.addEventListener("error",r=>this.fileReaderDidError(r)),this.readNextChunk()}fileReaderDidLoad(t){if(this.md5Buffer.append(t.target.result),!this.readNextChunk()){const r=this.md5Buffer.end(!0),a=btoa(r);this.callback(null,a)}}fileReaderDidError(t){this.callback(`Error reading ${this.file.name}`)}readNextChunk(){if(this.chunkIndex<this.chunkCount||this.chunkIndex==0&&this.chunkCount==0){const t=this.chunkIndex*this.chunkSize,r=Math.min(t+this.chunkSize,this.file.size),a=Pb.call(this.file,t,r);return this.fileReader.readAsArrayBuffer(a),this.chunkIndex++,!0}else return!1}}function Rb(n){const t=md(document.head,`meta[name="${n}"]`);if(t)return t.getAttribute("content")}function Ib(n,t){typeof n=="string"&&(t=n,n=document);const r=n.querySelectorAll(t);return yd(r)}function md(n,t){return typeof n=="string"&&(t=n,n=document),n.querySelector(t)}function vd(n,t,r={}){const{disabled:a}=n,{bubbles:u,cancelable:f,detail:d}=r,m=document.createEvent("Event");m.initEvent(t,u||!0,f||!0),m.detail=d||{};try{n.disabled=!1,n.dispatchEvent(m)}finally{n.disabled=a}return m}function yd(n){return Array.isArray(n)?n:Array.from?Array.from(n):[].slice.call(n)}class Nb{constructor(t,r,a){this.file=t,this.attributes={filename:t.name,content_type:t.type||"application/octet-stream",byte_size:t.size,checksum:r},this.xhr=new XMLHttpRequest,this.xhr.open("POST",a,!0),this.xhr.responseType="json",this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.setRequestHeader("Accept","application/json"),this.xhr.setRequestHeader("X-Requested-With","XMLHttpRequest");const u=Rb("csrf-token");u!=null&&this.xhr.setRequestHeader("X-CSRF-Token",u),this.xhr.addEventListener("load",f=>this.requestDidLoad(f)),this.xhr.addEventListener("error",f=>this.requestDidError(f))}get status(){return this.xhr.status}get response(){const{responseType:t,response:r}=this.xhr;return t=="json"?r:JSON.parse(r)}create(t){this.callback=t,this.xhr.send(JSON.stringify({blob:this.attributes}))}requestDidLoad(t){if(this.status>=200&&this.status<300){const{response:r}=this,{direct_upload:a}=r;delete r.direct_upload,this.attributes=r,this.directUploadData=a,this.callback(null,this.toJSON())}else this.requestDidError(t)}requestDidError(t){this.callback(`Error creating Blob for "${this.file.name}". Status: ${this.status}`)}toJSON(){const t={};for(const r in this.attributes)t[r]=this.attributes[r];return t}}class jb{constructor(t){this.blob=t,this.file=t.file;const{url:r,headers:a}=t.directUploadData;this.xhr=new XMLHttpRequest,this.xhr.open("PUT",r,!0),this.xhr.responseType="text";for(const u in a)this.xhr.setRequestHeader(u,a[u]);this.xhr.addEventListener("load",u=>this.requestDidLoad(u)),this.xhr.addEventListener("error",u=>this.requestDidError(u))}create(t){this.callback=t,this.xhr.send(this.file.slice())}requestDidLoad(t){const{status:r,response:a}=this.xhr;r>=200&&r<300?this.callback(null,a):this.requestDidError(t)}requestDidError(t){this.callback(`Error storing "${this.file.name}". Status: ${this.xhr.status}`)}}let Hb=0;class bd{constructor(t,r,a){this.id=++Hb,this.file=t,this.url=r,this.delegate=a}create(t){ml.create(this.file,(r,a)=>{if(r){t(r);return}const u=new Nb(this.file,a,this.url);ih(this.delegate,"directUploadWillCreateBlobWithXHR",u.xhr),u.create(f=>{if(f)t(f);else{const d=new jb(u);ih(this.delegate,"directUploadWillStoreFileWithXHR",d.xhr),d.create(m=>{m?t(m):t(null,u.toJSON())})}})})}}function ih(n,t,...r){if(n&&typeof n[t]=="function")return n[t](...r)}class zb{constructor(t,r){this.input=t,this.file=r,this.directUpload=new bd(this.file,this.url,this),this.dispatch("initialize")}start(t){const r=document.createElement("input");r.type="hidden",r.name=this.input.name,this.input.insertAdjacentElement("beforebegin",r),this.dispatch("start"),this.directUpload.create((a,u)=>{a?(r.parentNode.removeChild(r),this.dispatchError(a)):r.value=u.signed_id,this.dispatch("end"),t(a)})}uploadRequestDidProgress(t){const r=t.loaded/t.total*100;r&&this.dispatch("progress",{progress:r})}get url(){return this.input.getAttribute("data-direct-upload-url")}dispatch(t,r={}){return r.file=this.file,r.id=this.directUpload.id,vd(this.input,`direct-upload:${t}`,{detail:r})}dispatchError(t){this.dispatch("error",{error:t}).defaultPrevented||alert(t)}directUploadWillCreateBlobWithXHR(t){this.dispatch("before-blob-request",{xhr:t})}directUploadWillStoreFileWithXHR(t){this.dispatch("before-storage-request",{xhr:t}),t.upload.addEventListener("progress",r=>this.uploadRequestDidProgress(r))}}const Wb="input[type=file][data-direct-upload-url]:not([disabled])";class $b{constructor(t){this.form=t,this.inputs=Ib(t,Wb).filter(r=>r.files.length)}start(t){const r=this.createDirectUploadControllers(),a=()=>{const u=r.shift();u?u.start(f=>{f?(t(f),this.dispatch("end")):a()}):(t(),this.dispatch("end"))};this.dispatch("start"),a()}createDirectUploadControllers(){const t=[];return this.inputs.forEach(r=>{yd(r.files).forEach(a=>{const u=new zb(r,a);t.push(u)})}),t}dispatch(t,r={}){return vd(this.form,`direct-uploads:${t}`,{detail:r})}}const Da="data-direct-uploads-processing",Xa=new WeakMap;let rh=!1;function qb(){rh||(rh=!0,document.addEventListener("click",Ub,!0),document.addEventListener("submit",Vb,!0),document.addEventListener("ajax:before",Kb))}function Ub(n){const{target:t}=n;(t.tagName=="INPUT"||t.tagName=="BUTTON")&&t.type=="submit"&&t.form&&Xa.set(t.form,t)}function Vb(n){wd(n)}function Kb(n){n.target.tagName=="FORM"&&wd(n)}function wd(n){const t=n.target;if(t.hasAttribute(Da)){n.preventDefault();return}const r=new $b(t),{inputs:a}=r;a.length&&(n.preventDefault(),t.setAttribute(Da,""),a.forEach(Xb),r.start(u=>{t.removeAttribute(Da),u?a.forEach(Yb):Gb(t)}))}function Gb(n){let t=Xa.get(n)||md(n,"input[type=submit], button[type=submit]");if(t){const{disabled:r}=t;t.disabled=!1,t.focus(),t.click(),t.disabled=r}else t=document.createElement("input"),t.type="submit",t.style.display="none",n.appendChild(t),t.click(),n.removeChild(t);Xa.delete(n)}function Xb(n){n.disabled=!0}function Yb(n){n.disabled=!1}function Zb(){window.ActiveStorage&&qb()}setTimeout(Zb,1);class Ya extends ft{connect(){this.element.querySelector(".EasyMDEContainer")||(this.element.easyMDE=new Ob({element:this.editorTarget,placeholder:this.placeholderValue,toolbar:!1,status:!1,tabSize:2,indentWithTabs:!1,minHeight:this.minHeightValue,spellChecker:!1,imagePathAbsolute:!0,uploadImage:!0,shortcuts:{togglePreview:null},imageAccept:["image/jpeg","image/png","image/gif","image/webp"],imageUploadFunction:this.uploadFile}),document.addEventListener("keydown",t=>{t.key==="p"&&(t.ctrlKey||t.metaKey)&&t.shiftKey&&(t.preventDefault(),t.stopPropagation(),this.previewTarget.classList.contains("hidden")?this.preview():this.edit())}),this.element.addEventListener("edit",()=>{this.element.easyMDE.codemirror.refresh(),this.element.easyMDE.codemirror.focus()}),this.submit=this.element.querySelector("input[type='submit']"),this.element.addEventListener("keydown",t=>{t.key==="Enter"&&(t.ctrlKey||t.metaKey)&&(t.preventDefault(),this.submit.click())}),this.updateSubmitState(),this.element.easyMDE.codemirror.on("change",()=>{this.updateSubmitState()}))}updateSubmitState(){this.element.easyMDE.value()===""?(this.previewButtonTarget.disabled=!0,this.previewButtonTarget.classList.add("opacity-30"),this.submit.disabled=!0):(this.previewButtonTarget.disabled=!1,this.submit.disabled=!1,this.previewButtonTarget.classList.remove("opacity-30"))}async preview(){this.previewTarget.classList.remove("hidden"),this.previewButtonTarget.classList.add("hidden"),this.editorContainerTarget.classList.add("hidden"),this.editorButtonTarget.classList.remove("hidden");const r=await(await fetch("/api/v1/posts/preview",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-Token":document.querySelector("meta[name='csrf-token']").getAttribute("content")},body:JSON.stringify({post:{body:this.element.easyMDE.value()}})})).json();this.previewTarget.innerHTML=r.body,window.hljs.highlightAll(),twttr.widgets.load()}async edit(){this.previewTarget.classList.add("hidden"),this.previewButtonTarget.classList.remove("hidden"),this.editorContainerTarget.classList.remove("hidden"),this.editorButtonTarget.classList.add("hidden"),this.element.easyMDE.codemirror.focus()}clear(){this.element.easyMDE.value(""),this.previewTarget.innerHTML=""}async uploadFile(t,r,a){this.element.toast=Ts({text:"...",gravity:"bottom",position:"right",backgroundColor:"#444",style:{"font-weight":"bold","font-size":"14px"}}),this.element.toast.showToast();const u="/rails/active_storage/direct_uploads";new bd(t,u).create(async(d,m)=>{if(d)a(d),Ts({text:"",gravity:"bottom",duration:3e3,position:"right",backgroundColor:"#ba5649",style:{"font-weight":"bold","font-size":"14px"}}).showToast();else{const y=document.createElement("input");y.setAttribute("type","hidden"),y.setAttribute("value",m.signed_id),y.name="post[images][]",this.element.appendChild(y),console.log(y);const M=(await(await fetch("/api/v1/blobs/"+m.signed_id+"/url",{method:"GET",headers:{"Content-Type":"application/json","X-CSRF-Token":document.querySelector("meta[name='csrf-token']").getAttribute("content")}})).json()).url;r(M),this.element.toast.hideToast()}})}}Rt(Ya,"values",{minHeight:String,placeholder:String,directUploadUrl:String}),Rt(Ya,"targets",["editor","preview","editorContainer","editorButton","previewButton","file"]);class xd extends ft{toggle(){this.dropdownTarget.classList.toggle("hidden"),this.backdropTarget.classList.toggle("hidden")}}Rt(xd,"targets",["dropdown","backdrop"]);class Cd extends ft{connect(){new MutationObserver(r=>{r.forEach(a=>{a.type==="childList"&&this.toggleIndicator()})}).observe(this.dropdownTarget,{childList:!0}),document.documentElement.addEventListener("turbo:frame-render",()=>{this.toggleIndicator()})}toggle(){this.dropdownTarget.classList.toggle("hidden"),this.backdropTarget.classList.toggle("hidden")}async read(){const t=this.element.querySelectorAll(".unread"),r=[];t.forEach(a=>{a.classList.remove("unread"),a.classList.add("read"),r.push(a.dataset.id)}),this.toggleIndicator(),await fetch("/api/v1/notifications/read",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-Token":document.querySelector("meta[name='csrf-token']").getAttribute("content")}})}toggleIndicator(){const t=this.element.querySelectorAll(".unread");if(t.length>0){this.indicatorTarget.classList.remove("hidden");const r=document.title;r.match(/^\(\d+\)\s/)?document.title=r.replace(/^\(\d+\)/,`(${t.length})`):document.title=`(${t.length}) ${r}`}else this.indicatorTarget.classList.add("hidden"),document.title=document.title.replace(/^\(\d+\)\s/,"")}}Rt(Cd,"targets",["dropdown","backdrop","read","unread","indicator"]);class kd extends ft{edit(){this.editorTarget.classList.remove("hidden"),this.showTarget.classList.add("hidden"),this.editorTarget.focus(),this.editButtonTarget.classList.add("hidden"),this.closeButtonTarget.classList.remove("hidden"),this.deleteButtonTarget.classList.add("hidden"),this.menuTarget.classList.add("hidden"),this.element.querySelector("#post-form").dispatchEvent(new Event("edit"))}close(){this.editorTarget.classList.add("hidden"),this.showTarget.classList.remove("hidden"),this.editButtonTarget.classList.remove("hidden"),this.closeButtonTarget.classList.add("hidden"),this.deleteButtonTarget.classList.remove("hidden"),this.menuTarget.classList.remove("hidden")}}Rt(kd,"targets",["editor","show","editButton","closeButton","deleteButton","menu"]);class Sd extends ft{connect(){this.switch()}toggle(){localStorage.theme==="dark"?localStorage.removeItem("theme"):localStorage.theme="dark",this.switch()}switch(){const t=document.querySelectorAll(".twitter-tweet");localStorage.theme==="dark"?(document.querySelector("body").classList.add("dark"),t&&t.forEach(r=>{r.dataset.theme="dark"}),this.darkTarget.classList.add("hidden"),this.lightTarget.classList.remove("hidden")):(document.querySelector("body").classList.remove("dark"),t&&t.forEach(r=>{r.dataset.theme=""}),this.lightTarget.classList.add("hidden"),this.darkTarget.classList.remove("hidden"))}}Rt(Sd,"targets",["dark","light"]);class Jb extends ft{connect(){document.documentElement.addEventListener("turbo:before-stream-render",t=>{t.detail.newStream.getAttribute("target")==="form"&&this.scroll()})}async sleep(t){return new Promise(r=>setTimeout(r,t))}async scroll(){await this.sleep(300),window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})}}class Qb extends ft{connect(){this.element.addEventListener("click",this.scroll.bind(this))}scroll(){window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})}}class Ed extends ft{connect(){let t;localStorage.theme==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?t="dark":t="light",tippy(this.element,{content:this.textValue,theme:t,animateFill:!0})}}Rt(Ed,"values",{text:String});class e1 extends ft{clear(){this.element.reset(),this.element.easyMDE&&this.element.easyMDE.value("")}}class t1 extends ft{connect(){twttr.widgets.load();const t=this.element.querySelectorAll(".twitter-tweet");localStorage.theme==="dark"&&t&&t.forEach(r=>{r.dataset.theme="dark"})}}const Lt=Jm.start();Lt.register("code-block",Mh);Lt.register("copy-url",Bh);Lt.register("emoji-picker",rd);Lt.register("file-field",Va);Lt.register("image-modal",ib);Lt.register("markdown",Ya);Lt.register("menu",xd);Lt.register("notification",Cd);Lt.register("post-show",kd);Lt.register("theme",Sd);Lt.register("thread",Jb);Lt.register("tobottom",Qb);Lt.register("tooltip",Ed);Lt.register("turbo-form",e1);Lt.register("twitter",t1);
